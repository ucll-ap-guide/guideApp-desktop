"use strict";var v5=Object.defineProperty,_5=Object.defineProperties,b5=Object.getOwnPropertyDescriptors,Fw=Object.getOwnPropertySymbols,D5=Object.prototype.hasOwnProperty,w5=Object.prototype.propertyIsEnumerable,Pw=(R,y,T)=>y in R?v5(R,y,{enumerable:!0,configurable:!0,writable:!0,value:T}):R[y]=T,Nu=(R,y)=>{for(var T in y||(y={}))D5.call(y,T)&&Pw(R,T,y[T]);if(Fw)for(var T of Fw(y))w5.call(y,T)&&Pw(R,T,y[T]);return R},mp=(R,y)=>_5(R,b5(y));(self.webpackChunkguideApp_desktop=self.webpackChunkguideApp_desktop||[]).push([[179],{801:(R,y,T)=>{function v(n){return"function"==typeof n}function I(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const A=I(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function b(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class P{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(v(r))try{r()}catch(o){e=o instanceof A?o.errors:[o]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const o of i)try{k(o)}catch(s){e=null!=e?e:[],s instanceof A?e=[...e,...s.errors]:e.push(s)}}if(e)throw new A(e)}}add(e){var t;if(e&&e!==this)if(this.closed)k(e);else{if(e instanceof P){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&b(t,e)}remove(e){const{_teardowns:t}=this;t&&b(t,e),e instanceof P&&e._removeParent(this)}}P.EMPTY=(()=>{const n=new P;return n.closed=!0,n})();const Z=P.EMPTY;function $(n){return n instanceof P||n&&"closed"in n&&v(n.remove)&&v(n.add)&&v(n.unsubscribe)}function k(n){v(n)?n():n.unsubscribe()}const N={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},H={setTimeout(...n){const{delegate:e}=H;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=H;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function z(n){H.setTimeout(()=>{const{onUnhandledError:e}=N;if(!e)throw n;e(n)})}function ee(){}const ie=B("C",void 0,void 0);function B(n,e,t){return{kind:n,value:e,error:t}}let V=null;function pe(n){if(N.useDeprecatedSynchronousErrorHandling){const e=!V;if(e&&(V={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=V;if(V=null,t)throw r}}else n()}class Ar extends P{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$(e)&&e.add(this)):this.destination=ur}static create(e,t,r){return new Ai(e,t,r)}next(e){this.isStopped?Po(function Qe(n){return B("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Po(function me(n){return B("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Po(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xr=Function.prototype.bind;function Si(n,e){return Xr.call(n,e)}class ra{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ei(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ei(r)}else ei(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ei(t)}}}class Ai extends Ar{constructor(e,t,r){let i;if(super(),v(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let o;this&&N.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Si(e.next,o),error:e.error&&Si(e.error,o),complete:e.complete&&Si(e.complete,o)}):i=e}this.destination=new ra(i)}}function ei(n){N.useDeprecatedSynchronousErrorHandling?function Pe(n){N.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=n)}(n):z(n)}function Po(n,e){const{onStoppedNotification:t}=N;t&&H.setTimeout(()=>t(n,e))}const ur={closed:!0,next:ee,error:function ia(n){throw n},complete:ee},Ir="function"==typeof Symbol&&Symbol.observable||"@@observable";function Gt(n){return n}let Ze=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Fu(n){return n&&n instanceof Ar||function Ou(n){return n&&v(n.next)&&v(n.error)&&v(n.complete)}(n)&&$(n)}(t)?t:new Ai(t,r,i);return pe(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=oa(r))((i,o)=>{const s=new Ai({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Ir](){return this}pipe(...t){return function Ro(n){return 0===n.length?Gt:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=oa(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function oa(n){var e;return null!==(e=null!=n?n:N.Promise)&&void 0!==e?e:Promise}const sa=I(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ct=(()=>{class n extends Ze{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new U(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new sa}next(t){pe(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){pe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){pe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Z:(o.push(t),new P(()=>b(o,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Ze;return t.source=this,t}}return n.create=(e,t)=>new U(e,t),n})();class U extends ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Z}}function _(n){return v(null==n?void 0:n.lift)}function w(n){return e=>{if(_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function x(n,e,t,r,i){return new ae(n,e,t,r,i)}class ae extends Ar{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Y(n,e){return w((t,r)=>{let i=0;t.subscribe(x(r,o=>{r.next(n.call(e,o,i++))}))})}function ti(n){return this instanceof ti?(this.v=n,this):new ti(n)}function Lw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,C){o.push([f,h,p,C])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof ti?Promise.resolve(f.value.v).then(u,c):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Vw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Dp(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const wp=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Cp(n){return v(null==n?void 0:n.then)}function Ep(n){return v(n[Ir])}function Mp(n){return Symbol.asyncIterator&&v(null==n?void 0:n[Symbol.asyncIterator])}function Tp(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Sp=function Bw(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ap(n){return v(null==n?void 0:n[Sp])}function Ip(n){return Lw(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ti(t.read());if(i)return yield ti(void 0);yield yield ti(r)}}finally{t.releaseLock()}})}function xp(n){return v(null==n?void 0:n.getReader)}function qn(n){if(n instanceof Ze)return n;if(null!=n){if(Ep(n))return function Hw(n){return new Ze(e=>{const t=n[Ir]();if(v(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(wp(n))return function $w(n){return new Ze(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Cp(n))return function Uw(n){return new Ze(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,z)})}(n);if(Mp(n))return Np(n);if(Ap(n))return function Gw(n){return new Ze(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(xp(n))return function qw(n){return Np(Ip(n))}(n)}throw Tp(n)}function Np(n){return new Ze(e=>{(function zw(n,e){var t,r,i,o;return function Rw(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Vw(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function cr(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function bt(n,e,t=1/0){return v(e)?bt((r,i)=>Y((o,s)=>e(r,o,i,s))(qn(n(r,i))),t):("number"==typeof e&&(t=e),w((r,i)=>function Ww(n,e,t,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&e.complete()},h=C=>u<r?p(C):l.push(C),p=C=>{o&&e.next(C),u++;let S=!1;qn(t(C,c++)).subscribe(x(e,M=>{null==i||i(M),o?h(M):e.next(M)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;l.length&&u<r;){const M=l.shift();s?cr(e,s,()=>p(M)):p(M)}f()}catch(M){e.error(M)}}))};return n.subscribe(x(e,h,()=>{d=!0,f()})),()=>{null==a||a()}}(r,i,n,t)))}function ko(n=1/0){return bt(Gt,n)}const dr=new Ze(n=>n.complete());function Pu(n){return n[n.length-1]}function Op(n){return v(Pu(n))?n.pop():void 0}function Lo(n){return function Qw(n){return n&&v(n.schedule)}(Pu(n))?n.pop():void 0}function Fp(n,e=0){return w((t,r)=>{t.subscribe(x(r,i=>cr(r,n,()=>r.next(i),e),()=>cr(r,n,()=>r.complete(),e),i=>cr(r,n,()=>r.error(i),e)))})}function Pp(n,e=0){return w((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Rp(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ze(t=>{cr(t,e,()=>{const r=n[Symbol.asyncIterator]();cr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Dt(n,e){return e?function nC(n,e){if(null!=n){if(Ep(n))return function Yw(n,e){return qn(n).pipe(Pp(e),Fp(e))}(n,e);if(wp(n))return function Xw(n,e){return new Ze(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Cp(n))return function Jw(n,e){return qn(n).pipe(Pp(e),Fp(e))}(n,e);if(Mp(n))return Rp(n,e);if(Ap(n))return function eC(n,e){return new Ze(t=>{let r;return cr(t,e,()=>{r=n[Sp](),cr(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>v(null==r?void 0:r.return)&&r.return()})}(n,e);if(xp(n))return function tC(n,e){return Rp(Ip(n),e)}(n,e)}throw Tp(n)}(n,e):qn(n)}function aa(n){return n<=0?()=>dr:w((e,t)=>{let r=0;e.subscribe(x(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ru(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(aa(1)).subscribe(()=>n())}function je(n){for(let e in n)if(n[e]===je)return e;throw Error("Could not find renamed property on target object.")}function ku(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Re(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Re).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Lu(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const oC=je({__forward_ref__:je});function $e(n){return n.__forward_ref__=$e,n.toString=function(){return Re(this())},n}function Ce(n){return kp(n)?n():n}function kp(n){return"function"==typeof n&&n.hasOwnProperty(oC)&&n.__forward_ref__===$e}class W extends Error{constructor(e,t){super(function Vu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ve(n){return"string"==typeof n?n:null==n?"":String(n)}function Rt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ve(n)}function la(n,e){const t=e?` in ${e}`:"";throw new W(-201,`No provider for ${Rt(n)} found${t}`)}function Yt(n,e){null==n&&function qe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function oe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ju(n){return Lp(n,ua)||Lp(n,jp)}function Lp(n,e){return n.hasOwnProperty(e)?n[e]:null}function Vp(n){return n&&(n.hasOwnProperty(Bu)||n.hasOwnProperty(fC))?n[Bu]:null}const ua=je({\u0275prov:je}),Bu=je({\u0275inj:je}),jp=je({ngInjectableDef:je}),fC=je({ngInjectorDef:je});var ye=(()=>((ye=ye||{})[ye.Default=0]="Default",ye[ye.Host=1]="Host",ye[ye.Self=2]="Self",ye[ye.SkipSelf=4]="SkipSelf",ye[ye.Optional=8]="Optional",ye))();let Hu;function xr(n){const e=Hu;return Hu=n,e}function Bp(n,e,t){const r=ju(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ye.Optional?null:void 0!==e?e:void la(Re(n),"Injector")}function Nr(n){return{toString:n}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),In=(()=>{return(n=In||(In={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",In;var n})();const pC="undefined"!=typeof globalThis&&globalThis,gC="undefined"!=typeof window&&window,mC="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ve=pC||"undefined"!=typeof global&&global||gC||mC,Ii={},Be=[],ca=je({\u0275cmp:je}),$u=je({\u0275dir:je}),Uu=je({\u0275pipe:je}),Hp=je({\u0275mod:je}),hr=je({\u0275fac:je}),Vo=je({__NG_ELEMENT_ID__:je});let yC=0;function pn(n){return Nr(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Be,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||In.Emulated,id:"c",styles:n.styles||Be,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,o=n.features,s=n.pipes;return r.id+=yC++,r.inputs=qp(n.inputs,t),r.outputs=qp(n.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map($p):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Up):null,r})}function $p(n){return At(n)||function Or(n){return n[$u]||null}(n)}function Up(n){return function ni(n){return n[Uu]||null}(n)}const Gp={};function qt(n){return Nr(()=>{const e={type:n.type,bootstrap:n.bootstrap||Be,declarations:n.declarations||Be,imports:n.imports||Be,exports:n.exports||Be,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Gp[n.id]=n.type),e})}function qp(n,e){if(null==n)return Ii;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const ce=pn;function At(n){return n[ca]||null}function gn(n,e){const t=n[Hp]||null;if(!t&&!0===e)throw new Error(`Type ${Re(n)} does not have '\u0275mod' property.`);return t}function zn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Nn(n){return Array.isArray(n)&&!0===n[1]}function zu(n){return 0!=(8&n.flags)}function pa(n){return 2==(2&n.flags)}function ga(n){return 1==(1&n.flags)}function On(n){return null!==n.template}function CC(n){return 0!=(512&n[2])}function si(n,e){return n.hasOwnProperty(hr)?n[hr]:null}class TC{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Xt(){return Wp}function Wp(n){return n.type.prototype.ngOnChanges&&(n.setInput=AC),SC}function SC(){const n=Qp(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Ii)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function AC(n,e,t,r){const i=Qp(n)||function IC(n,e){return n[Kp]=e}(n,{previous:Ii,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],l=s[a];o[a]=new TC(l&&l.currentValue,e,s===Ii),n[r]=e}Xt.ngInherit=!0;const Kp="__ngSimpleChanges__";function Qp(n){return n[Kp]||null}let Yu;function Ju(){return void 0!==Yu?Yu:"undefined"!=typeof document?document:void 0}function nt(n){return!!n.listen}const Zp={createRenderer:(n,e)=>Ju()};function dt(n){for(;Array.isArray(n);)n=n[0];return n}function ma(n,e){return dt(e[n])}function vn(n,e){return dt(e[n.index])}function Xu(n,e){return n.data[e]}function en(n,e){const t=e[n];return zn(t)?t:t[0]}function ec(n){return 128==(128&n[2])}function Fr(n,e){return null==e?null:n[e]}function Jp(n){n[18]=0}function tc(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ge={lFrame:sg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Xp(){return ge.bindingsEnabled}function F(){return ge.lFrame.lView}function Ne(){return ge.lFrame.tView}function Fe(n){return ge.lFrame.contextLView=n,n[8]}function gt(){let n=eg();for(;null!==n&&64===n.type;)n=n.parent;return n}function eg(){return ge.lFrame.currentTNode}function Wn(n,e){const t=ge.lFrame;t.currentTNode=n,t.isParent=e}function nc(){return ge.lFrame.isParent}function rc(){ge.lFrame.isParent=!1}function ya(){return ge.isInCheckNoChangesMode}function va(n){ge.isInCheckNoChangesMode=n}function Lt(){const n=ge.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ri(){return ge.lFrame.bindingIndex++}function gr(n){const e=ge.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function zC(n,e){const t=ge.lFrame;t.bindingIndex=t.bindingRootIndex=n,ic(e)}function ic(n){ge.lFrame.currentDirectiveIndex=n}function oc(n){const e=ge.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function sc(n){ge.lFrame.currentQueryIndex=n}function KC(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ig(n,e,t){if(t&ye.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&ye.Host||(i=KC(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=ge.lFrame=og();return r.currentTNode=e,r.lView=n,!0}function _a(n){const e=og(),t=n[1];ge.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function og(){const n=ge.lFrame,e=null===n?null:n.child;return null===e?sg(n):e}function sg(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ag(){const n=ge.lFrame;return ge.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const lg=ag;function ba(){const n=ag();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vt(){return ge.lFrame.selectedIndex}function Pr(n){ge.lFrame.selectedIndex=n}function rt(){const n=ge.lFrame;return Xu(n.tView,n.selectedIndex)}function at(){ge.lFrame.currentNamespace="svg"}function Tt(){!function JC(){ge.lFrame.currentNamespace=null}()}function Da(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),u&&((n.viewHooks||(n.viewHooks=[])).push(t,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,u)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function wa(n,e,t){ug(n,e,3,t)}function Ca(n,e,t,r){(3&n[2])===t&&ug(n,e,t,r)}function ac(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function ug(n,e,t,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(tE(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function tE(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Uo{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Ea(n,e,t){const r=nt(n);let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const s=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=t[++i];uc(s)?r&&n.setProperty(e,s,a):r?n.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function cg(n){return 3===n||4===n||6===n}function uc(n){return 64===n.charCodeAt(0)}function Ma(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||dg(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function dg(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function fg(n){return-1!==n}function ki(n){return 32767&n}function Li(n,e){let t=function sE(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let cc=!0;function Ta(n){const e=cc;return cc=n,e}let aE=0;function qo(n,e){const t=fc(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,dc(r.data,n),dc(e,null),dc(r.blueprint,null));const i=Sa(n,e),o=n.injectorIndex;if(fg(i)){const s=ki(i),a=Li(i,e),l=a[1].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function dc(n,e){n.push(0,0,0,0,0,0,0,0,e)}function fc(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Sa(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Aa(n,e,t){!function lE(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Vo)&&(r=t[Vo]),null==r&&(r=t[Vo]=aE++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function gg(n,e,t){if(t&ye.Optional)return n;la(e,"NodeInjector")}function mg(n,e,t,r){if(t&ye.Optional&&void 0===r&&(r=null),0==(t&(ye.Self|ye.Host))){const i=n[9],o=xr(void 0);try{return i?i.get(e,r,t&ye.Optional):Bp(e,r,t&ye.Optional)}finally{xr(o)}}return gg(r,e,t)}function yg(n,e,t,r=ye.Default,i){if(null!==n){const o=function fE(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Vo)?n[Vo]:void 0;return"number"==typeof e?e>=0?255&e:cE:e}(t);if("function"==typeof o){if(!ig(e,n,r))return r&ye.Host?gg(i,t,r):mg(e,t,r,i);try{const s=o(r);if(null!=s||r&ye.Optional)return s;la(t)}finally{lg()}}else if("number"==typeof o){let s=null,a=fc(n,e),l=-1,u=r&ye.Host?e[16][6]:null;for((-1===a||r&ye.SkipSelf)&&(l=-1===a?Sa(n,e):e[a+8],-1!==l&&bg(r,!1)?(s=e[1],a=ki(l),e=Li(l,e)):a=-1);-1!==a;){const c=e[1];if(_g(o,a,c.data)){const d=dE(a,e,t,s,r,u);if(d!==vg)return d}l=e[a+8],-1!==l&&bg(r,e[1].data[a+8]===u)&&_g(o,a,e)?(s=c,a=ki(l),e=Li(l,e)):a=-1}}}return mg(e,t,r,i)}const vg={};function cE(){return new Vi(gt(),F())}function dE(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],c=function Ia(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,c=o>>20,f=i?a+c:n.directiveEnd;for(let h=r?a:a+c;h<f;h++){const p=s[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(i){const h=s[l];if(h&&On(h)&&h.type===t)return l}return null}(a,s,t,null==r?pa(a)&&cc:r!=s&&0!=(3&a.type),i&ye.Host&&o===a);return null!==c?zo(e,s,c,a):vg}function zo(n,e,t,r){let i=n[t];const o=e.data;if(function nE(n){return n instanceof Uo}(i)){const s=i;s.resolving&&function sC(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new W(-200,`Circular dependency in DI detected for ${n}${t}`)}(Rt(o[t]));const a=Ta(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?xr(s.injectImpl):null;ig(n,r,ye.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function eE(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Wp(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&xr(l),Ta(a),s.resolving=!1,lg()}}return i}function _g(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function bg(n,e){return!(n&ye.Self||n&ye.Host&&e)}class Vi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return yg(this._tNode,this._lView,e,r,t)}}function xt(n){return Nr(()=>{const e=n.prototype.constructor,t=e[hr]||hc(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[hr]||hc(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function hc(n){return kp(n)?()=>{const e=hc(Ce(n));return e&&e()}:si(n)}const Bi="__parameters__";function $i(n,e,t){return Nr(()=>{const r=function pc(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(Bi)?l[Bi]:Object.defineProperty(l,Bi,{value:[]})[Bi];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class be{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=oe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const pE=new be("AnalyzeForEntryComponents");function Kn(n,e){n.forEach(t=>Array.isArray(t)?Kn(t,e):e(t))}function wg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function xa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function tn(n,e,t){let r=Ui(n,e);return r>=0?n[1|r]=t:(r=~r,function yE(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function mc(n,e){const t=Ui(n,e);if(t>=0)return n[1|t]}function Ui(n,e){return function Mg(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Yo={},vc="__NG_DI_FLAG__",Oa="ngTempTokenPath",EE=/\n/gm,Sg="__source",TE=je({provide:String,useValue:je});let Jo;function Ag(n){const e=Jo;return Jo=n,e}function SE(n,e=ye.Default){if(void 0===Jo)throw new W(203,"");return null===Jo?Bp(n,void 0,e):Jo.get(n,e&ye.Optional?null:void 0,e)}function j(n,e=ye.Default){return(function hC(){return Hu}()||SE)(Ce(n),e)}const AE=j;function _c(n){const e=[];for(let t=0;t<n.length;t++){const r=Ce(n[t]);if(Array.isArray(r)){if(0===r.length)throw new W(900,"");let i,o=ye.Default;for(let s=0;s<r.length;s++){const a=r[s],l=IE(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(j(i,o))}else e.push(j(r))}return e}function Xo(n,e){return n[vc]=e,n.prototype[vc]=e,n}function IE(n){return n[vc]}const Fa=Xo($i("Inject",n=>({token:n})),-1),kr=Xo($i("Optional"),8),es=Xo($i("SkipSelf"),4);let Ra,ka;function qi(n){var e;return(null===(e=function Dc(){if(void 0===Ra&&(Ra=null,Ve.trustedTypes))try{Ra=Ve.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ra}())||void 0===e?void 0:e.createHTML(n))||n}function Pg(n){var e;return(null===(e=function wc(){if(void 0===ka&&(ka=null,Ve.trustedTypes))try{ka=Ve.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return ka}())||void 0===e?void 0:e.createHTML(n))||n}class ai{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $E extends ai{getTypeName(){return"HTML"}}class UE extends ai{getTypeName(){return"Style"}}class GE extends ai{getTypeName(){return"Script"}}class qE extends ai{getTypeName(){return"URL"}}class zE extends ai{getTypeName(){return"ResourceURL"}}function nn(n){return n instanceof ai?n.changingThisBreaksApplicationSecurity:n}function Qn(n,e){const t=Lg(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function Lg(n){return n instanceof ai&&n.getTypeName()||null}class JE{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(qi(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class XE{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=qi(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=qi(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const s=t.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const tM=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,nM=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ns(n){return(n=String(n)).match(tM)||n.match(nM)?n:"unsafe:"+n}function Zn(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function rs(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Bg=Zn("area,br,col,hr,img,wbr"),Hg=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$g=Zn("rp,rt"),Cc=rs(Bg,rs(Hg,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rs($g,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rs($g,Hg)),Ec=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mc=Zn("srcset"),Ug=rs(Ec,Mc,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rM=Zn("script,style,template");class iM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Cc.hasOwnProperty(t))return this.sanitizedSomething=!0,!rM.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!Ug.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Ec[a]&&(l=ns(l)),Mc[a]&&(n=l,l=(n=String(n)).split(",").map(e=>ns(e.trim())).join(", ")),this.buf.push(" ",s,'="',Gg(l),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Cc.hasOwnProperty(t)&&!Bg.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Gg(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const oM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sM=/([^\#-~ |!])/g;function Gg(n){return n.replace(/&/g,"&amp;").replace(oM,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(sM,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let La;function qg(n,e){let t=null;try{La=La||function Vg(n){const e=new XE(n);return function eM(){try{return!!(new window.DOMParser).parseFromString(qi(""),"text/html")}catch(n){return!1}}()?new JE(e):e}(n);let r=e?String(e):"";t=La.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=La.getInertBodyElement(r)}while(r!==o);return qi((new iM).sanitizeChildren(Tc(t)||t))}finally{if(t){const r=Tc(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Tc(n){return"content"in n&&function aM(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var He=(()=>((He=He||{})[He.NONE=0]="NONE",He[He.HTML=1]="HTML",He[He.STYLE=2]="STYLE",He[He.SCRIPT=3]="SCRIPT",He[He.URL=4]="URL",He[He.RESOURCE_URL=5]="RESOURCE_URL",He))();function Sc(n){const e=is();return e?Pg(e.sanitize(He.HTML,n)||""):Qn(n,"HTML")?Pg(nn(n)):qg(Ju(),ve(n))}function Ac(n){const e=is();return e?e.sanitize(He.URL,n)||"":Qn(n,"URL")?nn(n):ns(ve(n))}function is(){const n=F();return n&&n[12]}const Kg="__ngContext__";function Nt(n,e){n[Kg]=e}function xc(n){const e=function os(n){return n[Kg]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Oc(n){return n.ngOriginalError}function CM(n,...e){n.error(...e)}class ss{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function wM(n){return n&&n.ngErrorLogger||CM}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Oc(e);for(;t&&Oc(t);)t=Oc(t);return t||null}}const FM=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ve))();function Xg(n){return n.ownerDocument.defaultView}function Yn(n){return n instanceof Function?n():n}var rn=(()=>((rn=rn||{})[rn.Important=1]="Important",rn[rn.DashCase=2]="DashCase",rn))();function Pc(n,e){return undefined(n,e)}function as(n){const e=n[3];return Nn(e)?e[3]:e}function Rc(n){return im(n[13])}function kc(n){return im(n[4])}function im(n){for(;null!==n&&!Nn(n);)n=n[4];return n}function Wi(n,e,t,r,i){if(null!=r){let o,s=!1;Nn(r)?o=r:zn(r)&&(s=!0,r=r[0]);const a=dt(r);0===n&&null!==t?null==i?cm(e,t,a):li(e,t,a,i||null,!0):1===n&&null!==t?li(e,t,a,i||null,!0):2===n?function ym(n,e,t){const r=Va(n,e);r&&function zM(n,e,t,r){nt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function QM(n,e,t,r,i){const o=t[7];o!==dt(t)&&Wi(e,n,r,o,i);for(let a=10;a<t.length;a++){const l=t[a];ls(l[1],l,n,e,r,o)}}(e,n,o,t,i)}}function Vc(n,e,t){if(nt(n))return n.createElement(e,t);{const r=null!==t?function FC(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function sm(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,tc(i,-1)),t.splice(r,1)}function jc(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&sm(i,r),e>0&&(n[t-1][4]=r[4]);const o=xa(n,10+e);!function VM(n,e){ls(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function am(n,e){if(!(256&e[2])){const t=e[11];nt(t)&&t.destroyNode&&ls(n,e,t,3,null,null),function HM(n){let e=n[13];if(!e)return Bc(n[1],n);for(;e;){let t=null;if(zn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)zn(e)&&Bc(e[1],e),e=e[3];null===e&&(e=n),zn(e)&&Bc(e[1],e),t=e&&e[4]}e=t}}(e)}}function Bc(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function qM(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Uo)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function GM(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):dt(e[s]),l=r[i=t[o+2]],u=t[o+3];"boolean"==typeof u?a.removeEventListener(t[o],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(n,e),1===e[1].type&&nt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Nn(e[3])){t!==e[3]&&sm(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function lm(n,e,t){return function um(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===In.None||i===In.Emulated)return null}return vn(r,t)}(n,e.parent,t)}function li(n,e,t,r,i){nt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function cm(n,e,t){nt(n)?n.appendChild(e,t):e.appendChild(t)}function dm(n,e,t,r,i){null!==r?li(n,e,t,r,i):cm(n,e,t)}function Va(n,e){return nt(n)?n.parentNode(e):e.parentNode}let pm=function hm(n,e,t){return 40&n.type?vn(n,t):null};function ja(n,e,t,r){const i=lm(n,r,e),o=e[11],a=function fm(n,e,t){return pm(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)dm(o,i,t[l],a,!1);else dm(o,i,t,a,!1)}function Ba(n,e){if(null!==e){const t=e.type;if(3&t)return vn(e,n);if(4&t)return $c(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Ba(n,r);{const i=n[e.index];return Nn(i)?$c(-1,i):dt(i)}}if(32&t)return Pc(e,n)()||dt(n[e.index]);{const r=mm(n,e);return null!==r?Array.isArray(r)?r[0]:Ba(as(n[16]),r):Ba(n,e.next)}}return null}function mm(n,e){return null!==e?n[16][6].projection[e.projection]:null}function $c(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Ba(r,i)}return e[7]}function Uc(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&Nt(dt(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Uc(n,e,t.child,r,i,o,!1),Wi(e,n,i,a,o);else if(32&l){const u=Pc(t,r);let c;for(;c=u();)Wi(e,n,i,c,o);Wi(e,n,i,a,o)}else 16&l?vm(n,e,r,t,i,o):Wi(e,n,i,a,o);t=s?t.projectionNext:t.next}}function ls(n,e,t,r,i,o){Uc(t,r,n.firstChild,e,i,o,!1)}function vm(n,e,t,r,i,o){const s=t[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Wi(e,n,i,l[u],o);else Uc(n,e,l,s[3],i,o,!0)}function _m(n,e,t){nt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Gc(n,e,t){nt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function bm(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const Dm="ng-template";function YM(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==bm(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function wm(n){return 4===n.type&&n.value!==Dm}function JM(n,e,t){return e===(4!==n.type||t?n.value:Dm)}function XM(n,e,t){let r=4;const i=n.attrs||[],o=function nT(n){for(let e=0;e<n.length;e++)if(cg(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!JM(n,l,t)||""===l&&1===e.length){if(Fn(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!YM(n.attrs,u,t)){if(Fn(r))return!1;s=!0}continue}const d=eT(8&r?"class":l,i,wm(n),t);if(-1===d){if(Fn(r))return!1;s=!0;continue}if(""!==u){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==bm(h,u,0)||2&r&&u!==f){if(Fn(r))return!1;s=!0}}}}else{if(!s&&!Fn(r)&&!Fn(l))return!1;if(s&&Fn(l))continue;s=!1,r=l|1&r}}return Fn(r)||s}function Fn(n){return 0==(1&n)}function eT(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function rT(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Cm(n,e,t=!1){for(let r=0;r<e.length;r++)if(XM(n,e[r],t))return!0;return!1}function Em(n,e){return n?":not("+e.trim()+")":e}function oT(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Fn(s)&&(e+=Em(o,i),i=""),r=s,o=o||!Fn(r);t++}return""!==i&&(e+=Em(o,i)),e}const _e={};function J(n){Mm(Ne(),F(),Vt()+n,ya())}function Mm(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&wa(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Ca(e,o,0,t)}Pr(t)}function Ha(n,e){return n<<17|e<<2}function Pn(n){return n>>17&32767}function qc(n){return 2|n}function mr(n){return(131068&n)>>2}function zc(n,e){return-131069&n|e<<2}function Wc(n){return 1|n}function km(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];sc(i),s.contentQueries(2,e[o],o)}}}function us(n,e,t,r,i,o,s,a,l,u){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,Jp(c),c[3]=c[15]=n,c[8]=t,c[10]=s||n&&n[10],c[11]=a||n&&n[11],c[12]=l||n&&n[12]||null,c[9]=u||n&&n[9]||null,c[6]=o,c[16]=2==e.type?n[16]:c,c}function Ki(n,e,t,r,i){let o=n.data[e];if(null===o)o=function nd(n,e,t,r,i){const o=eg(),s=nc(),l=n.data[e]=function CT(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,r,i),function qC(){return ge.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function $o(){const n=ge.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Wn(o,!0),o}function Qi(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function cs(n,e,t){_a(e);try{const r=n.viewQuery;null!==r&&dd(1,r,t);const i=n.template;null!==i&&Lm(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&km(n,e),n.staticViewQueries&&dd(2,n.viewQuery,t);const o=n.components;null!==o&&function bT(n,e){for(let t=0;t<e.length;t++)HT(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,ba()}}function Zi(n,e,t,r){const i=e[2];if(256==(256&i))return;_a(e);const o=ya();try{Jp(e),function tg(n){return ge.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Lm(n,e,t,2,r);const s=3==(3&i);if(!o)if(s){const u=n.preOrderCheckHooks;null!==u&&wa(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Ca(e,u,0,null),ac(e,0)}if(function jT(n){for(let e=Rc(n);null!==e;e=kc(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(1024&i[2])&&tc(o,1),i[2]|=1024}}}(e),function VT(n){for(let e=Rc(n);null!==e;e=kc(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];ec(r)&&Zi(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&km(n,e),!o)if(s){const u=n.contentCheckHooks;null!==u&&wa(e,u)}else{const u=n.contentHooks;null!==u&&Ca(e,u,1),ac(e,1)}!function vT(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Pr(~i);else{const o=i,s=t[++r],a=t[++r];zC(s,o),a(2,e[o])}}}finally{Pr(-1)}}(n,e);const a=n.components;null!==a&&function _T(n,e){for(let t=0;t<e.length;t++)BT(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&dd(2,l,r),!o)if(s){const u=n.viewCheckHooks;null!==u&&wa(e,u)}else{const u=n.viewHooks;null!==u&&Ca(e,u,2),ac(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,tc(e[3],-1))}finally{ba()}}function DT(n,e,t,r){const i=e[10],o=!ya(),s=function Yp(n){return 4==(4&n[2])}(e);try{o&&!s&&i.begin&&i.begin(),s&&cs(n,e,r),Zi(n,e,t,r)}finally{o&&!s&&i.end&&i.end()}}function Lm(n,e,t,r,i){const o=Vt(),s=2&r;try{Pr(-1),s&&e.length>20&&Mm(n,e,20,ya()),t(r,i)}finally{Pr(o)}}function Vm(n,e,t){if(zu(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function rd(n,e,t){!Xp()||(function xT(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||qo(t,e),Nt(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],u=On(l);u&&RT(e,t,l);const c=zo(e,n,a,t);Nt(c,e),null!==s&&kT(0,a-i,c,l,0,s),u&&(en(t.index,e)[8]=c)}}(n,e,t,vn(t,e)),128==(128&t.flags)&&function NT(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,a=function WC(){return ge.lFrame.currentDirectiveIndex}();try{Pr(s);for(let l=r;l<i;l++){const u=n.data[l],c=e[l];ic(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&zm(u,c)}}finally{Pr(-1),ic(a)}}(n,e,t))}function id(n,e,t=vn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function jm(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Ga(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Ga(n,e,t,r,i,o,s,a,l,u){const c=20+r,d=c+i,f=function wT(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:_e);return t}(c,d),h="function"==typeof u?u():u;return f[1]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function Um(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function on(n,e,t,r,i,o,s,a){const l=vn(e,t);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(ny(n,t,c,r,i),pa(e)&&function TT(n,e){const t=en(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function MT(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,nt(o)?o.setProperty(l,r,i):uc(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function od(n,e,t,r){let i=!1;if(Xp()){const o=function OT(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Cm(t,s.selectors,!1)&&(i||(i=[]),Aa(qo(t,e),n,s.type),On(s)?(Wm(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,Km(t,n.data.length,o.length);for(let c=0;c<o.length;c++){const d=o[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=Qi(n,e,o.length,null);for(let c=0;c<o.length;c++){const d=o[c];t.mergedAttrs=Ma(t.mergedAttrs,d.hostAttrs),Qm(n,t,e,u,d),PT(u,d,s),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),u++}!function ET(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,l=null;for(let u=e.directiveStart;u<r;u++){const c=i[u],d=c.inputs,f=null===o||wm(e)?null:LT(d,o);s.push(f),a=Um(d,u,a),l=Um(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}(n,t)}s&&function FT(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new W(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=Ma(t.mergedAttrs,t.attrs),i}function qm(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function IT(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function zm(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Wm(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function PT(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;On(e)&&(t[""]=n)}}function Km(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Qm(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=si(i.type)),s=new Uo(o,On(i),null);n.blueprint[r]=s,t[r]=s,qm(n,e,0,r,Qi(n,t,i.hostVars,_e),i)}function RT(n,e,t){const r=vn(e,n),i=jm(t),o=n[10],s=qa(n,us(n,i,null,t.onPush?64:16,r,e,o,o.createRenderer(r,t),null,null));n[e.index]=s}function Jn(n,e,t,r,i,o){const s=vn(n,e);!function sd(n,e,t,r,i,o,s){if(null==o)nt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==s?ve(o):s(o,r||"",i);nt(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],s,o,n.value,t,r,i)}function kT(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const u=s[l++],c=s[l++],d=s[l++];null!==a?r.setInput(t,d,u,c):t[c]=d}}}function LT(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Zm(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function BT(n,e){const t=en(e,n);if(ec(t)){const r=t[1];80&t[2]?Zi(r,t,r.template,t[8]):t[5]>0&&ad(t)}}function ad(n){for(let r=Rc(n);null!==r;r=kc(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];Zi(s,o,s.template,o[8])}else o[5]>0&&ad(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=en(t[r],n);ec(i)&&i[5]>0&&ad(i)}}function HT(n,e){const t=en(e,n),r=t[1];(function $T(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),cs(r,t,t[8])}function qa(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function ld(n){for(;n;){n[2]|=64;const e=as(n);if(CC(n)&&!e)return n;n=e}return null}function cd(n,e,t){const r=e[10];r.begin&&r.begin();try{Zi(n,e,n.template,t)}catch(i){throw ty(e,i),i}finally{r.end&&r.end()}}function Ym(n){!function ud(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=xc(t),i=r[1];DT(i,r,i.template,t)}}(n[8])}function dd(n,e,t){sc(0),e(n,t)}const zT=(()=>Promise.resolve(null))();function Jm(n){return n[7]||(n[7]=[])}function Xm(n){return n.cleanup||(n.cleanup=[])}function ty(n,e){const t=n[9],r=t?t.get(ss,null):null;r&&r.handleError(e)}function ny(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],u=n.data[s];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function yr(n,e,t){const r=ma(e,n);!function om(n,e,t){nt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function za(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Lu(i,a):2==o&&(r=Lu(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const fd=new be("INJECTOR",-1);class ry{get(e,t=Yo){if(t===Yo){const r=new Error(`NullInjectorError: No provider for ${Re(e)}!`);throw r.name="NullInjectorError",r}return t}}const hd=new be("Set Injector scope."),ds={},QT={};let pd;function iy(){return void 0===pd&&(pd=new ry),pd}function oy(n,e=null,t=null,r){const i=sy(n,e,t,r);return i._resolveInjectorDefTypes(),i}function sy(n,e=null,t=null,r){return new ZT(n,t,e||iy(),r)}class ZT{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&Kn(t,a=>this.processProvider(a,e,t)),Kn([e],a=>this.processInjectorType(a,[],o)),this.records.set(fd,Yi(void 0,this));const s=this.records.get(hd);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:Re(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Yo,r=ye.Default){this.assertNotDestroyed();const i=Ag(this),o=xr(void 0);try{if(!(r&ye.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function iS(n){return"function"==typeof n||"object"==typeof n&&n instanceof be}(e)&&ju(e);a=l&&this.injectableDefInScope(l)?Yi(gd(e),ds):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ye.Self?iy():this.parent).get(e,t=r&ye.Optional&&t===Yo?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Oa]=s[Oa]||[]).unshift(Re(e)),i)throw s;return function xE(n,e,t,r){const i=n[Oa];throw e[Sg]&&i.unshift(e[Sg]),n.message=function NE(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Re(e);if(Array.isArray(e))i=e.map(Re).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Re(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(EE,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Oa]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{xr(o),Ag(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Re(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processInjectorType(e,t,r){if(!(e=Ce(e)))return!1;let i=Vp(e);const o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=Vp(o)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(s);try{Kn(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:f,providers:h}=c[d];Kn(h,p=>this.processProvider(p,f,h||Be))}}this.injectorDefTypes.add(s);const l=si(s)||(()=>new s);this.records.set(s,Yi(l,ds));const u=i.providers;if(null!=u&&!a){const c=e;Kn(u,d=>this.processProvider(d,c,u))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,r){let i=Ji(e=Ce(e))?e:Ce(e&&e.provide);const o=function JT(n,e,t){return ly(n)?Yi(void 0,n.useValue):Yi(ay(n),ds)}(e);if(Ji(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=Yi(void 0,ds,!0),s.factory=()=>_c(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,o)}hydrate(e,t){return t.value===ds&&(t.value=QT,t.value=t.factory()),"object"==typeof t.value&&t.value&&function rS(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ce(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function gd(n){const e=ju(n),t=null!==e?e.factory:si(n);if(null!==t)return t;if(n instanceof be)throw new W(204,!1);if(n instanceof Function)return function YT(n){const e=n.length;if(e>0)throw function Zo(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new W(204,!1);const t=function cC(n){const e=n&&(n[ua]||n[jp]);if(e){const t=function dC(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new W(204,!1)}function ay(n,e,t){let r;if(Ji(n)){const i=Ce(n);return si(i)||gd(i)}if(ly(n))r=()=>Ce(n.useValue);else if(function eS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(..._c(n.deps||[]));else if(function XT(n){return!(!n||!n.useExisting)}(n))r=()=>j(Ce(n.useExisting));else{const i=Ce(n&&(n.useClass||n.provide));if(!function nS(n){return!!n.deps}(n))return si(i)||gd(i);r=()=>new i(..._c(n.deps))}return r}function Yi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ly(n){return null!==n&&"object"==typeof n&&TE in n}function Ji(n){return"function"==typeof n}let Ct=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return oy({name:""},r,t,"");{const o=null!==(i=t.name)&&void 0!==i?i:"";return oy({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=Yo,n.NULL=new ry,n.\u0275prov=oe({token:n,providedIn:"any",factory:()=>j(fd)}),n.__NG_ELEMENT_ID__=-1,n})();function fS(n,e){Da(xc(n)[1],gt())}function ke(n){let e=function by(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(On(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=vd(n.inputs),s.declaredInputs=vd(n.declaredInputs),s.outputs=vd(n.outputs);const a=i.hostBindings;a&&mS(n,a);const l=i.viewQuery,u=i.contentQueries;if(l&&pS(n,l),u&&gS(n,u),ku(n.inputs,i.inputs),ku(n.declaredInputs,i.declaredInputs),ku(n.outputs,i.outputs),On(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ke&&(t=!1)}}e=Object.getPrototypeOf(e)}!function hS(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ma(i.hostAttrs,t=Ma(t,i.hostAttrs))}}(r)}function vd(n){return n===Ii?{}:n===Be?[]:n}function pS(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function gS(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function mS(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Wa=null;function Xi(){if(!Wa){const n=Ve.Symbol;if(n&&n.iterator)Wa=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Wa=r)}}}return Wa}function fs(n){return!!function _d(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Xi()in n)}function Xn(n,e,t){return n[e]=t}function Ot(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ui(n,e,t,r){const i=Ot(n,e,t);return Ot(n,e+1,r)||i}function Kt(n,e,t,r){const i=F();return Ot(i,Ri(),e)&&(Ne(),Jn(rt(),i,n,e,t,r)),Kt}function to(n,e,t,r){return Ot(n,Ri(),t)?e+ve(t)+r:_e}function no(n,e,t,r,i,o){const a=ui(n,function pr(){return ge.lFrame.bindingIndex}(),t,i);return gr(2),a?e+ve(t)+r+ve(i)+o:_e}function Je(n,e,t,r,i,o,s,a){const l=F(),u=Ne(),c=n+20,d=u.firstCreatePass?function CS(n,e,t,r,i,o,s,a,l){const u=e.consts,c=Ki(e,n,4,s||null,Fr(u,a));od(e,t,c,Fr(u,l)),Da(e,c);const d=c.tViews=Ga(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,t,r,i,o,s):u.data[c];Wn(d,!1);const f=l[11].createComment("");ja(u,l,f,d),Nt(f,l),qa(l,l[c]=Zm(f,l,f,d)),ga(d)&&rd(u,l,d),null!=s&&id(l,d,a)}function O(n,e=ye.Default){const t=F();return null===t?j(n,e):yg(gt(),t,Ce(n),e)}function Ed(){throw new Error("invalid")}function he(n,e,t){const r=F();return Ot(r,Ri(),e)&&on(Ne(),rt(),r,n,e,r[11],t,!1),he}function Md(n,e,t,r,i){const s=i?"class":"style";ny(n,t,e.inputs[s],s,r)}function g(n,e,t,r){const i=F(),o=Ne(),s=20+n,a=i[11],l=i[s]=Vc(a,e,function XC(){return ge.lFrame.currentNamespace}()),u=o.firstCreatePass?function qS(n,e,t,r,i,o,s){const a=e.consts,u=Ki(e,n,2,i,Fr(a,o));return od(e,t,u,Fr(a,s)),null!==u.attrs&&za(u,u.attrs,!1),null!==u.mergedAttrs&&za(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,t,r):o.data[s];Wn(u,!0);const c=u.mergedAttrs;null!==c&&Ea(a,l,c);const d=u.classes;null!==d&&Gc(a,l,d);const f=u.styles;return null!==f&&_m(a,l,f),64!=(64&u.flags)&&ja(o,i,l,u),0===function jC(){return ge.lFrame.elementDepthCount}()&&Nt(l,i),function BC(){ge.lFrame.elementDepthCount++}(),ga(u)&&(rd(o,i,u),Vm(o,u,i)),null!==r&&id(i,u),g}function m(){let n=gt();nc()?rc():(n=n.parent,Wn(n,!1));const e=n;!function HC(){ge.lFrame.elementDepthCount--}();const t=Ne();return t.firstCreatePass&&(Da(t,n),zu(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function iE(n){return 0!=(16&n.flags)}(e)&&Md(t,e,F(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function oE(n){return 0!=(32&n.flags)}(e)&&Md(t,e,F(),e.stylesWithoutHost,!1),m}function X(n,e,t,r){return g(n,e,t,r),m(),X}function jr(n,e,t){const r=F(),i=Ne(),o=n+20,s=i.firstCreatePass?function zS(n,e,t,r,i){const o=e.consts,s=Fr(o,r),a=Ki(e,n,8,"ng-container",s);return null!==s&&za(a,s,!0),od(e,t,a,Fr(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];Wn(s,!0);const a=r[o]=r[11].createComment("");return ja(i,r,a,s),Nt(a,r),ga(s)&&(rd(i,r,s),Vm(i,s,r)),null!=t&&id(r,s),jr}function Br(){let n=gt();const e=Ne();return nc()?rc():(n=n.parent,Wn(n,!1)),e.firstCreatePass&&(Da(e,n),zu(n)&&e.queries.elementEnd(n)),Br}function vr(){return F()}function ps(n){return!!n&&"function"==typeof n.then}const Td=function Hy(n){return!!n&&"function"==typeof n.subscribe};function te(n,e,t,r){const i=F(),o=Ne(),s=gt();return function Uy(n,e,t,r,i,o,s,a){const l=ga(r),c=n.firstCreatePass&&Xm(n),d=e[8],f=Jm(e);let h=!0;if(3&r.type||a){const S=vn(r,e),M=a?a(S):S,E=f.length,L=a?K=>a(dt(K[r.index])):r.index;if(nt(t)){let K=null;if(!a&&l&&(K=function WS(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==K)(K.__ngLastListenerFn__||K).__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,h=!1;else{o=Sd(r,e,d,o,!1);const we=t.listen(M,i,o);f.push(o,we),c&&c.push(i,L,E,E+1)}}else o=Sd(r,e,d,o,!0),M.addEventListener(i,o,s),f.push(o),c&&c.push(i,L,E,s)}else o=Sd(r,e,d,o,!1);const p=r.outputs;let C;if(h&&null!==p&&(C=p[i])){const S=C.length;if(S)for(let M=0;M<S;M+=2){const Ke=e[C[M]][C[M+1]].subscribe(o),et=f.length;f.push(o,Ke),c&&c.push(i,r.index,et,-(et+1))}}}(o,i,i[11],s,n,e,!!t,r),te}function Gy(n,e,t,r){try{return!1!==t(r)}catch(i){return ty(n,i),!1}}function Sd(n,e,t,r,i){return function o(s){if(s===Function)return r;const a=2&n.flags?en(n.index,e):e;0==(32&e[2])&&ld(a);let l=Gy(e,0,r,s),u=o.__ngNextListenerFn__;for(;u;)l=Gy(e,0,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function le(n=1){return function QC(n){return(ge.lFrame.contextLView=function ZC(n,e){for(;n>0;)e=e[15],n--;return e}(n,ge.lFrame.contextLView))[8]}(n)}function Ad(n,e,t){return Za(n,"",e,"",t),Ad}function Za(n,e,t,r,i){const o=F(),s=to(o,e,t,r);return s!==_e&&on(Ne(),rt(),o,n,s,o[11],i,!1),Za}function Ya(n,e,t,r,i,o,s){const a=F(),l=no(a,e,t,r,i,o);return l!==_e&&on(Ne(),rt(),a,n,l,a[11],s,!1),Ya}function Jy(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Pn(o):mr(o),l=!1;for(;0!==a&&(!1===l||s);){const c=n[a+1];XS(n[a],e)&&(l=!0,n[a+1]=r?Wc(c):qc(c)),a=r?Pn(c):mr(c)}l&&(n[t+1]=r?qc(o):Wc(o))}function XS(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ui(n,e)>=0}const yt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xy(n){return n.substring(yt.key,yt.keyEnd)}function ev(n,e){const t=yt.textEnd;return t===e?-1:(e=yt.keyEnd=function rA(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,yt.key=e,t),co(n,e,t))}function co(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function fo(n,e,t){return kn(n,e,t,!1),fo}function Ja(n,e){return kn(n,e,null,!0),Ja}function Dn(n){!function Ln(n,e,t,r){const i=Ne(),o=gr(2);i.firstUpdatePass&&sv(i,null,o,r);const s=F();if(t!==_e&&Ot(s,o,t)){const a=i.data[Vt()];if(cv(a,r)&&!ov(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Lu(l,t||"")),Md(i,a,s,t,r)}else!function fA(n,e,t,r,i,o,s,a){i===_e&&(i=Be);let l=0,u=0,c=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==c||null!==d;){const f=l<i.length?i[l+1]:void 0,h=u<o.length?o[u+1]:void 0;let C,p=null;c===d?(l+=2,u+=2,f!==h&&(p=d,C=h)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,C=h),null!==p&&lv(n,e,t,r,p,C,s,a),c=l<i.length?i[l]:null,d=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function dA(n,e,t){if(null==t||""===t)return Be;const r=[],i=nn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(tn,tr,n,!0)}function tr(n,e){for(let t=function tA(n){return function nv(n){yt.key=0,yt.keyEnd=0,yt.value=0,yt.valueEnd=0,yt.textEnd=n.length}(n),ev(n,co(n,0,yt.textEnd))}(e);t>=0;t=ev(e,t))tn(n,Xy(e),!0)}function kn(n,e,t,r){const i=F(),o=Ne(),s=gr(2);o.firstUpdatePass&&sv(o,n,s,r),e!==_e&&Ot(i,s,e)&&lv(o,o.data[Vt()],i,i[11],n,i[s+1]=function hA(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Re(nn(n)))),n}(e,t),r,s)}function ov(n,e){return e>=n.expandoStartIndex}function sv(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Vt()],s=ov(n,t);cv(o,r)&&null===e&&!s&&(e=!1),e=function aA(n,e,t,r){const i=oc(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=gs(t=Id(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=Id(i,n,e,t,r),null===o){let l=function lA(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==mr(r))return n[Pn(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Id(null,n,e,l[1],r),l=gs(l,e.attrs,r),function uA(n,e,t,r){n[Pn(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function cA(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=gs(r,n[o].hostAttrs,t);return gs(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function YS(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Pn(s),l=mr(s);n[r]=t;let c,u=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||Ui(d,c)>0)&&(u=!0)}else c=t;if(i)if(0!==l){const f=Pn(n[a+1]);n[r+1]=Ha(f,a),0!==f&&(n[f+1]=zc(n[f+1],r)),n[a+1]=function lT(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Ha(a,0),0!==a&&(n[a+1]=zc(n[a+1],r)),a=r;else n[r+1]=Ha(l,0),0===a?a=r:n[l+1]=zc(n[l+1],r),l=r;u&&(n[r+1]=qc(n[r+1])),Jy(n,c,r,!0),Jy(n,c,r,!1),function JS(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ui(o,e)>=0&&(t[r+1]=Wc(t[r+1]))}(e,c,n,r,o),s=Ha(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function Id(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=gs(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function gs(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),tn(n,s,!!t||e[++o]))}return void 0===n?null:n}function lv(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,u=l[a+1];Xa(function Am(n){return 1==(1&n)}(u)?uv(l,e,t,i,mr(u),s):void 0)||(Xa(o)||function Sm(n){return 2==(2&n)}(u)&&(o=uv(l,null,t,i,a,s)),function ZM(n,e,t,r,i){const o=nt(n);if(e)i?o?n.addClass(t,r):t.classList.add(r):o?n.removeClass(t,r):t.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:rn.DashCase;if(null==i)o?n.removeStyle(t,r,s):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=rn.Important),o?n.setStyle(t,r,i,s):t.style.setProperty(r,i,a?"important":"")}}}(r,s,ma(Vt(),t),i,o))}function uv(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=t[i+1];f===_e&&(f=d?Be:void 0);let h=d?mc(f,r):c===r?f:void 0;if(u&&!Xa(h)&&(h=mc(l,r)),Xa(h)&&(a=h,s))return a;const p=n[i+1];i=s?Pn(p):mr(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=mc(l,r))}return a}function Xa(n){return void 0!==n}function cv(n,e){return 0!=(n.flags&(e?16:32))}function D(n,e=""){const t=F(),r=Ne(),i=n+20,o=r.firstCreatePass?Ki(r,i,1,e,null):r.data[i],s=t[i]=function Lc(n,e){return nt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);ja(r,t,s,o),Wn(o,!1)}function ho(n){return Vn("",n,""),ho}function Vn(n,e,t){const r=F(),i=to(r,n,e,t);return i!==_e&&yr(r,Vt(),i),Vn}function xd(n,e,t){const r=F();if(Ot(r,Ri(),e)){const o=Ne(),s=rt();on(o,s,r,n,e,function ey(n,e,t){return(null===n||On(n))&&(t=function kC(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}(oc(o.data),s,r),t,!0)}return xd}const el="en-US";let Nv=el;function Fd(n,e,t,r,i){if(n=Ce(n),Array.isArray(n))for(let o=0;o<n.length;o++)Fd(n[o],e,t,r,i);else{const o=Ne(),s=F();let a=Ji(n)?n:Ce(n.provide),l=ay(n);const u=gt(),c=1048575&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>20;if(Ji(n)||!n.multi){const h=new Uo(l,i,O),p=Rd(a,e,i?c:c+f,d);-1===p?(Aa(qo(u,s),o,a),Pd(o,n,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(h),s.push(h)):(t[p]=h,s[p]=h)}else{const h=Rd(a,e,c+f,d),p=Rd(a,e,c,c+f),C=h>=0&&t[h],S=p>=0&&t[p];if(i&&!S||!i&&!C){Aa(qo(u,s),o,a);const M=function O2(n,e,t,r,i){const o=new Uo(n,t,O);return o.multi=[],o.index=e,o.componentProviders=0,t_(o,i,r&&!t),o}(i?N2:x2,t.length,i,r,l);!i&&S&&(t[p].providerFactory=M),Pd(o,n,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(M),s.push(M)}else Pd(o,n,h>-1?h:p,t_(t[i?p:h],l,!i&&r));!i&&r&&S&&t[p].componentProviders++}}}function Pd(n,e,t,r){const i=Ji(e),o=function tS(n){return!!n.useClass}(e);if(i||o){const l=(o?Ce(e.useClass):e).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(t);-1===c?u.push(t,[r,l]):u[c+1].push(r,l)}else u.push(t,l)}}}function t_(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Rd(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function x2(n,e,t,r){return kd(this.multi,[])}function N2(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=zo(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),kd(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],kd(i,o);return o}function kd(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function We(n,e=[]){return t=>{t.providersResolver=(r,i)=>function I2(n,e,t){const r=Ne();if(r.firstCreatePass){const i=On(n);Fd(t,r.data,r.blueprint,i,!0),Fd(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class n_{}class R2{resolveComponentFactory(e){throw function P2(n){const e=Error(`No component factory found for ${Re(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let mo=(()=>{class n{}return n.NULL=new R2,n})();function k2(){return yo(gt(),F())}function yo(n,e){return new sn(vn(n,e))}let sn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=k2,n})();class bs{}let _r=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function j2(){const n=F(),t=en(gt().index,n);return function V2(n){return n[11]}(zn(t)?t:n)}(),n})(),B2=(()=>{class n{}return n.\u0275prov=oe({token:n,providedIn:"root",factory:()=>null}),n})();class Ds{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const H2=new Ds("13.2.5"),Ld={};function ol(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(dt(o)),Nn(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&ol(l[1],l,u,r)}const s=t.type;if(8&s)ol(n,e,t.child,r);else if(32&s){const a=Pc(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=mm(e,t);if(Array.isArray(a))r.push(...a);else{const l=as(e[16]);ol(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class ws{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ol(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Nn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(jc(e,r),xa(t,r))}this._attachedToViewContainer=!1}am(this._lView[1],this._lView)}onDestroy(e){!function $m(n,e,t,r){const i=Jm(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Xm(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){cd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function GT(n,e,t){va(!0);try{cd(n,e,t)}finally{va(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new W(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BM(n,e){ls(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,"");this._appRef=e}}class $2 extends ws{constructor(e){super(e),this._view=e}detectChanges(){Ym(this._view)}checkNoChanges(){!function qT(n){va(!0);try{Ym(n)}finally{va(!1)}}(this._view)}get context(){return null}}class i_ extends mo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=At(e);return new Vd(t,this.ngModule)}}function o_(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Vd extends n_{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function sT(n){return n.map(oT).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return o_(this.componentDef.inputs)}get outputs(){return o_(this.componentDef.outputs)}create(e,t,r,i){const o=(i=i||this.ngModule)?function G2(n,e){return{get:(t,r,i)=>{const o=n.get(t,Ld,i);return o!==Ld||r===Ld?o:e.get(t,r,i)}}}(e,i.injector):e,s=o.get(bs,Zp),a=o.get(B2,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=r?function Hm(n,e,t){if(nt(n))return n.selectRootElement(e,t===In.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Vc(s.createRenderer(null,this.componentDef),u,function U2(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),d=this.componentDef.onPush?576:528,f=function _y(n,e){return{components:[],scheduler:n||FM,clean:zT,playerHandler:e||null,flags:0}}(),h=Ga(0,null,null,1,0,null,null,null,null,null),p=us(null,h,f,d,null,null,s,l,a,o);let C,S;_a(p);try{const M=function yy(n,e,t,r,i,o){const s=t[1];t[20]=n;const l=Ki(s,20,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(za(l,u,!0),null!==n&&(Ea(i,n,u),null!==l.classes&&Gc(i,n,l.classes),null!==l.styles&&_m(i,n,l.styles)));const c=r.createRenderer(n,e),d=us(t,jm(e),null,e.onPush?64:16,t[20],l,r,c,o||null,null);return s.firstCreatePass&&(Aa(qo(l,t),s,e.type),Wm(s,l),Km(l,t.length,1)),qa(t,d),t[20]=d}(c,this.componentDef,p,s,l);if(c)if(r)Ea(l,c,["ng-version",H2.full]);else{const{attrs:E,classes:L}=function aT(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Fn(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);E&&Ea(l,c,E),L&&L.length>0&&Gc(l,c,L.join(" "))}if(S=Xu(h,20),void 0!==t){const E=S.projection=[];for(let L=0;L<this.ngContentSelectors.length;L++){const K=t[L];E.push(null!=K?Array.from(K):null)}}C=function vy(n,e,t,r,i){const o=t[1],s=function AT(n,e,t){const r=gt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Qm(n,r,e,Qi(n,e,1,null),t));const i=zo(e,n,r.directiveStart,r);Nt(i,e);const o=vn(r,e);return o&&Nt(o,e),i}(o,t,e);if(r.components.push(s),n[8]=s,i&&i.forEach(l=>l(s,e)),e.contentQueries){const l=gt();e.contentQueries(1,s,l.directiveStart)}const a=gt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Pr(a.index),qm(t[1],a,0,a.directiveStart,a.directiveEnd,e),zm(e,s)),s}(M,this.componentDef,p,f,[fS]),cs(h,p,null)}finally{ba()}return new z2(this.componentType,C,yo(S,p),p,S)}}class z2 extends class F2{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new $2(i),this.componentType=e}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class br{}class s_{}const vo=new Map;class u_ extends br{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new i_(this);const r=gn(e);this._bootstrapComponents=Yn(r.bootstrap),this._r3Injector=sy(e,t,[{provide:br,useValue:this},{provide:mo,useValue:this.componentFactoryResolver}],Re(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ct.THROW_IF_NOT_FOUND,r=ye.Default){return e===Ct||e===br||e===fd?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jd extends s_{constructor(e){super(),this.moduleType=e,null!==gn(e)&&function K2(n){const e=new Set;!function t(r){const i=gn(r,!0),o=i.id;null!==o&&(function a_(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Re(e)} vs ${Re(e.name)}`)}(o,vo.get(o),r),vo.set(o,r));const s=Yn(i.imports);for(const a of s)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new u_(this.moduleType,e)}}function Le(n,e,t){const r=Lt()+n,i=F();return i[r]===_e?Xn(i,r,t?e.call(t):e()):function hs(n,e){return n[e]}(i,r)}function wn(n,e,t,r){return function c_(n,e,t,r,i,o){const s=e+t;return Ot(n,s,i)?Xn(n,s+1,o?r.call(o,i):r(i)):Cs(n,s+1)}(F(),Lt(),n,e,t,r)}function sl(n,e,t,r,i){return function d_(n,e,t,r,i,o,s){const a=e+t;return ui(n,a,i,o)?Xn(n,a+2,s?r.call(s,i,o):r(i,o)):Cs(n,a+2)}(F(),Lt(),n,e,t,r,i)}function Bd(n,e,t,r,i,o){return function f_(n,e,t,r,i,o,s,a){const l=e+t;return function Ka(n,e,t,r,i){const o=ui(n,e,t,r);return Ot(n,e+2,i)||o}(n,l,i,o,s)?Xn(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):Cs(n,l+3)}(F(),Lt(),n,e,t,r,i,o)}function al(n,e,t,r,i,o,s){return function h_(n,e,t,r,i,o,s,a,l){const u=e+t;return function bn(n,e,t,r,i,o){const s=ui(n,e,t,r);return ui(n,e+2,i,o)||s}(n,u,i,o,s,a)?Xn(n,u+4,l?r.call(l,i,o,s,a):r(i,o,s,a)):Cs(n,u+4)}(F(),Lt(),n,e,t,r,i,o,s)}function Cs(n,e){const t=n[e];return t===_e?void 0:t}function Hd(n){return e=>{setTimeout(n,void 0,e)}}const ot=class aI extends ct{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,o,s;let a=e,l=t||(()=>null),u=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(o=d.error)||void 0===o?void 0:o.bind(d),u=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}this.__isAsync&&(l=Hd(l),a&&(a=Hd(a)),u&&(u=Hd(u)));const c=super.subscribe({next:a,error:l,complete:u});return e instanceof P&&e.add(c),c}};Symbol;let Dr=(()=>{class n{}return n.__NG_ELEMENT_ID__=dI,n})();const uI=Dr,cI=class extends uI{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=us(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(t)),cs(t,r,e),new ws(r)}};function dI(){return function ll(n,e){return 4&n.type?new cI(e,n,yo(n,e)):null}(gt(),F())}let jn=(()=>{class n{}return n.__NG_ELEMENT_ID__=fI,n})();function fI(){return function y_(n,e){let t;const r=e[n.index];if(Nn(r))t=r;else{let i;if(8&n.type)i=dt(r);else{const o=e[11];i=o.createComment("");const s=vn(n,e);li(o,Va(o,s),i,function WM(n,e){return nt(n)?n.nextSibling(e):e.nextSibling}(o,s),!1)}e[n.index]=t=Zm(r,e,i,n),qa(e,t)}return new g_(t,n,e)}(gt(),F())}const hI=jn,g_=class extends hI{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return yo(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sa(this._hostTNode,this._hostLView);if(fg(e)){const t=Li(e,this._hostLView),r=ki(e);return new Vi(t[1].data[r+8],t)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=m_(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,o){const s=e&&!function Qo(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.ngModuleRef}const l=s?e:new Vd(At(e)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const f=(s?u:this.parentInjector).get(br,null);f&&(o=f)}const c=l.create(u,i,void 0,o);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function VC(n){return Nn(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],f=new g_(d,d[6],d[3]);f.detach(f.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function $M(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],wg(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function UM(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,s,o);const a=$c(o,s),l=r[11],u=Va(l,s[7]);return null!==u&&function jM(n,e,t,r,i,o){r[0]=i,r[6]=e,ls(n,r,t,1,i,o)}(i,s[6],l,r,u,a),e.attachToViewContainerRef(),wg(Ud(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=m_(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=jc(this._lContainer,t);r&&(xa(Ud(this._lContainer),t),am(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=jc(this._lContainer,t);return r&&null!=xa(Ud(this._lContainer),t)?new ws(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function m_(n){return n[8]}function Ud(n){return n[8]||(n[8]=[])}function dl(...n){}const rf=new be("Application Initializer");let of=(()=>{class n{constructor(t){this.appInits=t,this.resolve=dl,this.reject=dl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(ps(o))t.push(o);else if(Td(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(j(rf,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ts=new be("AppId",{providedIn:"root",factory:function j_(){return`${sf()}${sf()}${sf()}`}});function sf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const B_=new be("Platform Initializer"),fl=new be("Platform ID"),H_=new be("appBootstrapListener");let $_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Hr=new be("LocaleId",{providedIn:"root",factory:()=>AE(Hr,ye.Optional|ye.SkipSelf)||function BI(){return"undefined"!=typeof $localize&&$localize.locale||el}()});class $I{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let U_=(()=>{class n{compileModuleSync(t){return new jd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Yn(gn(t).declarations).reduce((s,a)=>{const l=At(a);return l&&s.push(new Vd(l)),s},[]);return new $I(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GI=(()=>Promise.resolve(0))();function af(n){"undefined"==typeof Zone?GI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class lt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ot(!1),this.onMicrotaskEmpty=new ot(!1),this.onStable=new ot(!1),this.onError=new ot(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function qI(){let n=Ve.requestAnimationFrame,e=Ve.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function KI(n){const e=()=>{!function WI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ve,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,uf(n),n.isCheckStableRunning=!0,lf(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),uf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return G_(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),q_(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return G_(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),q_(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,uf(n),lf(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(lt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,zI,dl,dl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const zI={};function lf(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function uf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function G_(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function q_(n){n._nesting--,lf(n)}class QI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ot,this.onMicrotaskEmpty=new ot,this.onStable=new ot,this.onError=new ot}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let cf=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lt.assertNotInAngularZone(),af(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())af(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(j(lt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),z_=(()=>{class n{constructor(){this._applications=new Map,df.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return df.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class ZI{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Bn,df=new ZI;const W_=new be("AllowMultipleToken");class K_{constructor(e,t){this.name=e,this.token=t}}function Q_(n,e,t=[]){const r=`Platform: ${e}`,i=new be(r);return(o=[])=>{let s=Z_();if(!s||s.injector.get(W_,!1))if(n)n(t.concat(o).concat({provide:i,useValue:!0}));else{const a=t.concat(o).concat({provide:i,useValue:!0},{provide:hd,useValue:"platform"});!function ex(n){if(Bn&&!Bn.destroyed&&!Bn.injector.get(W_,!1))throw new W(400,"");Bn=n.get(Y_);const e=n.get(B_,null);e&&e.forEach(t=>t())}(Ct.create({providers:a,name:r}))}return function tx(n){const e=Z_();if(!e)throw new W(401,"");return e}()}}function Z_(){return Bn&&!Bn.destroyed?Bn:null}let Y_=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function nx(n,e){let t;return t="noop"===n?new QI:("zone.js"===n?void 0:n)||new lt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:lt,useValue:a}];return a.run(()=>{const u=Ct.create({providers:l,parent:this.injector,name:t.moduleType.name}),c=t.create(u),d=c.injector.get(ss,null);if(!d)throw new W(402,"");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:h=>{d.handleError(h)}});c.onDestroy(()=>{ff(this._modules,c),f.unsubscribe()})}),function rx(n,e,t){try{const r=t();return ps(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const f=c.injector.get(of);return f.runInitializers(),f.donePromise.then(()=>(function VA(n){Yt(n,"Expected localeId to be defined"),"string"==typeof n&&(Nv=n.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Hr,el)||el),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,r=[]){const i=J_({},r);return function JI(n,e,t){const r=new jd(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ss);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new W(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(j(Ct))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function J_(n,e){return Array.isArray(e)?e.reduce(J_,n):Object.assign(Object.assign({},n),e)}let Ss=(()=>{class n{constructor(t,r,i,o,s){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ze(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new Ze(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{lt.assertNotInAngularZone(),af(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=function rC(...n){const e=Lo(n),t=function Zw(n,e){return"number"==typeof Pu(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?qn(r[0]):ko(t)(Dt(r,e)):dr}(a,l.pipe(function iC(n={}){const{connector:e=(()=>new ct),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s=null,a=null,l=null,u=0,c=!1,d=!1;const f=()=>{null==a||a.unsubscribe(),a=null},h=()=>{f(),s=l=null,c=d=!1},p=()=>{const C=s;h(),null==C||C.unsubscribe()};return w((C,S)=>{u++,!d&&!c&&f();const M=l=null!=l?l:e();S.add(()=>{u--,0===u&&!d&&!c&&(a=Ru(p,i))}),M.subscribe(S),s||(s=new Ai({next:E=>M.next(E),error:E=>{d=!0,f(),a=Ru(h,t,E),M.error(E)},complete:()=>{c=!0,f(),a=Ru(h,r),M.complete()}}),Dt(C).subscribe(s))})(o)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new W(405,"");let i;i=t instanceof n_?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const o=function XI(n){return n.isBoundToModule}(i)?void 0:this._injector.get(br),a=i.create(Ct.NULL,[],r||i.selector,o),l=a.location.nativeElement,u=a.injector.get(cf,null),c=u&&a.injector.get(z_);return u&&c&&c.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),ff(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new W(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;ff(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(H_,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(j(lt),j(Ct),j(ss),j(mo),j(of))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ff(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let e0=!0,hl=(()=>{class n{}return n.__NG_ELEMENT_ID__=sx,n})();function sx(n){return function ax(n,e,t){if(pa(n)&&!t){const r=en(n.index,e);return new ws(r,r)}return 47&n.type?new ws(e[16],e):null}(gt(),F(),16==(16&n))}class s0{constructor(){}supports(e){return fs(e)}create(e){return new hx(e)}}const fx=(n,e)=>e;class hx{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fx}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<l0(r,i,o)?t:r,a=l0(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;c<=p&&p<u&&(o[f]=h+1)}o[s.previousIndex]=c-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!fs(e))throw new W(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function wS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Xi()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new px(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new a0),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new a0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class px{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gx{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class a0{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new gx,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function l0(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function c0(){return new ml([new s0])}let ml=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||c0()),deps:[[n,new es,new kr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new W(901,"")}}return n.\u0275prov=oe({token:n,providedIn:"root",factory:c0}),n})();const bx=Q_(null,"core",[{provide:fl,useValue:"unknown"},{provide:Y_,deps:[Ct]},{provide:z_,deps:[]},{provide:$_,deps:[]}]);let Dx=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(j(Ss))},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({}),n})(),yl=null;function nr(){return yl}const vt=new be("DocumentToken");let fi=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:function(){return function Mx(){return j(f0)}()},providedIn:"platform"}),n})();const Tx=new be("Location Initialized");let f0=(()=>{class n extends fi{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(t){const r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){h0()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){h0()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(j(vt))},n.\u0275prov=oe({token:n,factory:function(){return function Sx(){return new f0(j(vt))}()},providedIn:"platform"}),n})();function h0(){return!!window.history.pushState}function yf(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function p0(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function wr(n){return n&&"?"!==n[0]?"?"+n:n}let bo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:function(){return function Ax(n){const e=j(vt).location;return new g0(j(fi),e&&e.origin||"")}()},providedIn:"root"}),n})();const vf=new be("appBaseHref");let g0=(()=>{class n extends bo{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yf(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+wr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+wr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+wr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(j(fi),j(vf,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),Ix=(()=>{class n extends bo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=yf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+wr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+wr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(j(fi),j(vf,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),_f=(()=>{class n{constructor(t,r){this._subject=new ot,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=p0(m0(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+wr(r))}normalize(t){return n.stripTrailingSlash(function Nx(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,m0(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+wr(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+wr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=wr,n.joinWithSlash=yf,n.stripTrailingSlash=p0,n.\u0275fac=function(t){return new(t||n)(j(bo),j(fi))},n.\u0275prov=oe({token:n,factory:function(){return function xx(){return new _f(j(bo),j(fi))}()},providedIn:"root"}),n})();function m0(n){return n.replace(/\/index.html$/,"")}function M0(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class mN{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let T0=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mN(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),S0(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{S0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(O(jn),O(Dr),O(ml))},n.\u0275dir=ce({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function S0(n,e){n.context.$implicit=e.item}let Ns=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new yN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){A0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){A0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(O(jn),O(Dr))},n.\u0275dir=ce({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class yN{constructor(){this.$implicit=null,this.ngIf=null}}function A0(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Re(e)}'.`)}let N0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({}),n})();let WN=(()=>{class n{}return n.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new KN(j(vt),window)}),n})();class KN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function QN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=F0(this.window.history)||F0(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function F0(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class P0{}class Ff extends class ZN extends class Ex{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Cx(n){yl||(yl=n)}(new Ff)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function YN(){return Os=Os||document.querySelector("base"),Os?Os.getAttribute("href"):null}();return null==t?null:function JN(n){Sl=Sl||document.createElement("a"),Sl.setAttribute("href",n);const e=Sl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Os=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return M0(document.cookie,e)}}let Sl,Os=null;const R0=new be("TRANSITION_ID"),e3=[{provide:rf,useFactory:function XN(n,e,t){return()=>{t.get(of).donePromise.then(()=>{const r=nr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[R0,vt,Ct],multi:!0}];class Pf{static init(){!function YI(n){df=n}(new Pf)}addToWindow(e){Ve.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ve.getAllAngularRootElements=()=>e.getAllRootElements(),Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push(r=>{const i=Ve.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?nr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let t3=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Al=new be("EventManagerPlugins");let Il=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(j(Al),j(lt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class k0{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=nr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let L0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),Fs=(()=>{class n extends L0{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(V0),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(V0))}}return n.\u0275fac=function(t){return new(t||n)(j(vt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function V0(n){nr().remove(n)}const Rf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kf=/%COMP%/g;function xl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?xl(n,i,t):(i=i.replace(kf,n),t.push(i))}return t}function H0(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nl=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Lf(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case In.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new a3(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case In.ShadowDom:return new l3(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=xl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(j(Il),j(Fs),j(Ts))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class Lf{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Rf[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Rf[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Rf[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(rn.DashCase|rn.Important)?e.style.setProperty(t,r,i&rn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&rn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,H0(r)):this.eventManager.addEventListener(e,t,H0(r))}}class a3 extends Lf{constructor(e,t,r,i){super(e),this.component=r;const o=xl(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function i3(n){return"_ngcontent-%COMP%".replace(kf,n)}(i+"-"+r.id),this.hostAttr=function o3(n){return"_nghost-%COMP%".replace(kf,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class l3 extends Lf{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=xl(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let u3=(()=>{class n extends k0{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(j(vt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const U0=["alt","control","meta","shift"],f3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},h3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let p3=(()=>{class n extends k0{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(U0.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function g3(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&G0.hasOwnProperty(e)&&(e=G0[e]))}return f3[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),U0.forEach(o=>{o!=i&&h3[o](t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(j(vt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const _3=Q_(bx,"browser",[{provide:fl,useValue:"browser"},{provide:B_,useValue:function m3(){Ff.makeCurrent(),Pf.init()},multi:!0},{provide:vt,useFactory:function v3(){return function PC(n){Yu=n}(document),document},deps:[]}]),b3=[{provide:hd,useValue:"root"},{provide:ss,useFactory:function y3(){return new ss},deps:[]},{provide:Al,useClass:u3,multi:!0,deps:[vt,lt,fl]},{provide:Al,useClass:p3,multi:!0,deps:[vt]},{provide:Nl,useClass:Nl,deps:[Il,Fs,Ts]},{provide:bs,useExisting:Nl},{provide:L0,useExisting:Fs},{provide:Fs,useClass:Fs,deps:[vt]},{provide:cf,useClass:cf,deps:[lt]},{provide:Il,useClass:Il,deps:[Al,lt]},{provide:P0,useClass:t3,deps:[]}];let q0=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Ts,useValue:t.appId},{provide:R0,useExisting:Ts},e3]}}}return n.\u0275fac=function(t){return new(t||n)(j(n,12))},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({providers:b3,imports:[N0,Dx]}),n})();"undefined"!=typeof window&&window;let K0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:function(t){let r=null;return r=t?new(t||n):j(Q0),r},providedIn:"root"}),n})(),Q0=(()=>{class n extends K0{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case He.NONE:return r;case He.HTML:return Qn(r,"HTML")?nn(r):qg(this._doc,String(r)).toString();case He.STYLE:return Qn(r,"Style")?nn(r):r;case He.SCRIPT:if(Qn(r,"Script"))return nn(r);throw new Error("unsafe value used in a script context");case He.URL:return Lg(r),Qn(r,"URL")?nn(r):ns(String(r));case He.RESOURCE_URL:if(Qn(r,"ResourceURL"))return nn(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function WE(n){return new $E(n)}(t)}bypassSecurityTrustStyle(t){return function KE(n){return new UE(n)}(t)}bypassSecurityTrustScript(t){return function QE(n){return new GE(n)}(t)}bypassSecurityTrustUrl(t){return function ZE(n){return new qE(n)}(t)}bypassSecurityTrustResourceUrl(t){return function YE(n){return new zE(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(j(vt))},n.\u0275prov=oe({token:n,factory:function(t){let r=null;return r=t?new t:function x3(n){return new Q0(n.get(vt))}(j(Ct)),r},providedIn:"root"}),n})();function De(...n){return Dt(n,Lo(n))}class Un extends ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:N3}=Array,{getPrototypeOf:O3,prototype:F3,keys:P3}=Object;function Z0(n){if(1===n.length){const e=n[0];if(N3(e))return{args:e,keys:null};if(function R3(n){return n&&"object"==typeof n&&O3(n)===F3}(e)){const t=P3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:k3}=Array;function Y0(n){return Y(e=>function L3(n,e){return k3(e)?n(...e):n(e)}(n,e))}function J0(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function X0(n,e,t){n?cr(t,n,e):e()}function Ol(n,e){const t=v(n)?n:()=>n,r=i=>i.error(t());return new Ze(e?i=>e.schedule(r,0,i):r)}const Fl=I(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function jf(...n){return function B3(){return ko(1)}()(Dt(n,Lo(n)))}function e1(n){return new Ze(e=>{qn(n()).subscribe(e)})}function t1(){return w((n,e)=>{let t=null;n._refCount++;const r=x(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class H3 extends Ze{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new P;const t=this.getSubject();e.add(this.source.subscribe(x(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=P.EMPTY)}return e}refCount(){return t1()(this)}}function hi(n,e){return w((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(x(r,l=>{null==i||i.unsubscribe();let u=0;const c=o++;qn(n(l,c)).subscribe(i=x(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function U3(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(x(s,c=>{const d=u++;l=a?n(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function n1(n,e){return w(U3(n,e,arguments.length>=2,!0))}function pi(n,e){return w((t,r)=>{let i=0;t.subscribe(x(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ur(n){return w((e,t)=>{let o,r=null,i=!1;r=e.subscribe(x(t,void 0,void 0,s=>{o=qn(n(s,Ur(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Do(n,e){return v(e)?bt(n,e,1):bt(n,1)}function Bf(n){return n<=0?()=>dr:w((e,t)=>{let r=[];e.subscribe(x(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function r1(n=G3){return w((e,t)=>{let r=!1;e.subscribe(x(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function G3(){return new Fl}function i1(n){return w((e,t)=>{let r=!1;e.subscribe(x(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function wo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pi((i,o)=>n(i,o,r)):Gt,aa(1),t?i1(e):r1(()=>new Fl))}function an(n,e,t){const r=v(n)||e||t?{next:n,error:e,complete:t}:n;return r?w((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(x(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Gt}class Er{constructor(e,t){this.id=e,this.url=t}}class Hf extends Er{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ps extends Er{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class o1 extends Er{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class W3 extends Er{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class K3 extends Er{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q3 extends Er{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z3 extends Er{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Y3 extends Er{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J3 extends Er{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s1{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class a1{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class X3{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eO{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tO{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nO{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l1{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Se="primary";class rO{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Co(n){return new rO(n)}const u1="ngNavigationCancelingError";function $f(n){const e=Error("NavigationCancelingError: "+n);return e[u1]=!0,e}function oO(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function rr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!c1(n[i],e[i]))return!1;return!0}function c1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function d1(n){return Array.prototype.concat.apply([],n)}function f1(n){return n.length>0?n[n.length-1]:null}function St(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ir(n){return Td(n)?n:ps(n)?Dt(Promise.resolve(n)):De(n)}const lO={exact:function g1(n,e,t){if(!mi(n.segments,e.segments)||!Pl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!g1(n.children[r],e.children[r],t))return!1;return!0},subset:m1},h1={exact:function uO(n,e){return rr(n,e)},subset:function cO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>c1(n[t],e[t]))},ignored:()=>!0};function p1(n,e,t){return lO[t.paths](n.root,e.root,t.matrixParams)&&h1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function m1(n,e,t){return y1(n,e,e.segments,t)}function y1(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!mi(i,t)||e.hasChildren()||!Pl(i,t,r))}if(n.segments.length===t.length){if(!mi(n.segments,t)||!Pl(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!m1(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(mi(n.segments,i)&&Pl(n.segments,i,r)&&n.children[Se])&&y1(n.children[Se],e,o,r)}}function Pl(n,e,t){return e.every((r,i)=>h1[t](n[i].parameters,r.parameters))}class gi{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Co(this.queryParams)),this._queryParamMap}toString(){return hO.serialize(this)}}class Ie{constructor(e,t){this.segments=e,this.children=t,this.parent=null,St(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rl(this)}}class Rs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Co(this.parameters)),this._parameterMap}toString(){return w1(this)}}function mi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class v1{}class _1{parse(e){const t=new wO(e);return new gi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ks(e.root,!0)}`,r=function mO(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${kl(t)}=${kl(i)}`).join("&"):`${kl(t)}=${kl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function pO(n){return encodeURI(n)}(e.fragment)}`:""}`}}const hO=new _1;function Rl(n){return n.segments.map(e=>w1(e)).join("/")}function ks(n,e){if(!n.hasChildren())return Rl(n);if(e){const t=n.children[Se]?ks(n.children[Se],!1):"",r=[];return St(n.children,(i,o)=>{o!==Se&&r.push(`${o}:${ks(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function fO(n,e){let t=[];return St(n.children,(r,i)=>{i===Se&&(t=t.concat(e(r,i)))}),St(n.children,(r,i)=>{i!==Se&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Se?[ks(n.children[Se],!1)]:[`${i}:${ks(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Se]?`${Rl(n)}/${t[0]}`:`${Rl(n)}/(${t.join("//")})`}}function b1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kl(n){return b1(n).replace(/%3B/gi,";")}function Uf(n){return b1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ll(n){return decodeURIComponent(n)}function D1(n){return Ll(n.replace(/\+/g,"%20"))}function w1(n){return`${Uf(n.path)}${function gO(n){return Object.keys(n).map(e=>`;${Uf(e)}=${Uf(n[e])}`).join("")}(n.parameters)}`}const yO=/^[^\/()?;=#]+/;function Vl(n){const e=n.match(yO);return e?e[0]:""}const vO=/^[^=?&#]+/,bO=/^[^&#]+/;class wO{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Se]=new Ie(e,t)),r}parseSegment(){const e=Vl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Rs(Ll(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Vl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Vl(this.remaining);i&&(r=i,this.capture(r))}e[Ll(t)]=Ll(r)}parseQueryParam(e){const t=function _O(n){const e=n.match(vO);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function DO(n){const e=n.match(bO);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=D1(t),o=D1(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Vl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Se);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Se]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class C1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Gf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qf(e,this._root).map(t=>t.value)}}function Gf(n,e){if(n===e.value)return e;for(const t of e.children){const r=Gf(n,t);if(r)return r}return null}function qf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qf(n,t);if(r.length)return r.unshift(e),r}return[]}class Mr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Eo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class E1 extends C1{constructor(e,t){super(e),this.snapshot=t,zf(this,e)}toString(){return this.snapshot.toString()}}function M1(n,e){const t=function CO(n,e){const s=new jl([],{},{},"",{},Se,e,null,n.root,-1,{});return new S1("",new Mr(s,[]))}(n,e),r=new Un([new Rs("",{})]),i=new Un({}),o=new Un({}),s=new Un({}),a=new Un(""),l=new Mo(r,i,s,a,o,Se,e,t.root);return l.snapshot=t.root,new E1(new Mr(l,[]),t)}class Mo{constructor(e,t,r,i,o,s,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Y(e=>Co(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Y(e=>Co(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function T1(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function EO(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class jl{constructor(e,t,r,i,o,s,a,l,u,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Co(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Co(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class S1 extends C1{constructor(e,t){super(t),this.url=e,zf(this,t)}toString(){return A1(this._root)}}function zf(n,e){e.value._routerState=n,e.children.forEach(t=>zf(n,t))}function A1(n){const e=n.children.length>0?` { ${n.children.map(A1).join(", ")} } `:"";return`${n.value}${e}`}function Wf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,rr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),rr(e.params,t.params)||n.params.next(t.params),function sO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!rr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),rr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Kf(n,e){const t=rr(n.params,e.params)&&function dO(n,e){return mi(n,e)&&n.every((t,r)=>rr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Kf(n.parent,e.parent))}function Ls(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function TO(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ls(n,r,i);return Ls(n,r)})}(n,e,t);return new Mr(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ls(n,a)),s}}const r=function SO(n){return new Mo(new Un(n.url),new Un(n.params),new Un(n.queryParams),new Un(n.fragment),new Un(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Ls(n,o));return new Mr(r,i)}}function Bl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vs(n){return"object"==typeof n&&null!=n&&n.outlets}function Qf(n,e,t,r,i){let o={};return r&&St(r,(s,a)=>{o[a]=Array.isArray(s)?s.map(l=>`${l}`):`${s}`}),new gi(t.root===n?e:I1(t.root,n,e),o,i)}function I1(n,e,t){const r={};return St(n.children,(i,o)=>{r[o]=i===e?t:I1(i,e,t)}),new Ie(n.segments,r)}class x1{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bl(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Vs);if(i&&i!==f1(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function N1(n,e,t){if(n||(n=new Ie([],{})),0===n.segments.length&&n.hasChildren())return Hl(n,e,t);const r=function FO(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Vs(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!F1(l,u,s))return o;r+=2}else{if(!F1(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Ie(n.segments.slice(0,r.pathIndex),{});return o.children[Se]=new Ie(n.segments.slice(r.pathIndex),n.children),Hl(o,0,i)}return r.match&&0===i.length?new Ie(n.segments,{}):r.match&&!n.hasChildren()?Yf(n,e,t):r.match?Hl(n,0,i):Yf(n,e,t)}function Hl(n,e,t){if(0===t.length)return new Ie(n.segments,{});{const r=function OO(n){return Vs(n[0])?n[0].outlets:{[Se]:n}}(t),i={};return St(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=N1(n.children[s],e,o))}),St(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Ie(n.segments,i)}}function Yf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Vs(o)){const l=PO(o.outlets);return new Ie(r,l)}if(0===i&&Bl(t[0])){r.push(new Rs(n.segments[e].path,O1(t[0]))),i++;continue}const s=Vs(o)?o.outlets[Se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Bl(a)?(r.push(new Rs(s,O1(a))),i+=2):(r.push(new Rs(s,{})),i++)}return new Ie(r,{})}function PO(n){const e={};return St(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Yf(new Ie([],{}),0,t))}),e}function O1(n){const e={};return St(n,(t,r)=>e[r]=`${t}`),e}function F1(n,e,t){return n==t.path&&rr(e,t.parameters)}class kO{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Wf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Eo(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),St(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Eo(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Eo(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Eo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nO(o.value.snapshot))}),e.children.length&&this.forwardEvent(new eO(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Wf(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Wf(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=function LO(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=l,s.outlet&&s.outlet.activateWith(i,l),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class Jf{constructor(e,t){this.routes=e,this.module=t}}function Gr(n){return"function"==typeof n}function yi(n){return n instanceof gi}const js=Symbol("INITIAL_VALUE");function Bs(){return hi(n=>function V3(...n){const e=Lo(n),t=Op(n),{args:r,keys:i}=Z0(n);if(0===r.length)return Dt([],e);const o=new Ze(function j3(n,e,t=Gt){return r=>{X0(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)X0(e,()=>{const u=Dt(n[l],e);let c=!1;u.subscribe(x(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>J0(i,s):Gt));return t?o.pipe(Y0(t)):o}(n.map(e=>e.pipe(aa(1),function $3(...n){const e=Lo(n);return w((t,r)=>{(e?jf(n,t,e):jf(n,t)).subscribe(r)})}(js)))).pipe(n1((e,t)=>{let r=!1;return t.reduce((i,o,s)=>i!==js?i:(o===js&&(r=!0),r||!1!==o&&s!==t.length-1&&!yi(o)?i:o),e)},js),pi(e=>e!==js),Y(e=>yi(e)?e:!0===e),aa(1)))}class UO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hs,this.attachRef=null}}class Hs{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new UO,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Xf=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new ot,this.deactivateEvents=new ot,this.attachEvents=new ot,this.detachEvents=new ot,this.name=o||Se,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const s=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new GO(t,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(O(Hs),O(jn),O(mo),function Wo(n){return function uE(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(cg(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(gt(),n)}("name"),O(hl))},n.\u0275dir=ce({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class GO{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Mo?this.route:e===Hs?this.childContexts:this.parent.get(e,t)}}let P1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&X(0,"router-outlet")},directives:[Xf],encapsulation:2}),n})();function R1(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];qO(r,zO(e,r))}}function qO(n,e){n.children&&R1(n.children,e)}function zO(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function eh(n){const e=n.children&&n.children.map(eh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Se&&(t.component=P1),t}function Mn(n){return n.outlet||Se}function k1(n,e){const t=n.filter(r=>Mn(r)===e);return t.push(...n.filter(r=>Mn(r)!==e)),t}const L1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $l(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},L1):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||oO)(t,n,e);if(!o)return Object.assign({},L1);const s={};St(o.posParams,(l,u)=>{s[u]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function Ul(n,e,t,r,i="corrected"){if(t.length>0&&function QO(n,e,t){return t.some(r=>Gl(n,e,r)&&Mn(r)!==Se)}(n,t,r)){const s=new Ie(e,function KO(n,e,t,r){const i={};i[Se]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Mn(o)!==Se){const s=new Ie([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[Mn(o)]=s}return i}(n,e,r,new Ie(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function ZO(n,e,t){return t.some(r=>Gl(n,e,r))}(n,t,r)){const s=new Ie(n.segments,function WO(n,e,t,r,i,o){const s={};for(const a of r)if(Gl(n,t,a)&&!i[Mn(a)]){const l=new Ie([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[Mn(a)]=l}return Object.assign(Object.assign({},i),s)}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new Ie(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Gl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function V1(n,e,t,r){return!!(Mn(n)===r||r!==Se&&Gl(e,t,n))&&("**"===n.path||$l(e,n,t).matched)}function j1(n,e,t){return 0===e.length&&!n.children[t]}class $s{constructor(e){this.segmentGroup=e||null}}class B1{constructor(e){this.urlTree=e}}function ql(n){return Ol(new $s(n))}function H1(n){return Ol(new B1(n))}class eF{constructor(e,t,r,i,o){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(br)}apply(){const e=Ul(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ie(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Se).pipe(Y(o=>this.createUrlTree(th(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ur(o=>{if(o instanceof B1)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof $s?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Se).pipe(Y(i=>this.createUrlTree(th(i),e.queryParams,e.fragment))).pipe(Ur(i=>{throw i instanceof $s?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ie([],{[Se]:e}):e;return new gi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Y(o=>new Ie([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Dt(i).pipe(Do(o=>{const s=r.children[o],a=k1(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(Y(l=>({segment:l,outlet:o})))}),n1((o,s)=>(o[s.outlet]=s.segment,o),{}),function q3(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pi((i,o)=>n(i,o,r)):Gt,Bf(1),t?i1(e):r1(()=>new Fl))}())}expandSegment(e,t,r,i,o,s){return Dt(r).pipe(Do(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(Ur(u=>{if(u instanceof $s)return De(null);throw u}))),wo(a=>!!a),Ur((a,l)=>{if(a instanceof Fl||"EmptyError"===a.name){if(j1(t,i,o))return De(new Ie([],{}));throw new $s(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return V1(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):ql(t):ql(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?H1(o):this.lineralizeSegments(r,o).pipe(bt(s=>{const a=new Ie(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=$l(t,i,o);if(!a)return ql(t);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?H1(d):this.lineralizeSegments(i,d).pipe(bt(f=>this.expandSegment(e,t,r,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?De(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Y(d=>(r._loadedConfig=d,new Ie(i,{})))):De(new Ie(i,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=$l(t,r,i);return s?this.getChildConfig(e,r,i).pipe(bt(c=>{const d=c.module,f=c.routes,{segmentGroup:h,slicedSegments:p}=Ul(t,a,l,f),C=new Ie(h.segments,h.children);if(0===p.length&&C.hasChildren())return this.expandChildren(d,f,C).pipe(Y(L=>new Ie(a,L)));if(0===f.length&&0===p.length)return De(new Ie(a,{}));const S=Mn(r)===o;return this.expandSegment(d,C,f,p,S?Se:o,!0).pipe(Y(E=>new Ie(a.concat(E.segments),E.children)))})):ql(t)}getChildConfig(e,t,r){return t.children?De(new Jf(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?De(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(bt(i=>i?this.configLoader.load(e.injector,t).pipe(Y(o=>(t._loadedConfig=o,o))):function JO(n){return Ol($f(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):De(new Jf([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?De(i.map(s=>{const a=e.get(s);let l;if(function jO(n){return n&&Gr(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!Gr(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return ir(l)})).pipe(Bs(),an(s=>{if(!yi(s))return;const a=$f(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),Y(s=>!0===s)):De(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return De(r);if(i.numberOfChildren>1||!i.children[Se])return Ol(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Se]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new gi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return St(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return St(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,r,i)}),new Ie(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function th(n){const e={};for(const r of Object.keys(n.children)){const o=th(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function tF(n){if(1===n.numberOfChildren&&n.children[Se]){const e=n.children[Se];return new Ie(n.segments.concat(e.segments),e.children)}return n}(new Ie(n.segments,e))}class $1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zl{constructor(e,t){this.component=e,this.route=t}}function rF(n,e,t){const r=n._root;return Us(r,e?e._root:null,t,[r.value])}function Wl(n,e,t){const r=function oF(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Us(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Eo(e);return n.children.forEach(s=>{(function sF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function aF(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!mi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mi(n.url,e.url)||!rr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kf(n,e)||!rr(n.queryParams,e.queryParams);default:return!Kf(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new $1(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Us(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zl(a.outlet.component,s))}else s&&Gs(e,a,i),i.canActivateChecks.push(new $1(r)),Us(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),St(o,(s,a)=>Gs(s,t.getContext(a),i)),i}function Gs(n,e,t){const r=Eo(n),i=n.value;St(r,(o,s)=>{Gs(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new zl(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class mF{}function U1(n){return new Ze(e=>e.error(n))}class vF{constructor(e,t,r,i,o,s){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const e=Ul(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Se);if(null===t)return null;const r=new jl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Se,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Mr(r,t),o=new S1(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const t=e.value,r=T1(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const o of Object.keys(t.children)){const s=t.children[o],a=k1(e,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;r.push(...l)}const i=G1(r);return function _F(n){n.sort((e,t)=>e.value.outlet===Se?-1:t.value.outlet===Se?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const o of e){const s=this.processSegmentAgainstRoute(o,t,r,i);if(null!==s)return s}return j1(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!V1(e,t,r,i))return null;let o,s=[],a=[];if("**"===e.path){const h=r.length>0?f1(r).parameters:{};o=new jl(r,h,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,W1(e),Mn(e),e.component,e,q1(t),z1(t)+r.length,K1(e))}else{const h=$l(t,e,r);if(!h.matched)return null;s=h.consumedSegments,a=h.remainingSegments,o=new jl(s,h.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,W1(e),Mn(e),e.component,e,q1(t),z1(t)+s.length,K1(e))}const l=function bF(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=Ul(t,s,a,l.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const h=this.processChildren(l,u);return null===h?null:[new Mr(o,h)]}if(0===l.length&&0===c.length)return[new Mr(o,[])];const d=Mn(e)===i,f=this.processSegment(l,u,c,d?Se:i);return null===f?null:[new Mr(o,f)]}}function DF(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function G1(n){const e=[],t=new Set;for(const r of n){if(!DF(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=G1(r.children);e.push(new Mr(r.value,i))}return e.filter(r=>!t.has(r))}function q1(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function z1(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function W1(n){return n.data||{}}function K1(n){return n.resolve||{}}function Q1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function nh(n){return hi(e=>{const t=n(e);return t?Dt(t).pipe(Y(()=>e)):De(e)})}class IF extends class AF{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const rh=new be("ROUTES");class Z1{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Y(o=>{this.onLoadEndListener&&this.onLoadEndListener(t);const s=o.create(e);return new Jf(d1(s.injector.get(rh,void 0,ye.Self|ye.Optional)).map(eh),s)}),Ur(o=>{throw t._loader$=void 0,o}));return t._loader$=new H3(i,()=>new ct).pipe(t1()),t._loader$}loadModuleFactory(e){return ir(e()).pipe(bt(t=>t instanceof s_?De(t):Dt(this.compiler.compileModuleAsync(t))))}}class NF{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function OF(n){throw n}function FF(n,e,t){return e.parse("/")}function Y1(n,e){return De(null)}const PF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ft=(()=>{class n{constructor(t,r,i,o,s,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ct,this.errorHandler=OF,this.malformedUriErrorHandler=FF,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Y1,afterPreactivation:Y1},this.urlHandlingStrategy=new NF,this.routeReuseStrategy=new IF,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(br),this.console=s.get($_);const d=s.get(lt);this.isNgZoneEnabled=d instanceof lt&&lt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function aO(){return new gi(new Ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Z1(s,a,f=>this.triggerEvent(new s1(f)),f=>this.triggerEvent(new a1(f))),this.routerState=M1(this.currentUrlTree,this.rootComponentType),this.transitions=new Un({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(pi(i=>0!==i.id),Y(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),hi(i=>{let o=!1,s=!1;return De(i).pipe(an(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hi(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Kl(a.source)&&(this.browserUrlTree=a.extractedUrl),De(a).pipe(hi(d=>{const f=this.transitions.getValue();return r.next(new Hf(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions.getValue()?dr:Promise.resolve(d)}),function nF(n,e,t,r){return hi(i=>function XO(n,e,t,r,i){return new eF(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Y(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),an(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function wF(n,e,t,r,i){return bt(o=>function yF(n,e,t,r,i="emptyOnly",o="legacy"){try{const s=new vF(n,e,t,r,i,o).recognize();return null===s?U1(new mF):De(s)}catch(s){return U1(s)}}(n,e,o.urlAfterRedirects,t(o.urlAfterRedirects),r,i).pipe(Y(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),an(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const h=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(h,d)}this.browserUrlTree=d.urlAfterRedirects}const f=new K3(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(f)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:f,extractedUrl:h,source:p,restoredState:C,extras:S}=a,M=new Hf(f,this.serializeUrl(h),p,C);r.next(M);const E=M1(h,this.rootComponentType).snapshot;return De(Object.assign(Object.assign({},a),{targetSnapshot:E,urlAfterRedirects:h,extras:Object.assign(Object.assign({},S),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),dr}),nh(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:h}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!h})}),an(a=>{const l=new Q3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Y(a=>Object.assign(Object.assign({},a),{guards:rF(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function lF(n,e){return bt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?De(Object.assign(Object.assign({},t),{guardsResult:!0})):function uF(n,e,t,r){return Dt(n).pipe(bt(i=>function gF(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?De(o.map(a=>{const l=Wl(a,e,i);let u;if(function $O(n){return n&&Gr(n.canDeactivate)}(l))u=ir(l.canDeactivate(n,e,t,r));else{if(!Gr(l))throw new Error("Invalid CanDeactivate guard");u=ir(l(n,e,t,r))}return u.pipe(wo())})).pipe(Bs()):De(!0)}(i.component,i.route,t,e,r)),wo(i=>!0!==i,!0))}(s,r,i,n).pipe(bt(a=>a&&function VO(n){return"boolean"==typeof n}(a)?function cF(n,e,t,r){return Dt(e).pipe(Do(i=>jf(function fF(n,e){return null!==n&&e&&e(new X3(n)),De(!0)}(i.route.parent,r),function dF(n,e){return null!==n&&e&&e(new tO(n)),De(!0)}(i.route,r),function pF(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function iF(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>e1(()=>De(s.guards.map(l=>{const u=Wl(l,s.node,t);let c;if(function HO(n){return n&&Gr(n.canActivateChild)}(u))c=ir(u.canActivateChild(r,n));else{if(!Gr(u))throw new Error("Invalid CanActivateChild guard");c=ir(u(r,n))}return c.pipe(wo())})).pipe(Bs())));return De(o).pipe(Bs())}(n,i.path,t),function hF(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return De(!0);const i=r.map(o=>e1(()=>{const s=Wl(o,e,t);let a;if(function BO(n){return n&&Gr(n.canActivate)}(s))a=ir(s.canActivate(e,n));else{if(!Gr(s))throw new Error("Invalid CanActivate guard");a=ir(s(e,n))}return a.pipe(wo())}));return De(i).pipe(Bs())}(n,i.route,t))),wo(i=>!0!==i,!0))}(r,o,n,e):De(a)),Y(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),an(a=>{if(yi(a.guardsResult)){const u=$f(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new Z3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),pi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),nh(a=>{if(a.guards.canActivateChecks.length)return De(a).pipe(an(l=>{const u=new Y3(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),hi(l=>{let u=!1;return De(l).pipe(function CF(n,e){return bt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return De(t);let o=0;return Dt(i).pipe(Do(s=>function EF(n,e,t,r){return function MF(n,e,t,r){const i=Q1(n);if(0===i.length)return De({});const o={};return Dt(i).pipe(bt(s=>function TF(n,e,t,r){const i=Wl(n,e,r);return ir(i.resolve?i.resolve(e,t):i(e,t))}(n[s],e,t,r).pipe(an(a=>{o[s]=a}))),Bf(1),bt(()=>Q1(o).length===i.length?De(o):dr))}(n._resolve,n,e,r).pipe(Y(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),T1(n,t).resolve),null)))}(s.route,r,n,e)),an(()=>o++),Bf(1),bt(s=>o===i.length?De(t):dr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),an({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),an(l=>{const u=new J3(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),nh(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:h}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!h})}),Y(a=>{const l=function MO(n,e,t){const r=Ls(n,e._root,t?t._root:void 0);return new E1(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),an(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Y(r=>(new kO(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),an({next(){o=!0},complete(){o=!0}}),function z3(n){return w((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;o||s||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ur(a=>{if(s=!0,function iO(n){return n&&n[u1]}(a)){const l=yi(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const u=new o1(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(u),l?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Kl(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new W3(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return dr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){R1(t),this.config=t.map(eh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),function AO(n,e,t,r,i){if(0===t.length)return Qf(e.root,e.root,e,r,i);const o=function IO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new x1(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return St(o.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new x1(t,e,r)}(t);if(o.toRoot())return Qf(e.root,new Ie([],{}),e,r,i);const s=function xO(n,e,t){if(n.isAbsolute)return new Zf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const o=t.snapshot._urlSegment;return new Zf(o,o===e.root,0)}const r=Bl(n.commands[0])?0:1;return function NO(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Zf(r,!1,i-o)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(o,e,n),a=s.processChildren?Hl(s.segmentGroup,s.index,o.commands):N1(s.segmentGroup,s.index,o.commands);return Qf(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,d,null!=c?c:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=yi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function kF(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},PF):!1===r?Object.assign({},RF):r,yi(t))return p1(this.currentUrlTree,t,i);const o=this.parseUrl(t);return p1(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ps(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){var a,l,u;if(this.disposed)return Promise.resolve(!1);const c=this.transitions.value,d=Kl(r)&&c&&!Kl(c.source),f=c.rawUrl.toString()===t.toString(),h=c.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&f&&h)return Promise.resolve(!0);let C,S,M;s?(C=s.resolve,S=s.reject,M=s.promise):M=new Promise((K,we)=>{C=K,S=we});const E=++this.navigationId;let L;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),L=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):L=0,this.setTransition({id:E,targetPageId:L,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:C,reject:S,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(K=>Promise.reject(K))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new o1(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Ed()},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function Kl(n){return"imperative"!==n}let Ql=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new ct,this.subscription=t.events.subscribe(o=>{o instanceof Ps&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,s){if(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:To(this.skipLocationChange),replaceUrl:To(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:To(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(O(Ft),O(Mo),O(bo))},n.\u0275dir=ce({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&te("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Kt("target",r.target)("href",r.href,Ac)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Xt]}),n})();function To(n){return""===n||!!n}class J1{}class X1{preload(e,t){return De(null)}}let eb=(()=>{class n{constructor(t,r,i,o){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Z1(i,r,l=>t.triggerEvent(new s1(l)),l=>t.triggerEvent(new a1(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(pi(t=>t instanceof Ps),Do(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(br);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children));return Dt(i).pipe(ko(),Y(o=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?De(r._loadedConfig):this.loader.load(t.injector,r)).pipe(bt(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(j(Ft),j(U_),j(Ct),j(J1))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),oh=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Hf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ps&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof l1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new l1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Ed()},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const vi=new be("ROUTER_CONFIGURATION"),tb=new be("ROUTER_FORROOT_GUARD"),BF=[_f,{provide:v1,useClass:_1},{provide:Ft,useFactory:function qF(n,e,t,r,i,o,s={},a,l){const u=new Ft(null,n,e,t,r,i,d1(o));return a&&(u.urlHandlingStrategy=a),l&&(u.routeReuseStrategy=l),function zF(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(s,u),s.enableTracing&&u.events.subscribe(c=>{var d,f;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(f=console.groupEnd)||void 0===f||f.call(console)}),u},deps:[v1,Hs,_f,Ct,U_,rh,vi,[class xF{},new kr],[class SF{},new kr]]},Hs,{provide:Mo,useFactory:function WF(n){return n.routerState.root},deps:[Ft]},eb,X1,class jF{preload(e,t){return t().pipe(Ur(()=>De(null)))}},{provide:vi,useValue:{enableTracing:!1}}];function HF(){return new K_("Router",Ft)}let nb=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[BF,rb(t),{provide:tb,useFactory:GF,deps:[[Ft,new kr,new es]]},{provide:vi,useValue:r||{}},{provide:bo,useFactory:UF,deps:[fi,[new Fa(vf),new kr],vi]},{provide:oh,useFactory:$F,deps:[Ft,WN,vi]},{provide:J1,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:X1},{provide:K_,multi:!0,useFactory:HF},[sh,{provide:rf,multi:!0,useFactory:KF,deps:[sh]},{provide:ib,useFactory:QF,deps:[sh]},{provide:H_,multi:!0,useExisting:ib}]]}}static forChild(t){return{ngModule:n,providers:[rb(t)]}}}return n.\u0275fac=function(t){return new(t||n)(j(tb,8),j(Ft,8))},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({}),n})();function $F(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new oh(n,e,t)}function UF(n,e,t={}){return t.useHash?new Ix(n,e):new g0(n,e)}function GF(n){return"guarded"}function rb(n){return[{provide:pE,multi:!0,useValue:n},{provide:rh,multi:!0,useValue:n}]}let sh=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ct}appInitializer(){return this.injector.get(Tx,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),o=this.injector.get(Ft),s=this.injector.get(vi);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?De(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(vi),i=this.injector.get(eb),o=this.injector.get(oh),s=this.injector.get(Ft),a=this.injector.get(Ss);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(j(Ct))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function KF(n){return n.appInitializer.bind(n)}function QF(n){return n.bootstrapListener.bind(n)}const ib=new be("Router Initializer");let YF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pn({type:n,selectors:[["app-landing-page"]],decls:54,vars:0,consts:[[1,"text-black","dark:text-white","bg-white","dark:bg-black"],[1,"bg-blue-50","dark:bg-[#37373b]","xl:h-screen","overflow-hidden","relative"],[1,"sm:h-96","xl:h-full","container","mx-auto","px-5"],[1,"absolute","top-8"],["src","assets/img/guido-logo.png","width","100","height","auto","alt","Logo guido"],[1,"xl:h-full","grid","gap-y-8","sm:gap-y-0","sm:gap-x-10","sm:grid-cols-2","mt-32","xl:mt-auto","content-center"],[1,"sm:col-span-1","space-y-5","md:space-y-8"],[1,"text-4xl","sm:text-5xl","xl:text-7xl","font-semibold"],[1,"max-w-sm","text-lg","md:text-2xl"],[1,"flex","justify-start","space-x-4"],["routerLink","/createMap",1,"shadow","rounded-lg","transition","duration-200","ease-in-out","transform","hover:-translate-y-1","hover:shadow-lg","p-5","bg-white","dark:bg-[#000]","font-semibold"],[1,"grid","justify-items-center"],["src","assets/img/hand-illustration.png","alt","",1,"sm:absolute","sm:-right-32","md:-right-16","lg:right-0","bottom-0","w-2/3","sm:w-2/4","lg:w-2/5"],[1,"hidden","sm:block","sm:absolute","bottom-6","sm:inset-x-1/2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","animate-bounce"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 14l-7 7m0 0l-7-7m7 7V3"],[1,"bg-white","dark:bg-black","container","mx-auto","px-5","py-12","lg:py-28"],[1,"grid","gap-4","md:gap-10","lg:grid-cols-3"],[1,""],[1,"text-2xl","md:text-3xl","font-semibold"],[1,"lg:col-span-2"],[1,"text-lg","md:text-2xl"],[1,"bg-white","dark:bg-black","container","mx-auto","md:px-5"],[1,"pt-12","lg:pt-24","px-5","md:px-0","text-center","bg-blue-50","dark:bg-[#37373b]","space-y-8","md:space-y-12"],[1,"space-y-4"],[1,"text-base"],["routerLink","/guideMobile",1,"text-base","underline","hover:text-gray-600","dark:hover:text-gray-300"],[1,"flex","justify-center","space-x-4"],["href","#"],["src","assets/img/apple-store-black-button.svg","alt","",1,"shadow","rounded-lg","transition","duration-200","ease-in-out","transform","hover:-translate-y-1","hover:shadow-lg"],["src","assets/img/google-play-black-button.svg","alt","",1,"shadow","rounded-lg","transition","duration-200","ease-in-out","transform","hover:-translate-y-1","hover:shadow-lg"],["src","assets/img/iphone-mockup.svg","alt","",1,"w-11/12","sm:w-2/3","md:w-1/3"],[1,"container","bg-white","dark:bg-black","mx-auto","my-8","px-5"],[1,"text-black","dark:text-white","md:flex","md:justify-between","md:items-center","text-xs","text-center","text-gray-600","space-y-3","md:space-y-0"],[1,"space-y-2","md:space-y-0","md:flex","md:justify-between","md:items-center","md:space-x-5"],["href","https://github.com/ucll-ap-guide/guideApp-desktop","target","_blank"],[1,"text-2xl","transition","duration-500","ease-in-out","transform","hover:scale-125","bx","bxl-github"]],template:function(t,r){1&t&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),X(4,"img",4),m(),g(5,"div",5)(6,"div",6)(7,"h1",7),D(8,"Welcome to GuidO!"),m(),g(9,"p",8),D(10,"The newest revolution in the way we navigate through the world"),m(),g(11,"div",9)(12,"a",10),D(13,"Get started"),m()()(),g(14,"div",11),X(15,"img",12),m()()(),g(16,"div",13),at(),g(17,"svg",14),X(18,"path",15),m()()(),Tt(),g(19,"section",16)(20,"div",17)(21,"div",18)(22,"h2",19),D(23,"About Our App"),m()(),g(24,"div",20)(25,"p",21),D(26," Create, update, share and use maps from around the world to make the process of navigating around our ever more complex building layout efficient and fast. "),X(27,"br")(28,"br"),D(29," Revolutionary and fast setup, give it a try! "),m()()()(),g(30,"section",22)(31,"div",23)(32,"div",24)(33,"h2",19),D(34,"Get the app now!"),m(),g(35,"p",25),D(36,"GuidO is available on both IOS and Android"),m(),g(37,"a",26),D(38," User guide "),m()(),g(39,"div",27)(40,"a",28),X(41,"img",29),m(),g(42,"a",28),X(43,"img",30),m()(),g(44,"div",11),X(45,"img",31),m()()(),g(46,"footer",32)(47,"div",33)(48,"div",34)(49,"p"),D(50,"Copyright \xa9 2022 GuidO App. All rights reserved."),m()(),g(51,"div",27)(52,"a",35),X(53,"i",36),m()()()()())},directives:[Ql],encapsulation:2}),n})();class de{constructor(e,t){this.x=e,this.y=t}static copy(e){return new de(e.x,e.y)}static toArray(e){return[e.x,e.y]}static toPoint(e){return new de(e[0],e[1])}static pointStringFromArrayOfPoints(e){return e.map(t=>de.toArray(t).join(",")).join(" ")}static arrayOfPointsFromPointString(e){return e.split(" ").map(t=>t.split(",")).map(t=>new de(parseFloat(t[0]),parseFloat(t[1])))}static calculateNewCoordinatesForRotation(e,t){let i=(e[0].x+e[2].x)/2,o=(e[0].y+e[2].y)/2;return e.map(s=>function r(s,a,l,u,c){return c=c*Math.PI/180,new de(Math.cos(c)*(s-l)-Math.sin(c)*(a-u)+l,Math.sin(c)*(s-l)+Math.cos(c)*(a-u)+u)}(s.x,s.y,i,o,t))}static rotatePoint(e,t,r){return r=r*Math.PI/180,new de(Math.cos(r)*(e.x-t.x)-Math.sin(r)*(e.y-t.y)+t.x,Math.sin(r)*(e.x-t.x)+Math.cos(r)*(e.y-t.y)+t.y)}static determineDistanceBetweenCoords(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}}class qs{constructor(e,t,r,i,o,s,a=[204,204,204]){this.id=e,this.name=t,this.floor=r,this.type=i,this.description=o,this.points=s,this.color=a}static copy(e){return new qs(e.id,e.name,e.floor,e.type,e.description,e.points.map(t=>de.copy(t)),[e.color[0],e.color[1],e.color[2]])}}class So{constructor(e,t,r,i,o,s,a,l,u){this.id=e,this.name=t,this.floor=r,this.point=i,this.displayPoints=o,this.neighbors=s,this.type=a,this.color=l,this.degreesRotated=u}static copy(e){return new So(e.id,e.name,e.floor,de.copy(e.point),e.displayPoints.map(t=>de.copy(t)),e.neighbors.map(t=>t),e.type,e.color.map(t=>t),e.degreesRotated)}}class Zl{constructor(e,t,r,i){this.id=e,this.description=t,this.point=r,this.color=i}static copy(e){return new Zl(e.id,e.description,de.copy(e.point),[e.color[0],e.color[1],e.color[2]])}}class JF{constructor(e=[],t=[],r=[]){this.polygons=e,this.nodes=t,this.labels=r}}class zs{constructor(e,t,r,i=new JF){this.floor=e,this.name=t,this.height=r,this.overlays=i}static copy(e){return new zs(e.floor,e.name,e.height,{polygons:e.overlays.polygons.map(t=>qs.copy(t)),nodes:e.overlays.nodes.map(t=>So.copy(t)),labels:e.overlays.labels.map(t=>Zl.copy(t))})}}class Ws{constructor(e=!1,t=!1,r=!1,i,o,s,a=0,l=[]){this.editMode=e,this.setNeighborMode=t,this.deleteMode=r,this.name=i,this.length=o,this.width=s,this.lastId=a,this.floors=l}static copy(e){return new Ws(e.editMode,e.setNeighborMode,e.deleteMode,e.name,e.length,e.width,e.lastId,e.floors.map(t=>zs.copy(t)))}}var ne=(()=>{return(n=ne||(ne={})).DOOR="Door",n.EMERGENCY_EXIT="Emergency exit",n.NODE="Node",n.FIRE_EXTINGUISHER="Fire extinguisher",n.DEFIBRILLATOR="Defibrillator",n.COFFEE="Coffee",n.WC="WC",n.DISABLED_WC="Disabled WC",n.STAIRS="Stairs",n.LIFT="Lift",n.PARKING="Parking",n.VENDING_MACHINE="Vending machine",n.WATER_FOUNTAIN="Water fountain",n.HAND_SANITIZER="Hand sanitizer",ne;var n})(),Et=(()=>{return(n=Et||(Et={})).ROOM="Room",n.FLOOR="Floor",Et;var n})();class ob{}class sb{}class or{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof or?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new or;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof or?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class XF{encodeKey(e){return ab(e)}encodeValue(e){return ab(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const tP=/%(\d[a-f0-9])/gi,nP={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ab(n){return encodeURIComponent(n).replace(tP,(e,t)=>{var r;return null!==(r=nP[t])&&void 0!==r?r:e})}function lb(n){return`${n}`}class qr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new XF,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function eP(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new qr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(lb(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(lb(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class rP{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ub(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function cb(n){return"undefined"!=typeof Blob&&n instanceof Blob}function db(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ks{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function iP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new or),this.context||(this.context=new rP),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new qr,this.urlWithParams=t}serializeBody(){return null===this.body?null:ub(this.body)||cb(this.body)||db(this.body)||function oP(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||db(this.body)?null:cb(this.body)?this.body.type||null:ub(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),c)),new Ks(r,i,s,{params:c,headers:u,context:d,reportProgress:l,responseType:o,withCredentials:a})}}var pt=(()=>((pt=pt||{})[pt.Sent=0]="Sent",pt[pt.UploadProgress=1]="UploadProgress",pt[pt.ResponseHeader=2]="ResponseHeader",pt[pt.DownloadProgress=3]="DownloadProgress",pt[pt.Response=4]="Response",pt[pt.User=5]="User",pt))();class ah{constructor(e,t=200,r="OK"){this.headers=e.headers||new or,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lh extends ah{constructor(e={}){super(e),this.type=pt.ResponseHeader}clone(e={}){return new lh({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Yl extends ah{constructor(e={}){super(e),this.type=pt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Yl({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fb extends ah{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function uh(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hb=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ks)o=t;else{let l,u;l=i.headers instanceof or?i.headers:new or(i.headers),i.params&&(u=i.params instanceof qr?i.params:new qr({fromObject:i.params})),o=new Ks(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=De(o).pipe(Do(l=>this.handler.handle(l)));if(t instanceof Ks||"events"===i.observe)return s;const a=s.pipe(pi(l=>l instanceof Yl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Y(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Y(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Y(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Y(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new qr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,uh(i,r))}post(t,r,i={}){return this.request("POST",t,uh(i,r))}put(t,r,i={}){return this.request("PUT",t,uh(i,r))}}return n.\u0275fac=function(t){return new(t||n)(j(ob))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class pb{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const gb=new be("HTTP_INTERCEPTORS");let sP=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const aP=/^\)\]\}',?\n/;let mb=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ze(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((h,p)=>i.setRequestHeader(h,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const h=t.detectContentTypeHeader();null!==h&&i.setRequestHeader("Content-Type",h)}if(t.responseType){const h=t.responseType.toLowerCase();i.responseType="json"!==h?h:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const h=i.statusText||"OK",p=new or(i.getAllResponseHeaders()),C=function lP(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new lh({headers:p,status:i.status,statusText:h,url:C}),s},l=()=>{let{headers:h,status:p,statusText:C,url:S}=a(),M=null;204!==p&&(M=void 0===i.response?i.responseText:i.response),0===p&&(p=M?200:0);let E=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof M){const L=M;M=M.replace(aP,"");try{M=""!==M?JSON.parse(M):null}catch(K){M=L,E&&(E=!1,M={error:K,text:M})}}E?(r.next(new Yl({body:M,headers:h,status:p,statusText:C,url:S||void 0})),r.complete()):r.error(new fb({error:M,headers:h,status:p,statusText:C,url:S||void 0}))},u=h=>{const{url:p}=a(),C=new fb({error:h,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(C)};let c=!1;const d=h=>{c||(r.next(a()),c=!0);let p={type:pt.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},f=h=>{let p={type:pt.UploadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",f)),i.send(o),r.next({type:pt.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",l),i.removeEventListener("timeout",u),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(j(P0))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const ch=new be("XSRF_COOKIE_NAME"),dh=new be("XSRF_HEADER_NAME");class yb{}let uP=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=M0(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(j(vt),j(fl),j(ch))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),fh=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(j(yb),j(dh))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),cP=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(gb,[]);this.chain=r.reduceRight((i,o)=>new pb(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(j(sb),j(Ct))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),dP=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:fh,useClass:sP}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:ch,useValue:t.cookieName}:[],t.headerName?{provide:dh,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({providers:[fh,{provide:gb,useExisting:fh,multi:!0},{provide:yb,useClass:uP},{provide:ch,useValue:"XSRF-TOKEN"},{provide:dh,useValue:"X-XSRF-TOKEN"}]}),n})(),fP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({providers:[hb,{provide:ob,useClass:cP},mb,{provide:sb,useExisting:mb}],imports:[[dP.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();let _b=(()=>{class n{constructor(t){this.http=t,this.apiUrl="https://guido.vryghem.synology.me",this.headers=(new or).set("Access-Control-Allow-Origin","*").set("Access-Control-Allow-Methods","GET, POST, HEAD, OPTIONS").set("Access-Control-Allow-Headers","*")}addMap(t){return this.http.post(this.apiUrl,{headers:this.headers,params:t})}getAllMapNames(){return this.http.get(`${this.apiUrl}/maps`,{headers:this.headers})}getMap(t){return this.http.get(`${this.apiUrl}/map?map=${t}`,{headers:this.headers})}deleteMap(t){return this.http.delete(`${this.apiUrl}/?map=${t}`,{headers:this.headers})}}return n.\u0275fac=function(t){return new(t||n)(j(hb))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bb{}const Tr="*";function pP(n,e){return{type:7,name:n,definitions:e,options:{}}}function Db(n,e=null){return{type:4,styles:e,timings:n}}function wb(n,e=null){return{type:2,steps:n,options:e}}function Qs(n){return{type:6,styles:n,offset:null}}function hh(n,e,t){return{type:0,name:n,styles:e,options:t}}function Cb(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Eb(n){Promise.resolve(null).then(n)}class Zs{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Eb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Mb{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?Eb(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Tb=["toast-component",""];function gP(n,e){if(1&n){const t=vr();g(0,"button",5),te("click",function(){return Fe(t),le().remove()}),g(1,"span",6),D(2,"\xd7"),m()()}}function mP(n,e){if(1&n&&(jr(0),D(1),Br()),2&n){const t=le(2);J(1),Vn("[",t.duplicatesCount+1,"]")}}function yP(n,e){if(1&n&&(g(0,"div"),D(1),Je(2,mP,2,1,"ng-container",4),m()),2&n){const t=le();Dn(t.options.titleClass),Kt("aria-label",t.title),J(1),Vn(" ",t.title," "),J(1),he("ngIf",t.duplicatesCount)}}function vP(n,e){if(1&n&&X(0,"div",7),2&n){const t=le();Dn(t.options.messageClass),he("innerHTML",t.message,Sc)}}function _P(n,e){if(1&n&&(g(0,"div",8),D(1),m()),2&n){const t=le();Dn(t.options.messageClass),Kt("aria-label",t.message),J(1),Vn(" ",t.message," ")}}function bP(n,e){if(1&n&&(g(0,"div"),X(1,"div",9),m()),2&n){const t=le();J(1),fo("width",t.width+"%")}}function DP(n,e){if(1&n){const t=vr();g(0,"button",5),te("click",function(){return Fe(t),le().remove()}),g(1,"span",6),D(2,"\xd7"),m()()}}function wP(n,e){if(1&n&&(jr(0),D(1),Br()),2&n){const t=le(2);J(1),Vn("[",t.duplicatesCount+1,"]")}}function CP(n,e){if(1&n&&(g(0,"div"),D(1),Je(2,wP,2,1,"ng-container",4),m()),2&n){const t=le();Dn(t.options.titleClass),Kt("aria-label",t.title),J(1),Vn(" ",t.title," "),J(1),he("ngIf",t.duplicatesCount)}}function EP(n,e){if(1&n&&X(0,"div",7),2&n){const t=le();Dn(t.options.messageClass),he("innerHTML",t.message,Sc)}}function MP(n,e){if(1&n&&(g(0,"div",8),D(1),m()),2&n){const t=le();Dn(t.options.messageClass),Kt("aria-label",t.message),J(1),Vn(" ",t.message," ")}}function TP(n,e){if(1&n&&(g(0,"div"),X(1,"div",9),m()),2&n){const t=le();J(1),fo("width",t.width+"%")}}class SP{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Jl{constructor(e,t,r,i,o,s){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=o,this.toastRef=s,this._onTap=new ct,this._onAction=new ct,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Sb={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Ab=new be("ToastConfig");class IP{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new ct,this._activate=new ct,this._manualClose=new ct,this._resetTimeout=new ct,this._countDuplicate=new ct}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class xP{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Jl?this._toastPackage:this._parentInjector.get(e,t,r)}}class NP extends class AP{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class OP{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let FP=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(j(vt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PP=(()=>{class n{constructor(t,r,i,o){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=o,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new NP(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new OP(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(j(FP),j(mo),j(Ss),j(vt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xl=(()=>{class n{constructor(t,r,i,o,s){this.overlay=r,this._injector=i,this.sanitizer=o,this.ngZone=s,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},o=""){return this._preBuildNotification(o,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,o){const{includeTitleDuplicates:s}=this.toastrConfig;for(const a of this.toasts){const l=s&&a.title===t;if((!s||l)&&a.message===r)return a.toastRef.onDuplicate(i,o),a}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,o)):this._buildNotification(t,r,i,o)}_buildNotification(t,r,i,o){if(!o.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&o.enableHtml&&(u=this.sanitizer.sanitize(He.HTML,r));const c=new IP(l),d=new Jl(this.index,o,u,i,t,c),f=new xP(d,this._injector),h=new SP(o.toastComponent,f),p=l.attach(h,this.toastrConfig.newestOnTop);c.componentInstance=p.instance;const C={toastId:this.index,title:i||"",message:r||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:p};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{C.toastRef.activate()})),this.toasts.push(C),C}}return n.\u0275fac=function(t){return new(t||n)(j(Ab),j(PP),j(Ct),j(K0),j(lt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RP=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(O(Xl),O(Jl),O(lt))},n.\u0275cmp=pn({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&te("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(xd("@flyInOut",r.state),Dn(r.toastClasses),fo("display",r.displayStyle))},attrs:Tb,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(Je(0,gP,3,0,"button",0),Je(1,yP,3,5,"div",1),Je(2,vP,1,3,"div",2),Je(3,_P,2,4,"div",3),Je(4,bP,2,2,"div",4)),2&t&&(he("ngIf",r.options.closeButton),J(1),he("ngIf",r.title),J(1),he("ngIf",r.message&&r.options.enableHtml),J(1),he("ngIf",r.message&&!r.options.enableHtml),J(1),he("ngIf",r.options.progressBar))},directives:[Ns],encapsulation:2,data:{animation:[pP("flyInOut",[hh("inactive",Qs({opacity:0})),hh("active",Qs({opacity:1})),hh("removed",Qs({opacity:0})),Cb("inactive => active",Db("{{ easeTime }}ms {{ easing }}")),Cb("active => removed",Db("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const kP=Object.assign(Object.assign({},Sb),{toastComponent:RP});let LP=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:Ab,useValue:{default:kP,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({imports:[[N0]]}),n})(),VP=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(O(Xl),O(Jl),O(Ss))},n.\u0275cmp=pn({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&te("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(Dn(r.toastClasses),fo("display",r.displayStyle))},attrs:Tb,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(Je(0,DP,3,0,"button",0),Je(1,CP,3,5,"div",1),Je(2,EP,1,3,"div",2),Je(3,MP,2,4,"div",3),Je(4,TP,2,2,"div",4)),2&t&&(he("ngIf",r.options.closeButton),J(1),he("ngIf",r.title),J(1),he("ngIf",r.message&&r.options.enableHtml),J(1),he("ngIf",r.message&&!r.options.enableHtml),J(1),he("ngIf",r.options.progressBar))},directives:[Ns],encapsulation:2}),n})();Object.assign(Object.assign({},Sb),{toastComponent:VP});let Ib=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(O(_r),O(sn))},n.\u0275dir=ce({type:n}),n})(),_i=(()=>{class n extends Ib{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=xt(n)))(r||n)}}(),n.\u0275dir=ce({type:n,features:[ke]}),n})();const sr=new be("NgValueAccessor"),HP={provide:sr,useExisting:$e(()=>eu),multi:!0},UP=new be("CompositionEventMode");let eu=(()=>{class n extends Ib{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $P(){const n=nr()?nr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(O(_r),O(sn),O(UP,8))},n.\u0275dir=ce({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&te("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[We([HP]),ke]}),n})();function zr(n){return null==n||0===n.length}const Pt=new be("NgValidators"),Wr=new be("NgAsyncValidators");function tu(n){return null}function Bb(n){return null!=n}function Hb(n){const e=ps(n)?Dt(n):n;return Td(e),e}function $b(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ub(n,e){return e.map(t=>t(n))}function Gb(n){return n.map(e=>function qP(n){return!n.validate}(e)?e:t=>e.validate(t))}function gh(n){return null!=n?function qb(n){if(!n)return null;const e=n.filter(Bb);return 0==e.length?null:function(t){return $b(Ub(t,e))}}(Gb(n)):null}function mh(n){return null!=n?function zb(n){if(!n)return null;const e=n.filter(Bb);return 0==e.length?null:function(t){return function jP(...n){const e=Op(n),{args:t,keys:r}=Z0(n),i=new Ze(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;qn(t[c]).subscribe(x(o,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?J0(r,a):a),o.complete())}))}});return e?i.pipe(Y0(e)):i}(Ub(t,e).map(Hb)).pipe(Y($b))}}(Gb(n)):null}function Wb(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yh(n){return n?Array.isArray(n)?n:[n]:[]}function nu(n,e){return Array.isArray(n)?n.includes(e):n===e}function Zb(n,e){const t=yh(e);return yh(n).forEach(i=>{nu(t,i)||t.push(i)}),t}function Yb(n,e){return yh(e).filter(t=>!nu(n,t))}class Jb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kr extends Jb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $t extends Jb{get formDirective(){return null}get path(){return null}}let eD=(()=>{class n extends class Xb{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(O(Kr,2))},n.\u0275dir=ce({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ja("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ke]}),n})();function Ys(n,e){(function bh(n,e){const t=function Kb(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Wb(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Qb(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Wb(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();su(e._rawValidators,i),su(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function eR(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nD(n,e)})}(n,e),function nR(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tR(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nD(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function XP(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function su(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function nD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ch(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Js="VALID",lu="INVALID",Ao="PENDING",Xs="DISABLED";function Mh(n){return(uu(n)?n.validators:n)||null}function oD(n){return Array.isArray(n)?gh(n):n||null}function Th(n,e){return(uu(e)?e.asyncValidators:n)||null}function sD(n){return Array.isArray(n)?mh(n):n||null}function uu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Sh=n=>n instanceof Ih;function lD(n){return(n=>n instanceof dD)(n)?n.value:n.getRawValue()}function uD(n,e){const t=Sh(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new W(1e3,"");if(!r[e])throw new W(1001,"")}function cD(n,e){Sh(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new W(1002,"")})}class Ah{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=oD(this._rawValidators),this._composedAsyncValidatorFn=sD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Js}get invalid(){return this.status===lu}get pending(){return this.status==Ao}get disabled(){return this.status===Xs}get enabled(){return this.status!==Xs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=oD(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=sD(e)}addValidators(e){this.setValidators(Zb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Zb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yb(e,this._rawAsyncValidators))}hasValidator(e){return nu(this._rawValidators,e)}hasAsyncValidator(e){return nu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ao,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xs,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Js,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Js||this.status===Ao)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xs:Js}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ao,this._hasOwnPendingAsyncValidator=!0;const t=Hb(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function sR(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Sh(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof lR)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?Xs:this.errors?lu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ao)?Ao:this._anyControlsHaveStatus(lu)?lu:Js}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dD extends Ah{constructor(e=null,t,r){super(Mh(t),Th(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uu(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ch(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ch(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ih extends Ah{constructor(e,t,r){super(Mh(t),Th(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){cD(this,e),Object.keys(e).forEach(r=>{uD(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=lD(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class lR extends Ah{constructor(e,t,r){super(Mh(t),Th(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){cD(this,e),e.forEach((r,i)=>{uD(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>lD(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const dR={provide:Kr,useExisting:$e(()=>Nh)},pD=(()=>Promise.resolve(null))();let Nh=(()=>{class n extends Kr{constructor(t,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new dD,this._registered=!1,this.update=new ot,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function wh(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===eu?t=o:function oR(n){return Object.getPrototypeOf(n.constructor)===_i}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Dh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ys(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){pD.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;pD.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(t){return this._parent?function iu(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(O($t,9),O(Pt,10),O(Wr,10),O(sr,10),O(hl,8))},n.\u0275dir=ce({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[We([dR]),ke,Xt]}),n})();const hR={provide:sr,useExisting:$e(()=>Oh),multi:!0};let Oh=(()=>{class n extends _i{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=xt(n)))(r||n)}}(),n.\u0275dir=ce({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&te("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[We([hR]),ke]}),n})(),gD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({}),n})();const wR={provide:sr,useExisting:$e(()=>kh),multi:!0};function wD(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let kh=(()=>{class n extends _i{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=wD(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function CR(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=xt(n)))(r||n)}}(),n.\u0275dir=ce({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&te("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[We([wR]),ke]}),n})(),CD=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(wD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(O(sn),O(_r),O(kh,9))},n.\u0275dir=ce({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const ER={provide:sr,useExisting:$e(()=>Lh),multi:!0};function ED(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Lh=(()=>{class n extends _i{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function MR(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=xt(n)))(r||n)}}(),n.\u0275dir=ce({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&te("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[We([ER]),ke]}),n})(),MD=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ED(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ED(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(O(sn),O(_r),O(Lh,9))},n.\u0275dir=ce({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let bi=(()=>{class n{constructor(){this._validator=tu}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):tu,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ce({type:n,features:[Xt]}),n})();const AR={provide:Pt,useExisting:$e(()=>Vh),multi:!0};let Vh=(()=>{class n extends bi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function SD(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>function Ob(n){return e=>{if(zr(e.value)||zr(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=xt(n)))(r||n)}}(),n.\u0275dir=ce({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Kt("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[We([AR]),ke]}),n})(),RR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({imports:[[gD]]}),n})(),kR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({imports:[RR]}),n})();class PD{constructor(){this.x=d3.scale.linear(),this.y=d3.scale.linear(),this.id="fp-imagelayer-"+(new Date).valueOf(),this.name="Image"}createImageLayer(e){let t=this;e.each(function(r){if(!r)return;let o=d3.select(this).selectAll("image").data(r,function(s){return s.url});o.enter().append("image").attr("xlink:href",function(s){return s.url}).style("opacity",1e-6),o.exit().transition().style("opacity",1e-6).remove(),o.transition().attr("x",function(s){return t.x(s.x)}).attr("y",function(s){return t.y(s.y)}).attr("height",function(s){return t.y(s.y+s.height)-t.y(s.y)}).attr("width",function(s){return t.x(s.x+s.width)-t.x(s.x)}).style("opacity",function(s){return s.opacity||1})})}xScale(e){return arguments.length?(this.x=e,this.x):this.x}yScale(e){return arguments.length?(this.y=e,this.y):this.y}getId(){return this.id}title(e){return arguments.length?(this.name=e,this.name):this.name}}const RD={"Fire extinguisher":{backgroundColor:"#ff0000",d:"M395.798,100.768c-13.76-19.496-33.884-33.587-56.892-39.875L303.113,51.1c20.978-6.854,39.364-20.032,52.151-38.141c1.948-2.751,2.012-6.41,0.18-9.232c-1.837-2.823-5.209-4.234-8.522-3.56L242.751,21.331c-2.922,0.594-4.999,3.143-4.999,6.11v1.135V54.19h-9.688c-3.441,0-6.23,2.792-6.23,6.231v1.532c-64.405,1.671-116.311,54.466-116.311,119.266V273.9c-5.063,4.558-8.311,11.096-8.311,18.456V401.74c0,13.77,11.147,24.923,24.925,24.923c13.777,0,24.924-11.153,24.924-24.923V292.356c0-7.36-3.248-13.898-8.306-18.456V181.22c0-46.466,37.012-84.192,83.078-85.87v1.071c0,3.439,2.789,6.229,6.23,6.229h9.688v31.138c-39.753,12.853-68.541,50.134-68.541,94.18v242.142c0,13.475,10.938,24.403,24.406,24.403h149.2c13.486,0,24.406-10.929,24.406-24.403V227.969c0-44.046-28.771-81.328-68.542-94.18V95.528l88.743,18.037c3.313,0.672,6.685-0.74,8.534-3.562C397.812,107.178,397.743,103.519,395.798,100.768zM313.562,275.392v129.812c0,8.221-6.655,14.88-14.881,14.88h-60.929c-8.212,0-14.88-6.659-14.88-14.88V275.392c0-8.22,6.668-14.882,14.88-14.882h60.929C306.906,260.511,313.562,267.173,313.562,275.392z",viewBox:[0,0,494.515,494.515]},Defibrillator:{backgroundColor:"#009b00",d:"M145.649,2c0,0-36.497,0-36.298,0C99.978,2,92,7.513,92,16.275V41H27.165C14.138,41,2,52.056,2,66.666c0,0.395,0,117.569,0,117.569C2,200.523,14.171,211,27,211h201.947c12.772,0,25.053-9.589,25.053-26.07c0,0,0-118.461,0-118.961C253.902,51.187,241.817,40,228.849,40H163V16.275C163,7.513,155.222,2,145.649,2zM105,16h45v25h-45V16zM180.735,85.037c12.328,14.224,10.589,35.613-3.372,47.888L127.21,182.71l-48.573-49.785c-13.961-12.275-15.699-33.875-3.372-47.888c12.275-13.961,33.927-15.647,47.888-3.372L128,85.88l4.847-4.215C147.071,69.338,168.46,71.077,180.735,85.037zM134.059,121.902h17.334l-40.282,41.246l12.234-29.674h-16.451l24.689-41.246h19.81L134.059,121.902z",viewBox:[0,0,256,213]},Coffee:{d:"M151.444,95.421c0.965,0.655,2.095,1.001,3.268,1.001h0.011c3.215,0,5.831-2.614,5.831-5.827c0-0.547-0.075-1.086-0.223-1.607c-2.695-11.825-1.439-21.313,3.733-28.204c6.484-8.638,9.354-19.733,7.677-29.677c-1.487-8.856-6.248-16.217-13.755-21.278c-1.948-1.321-4.628-1.314-6.578,0.026c-1.985,1.367-2.916,3.769-2.369,6.132c2.918,12.451,0.244,20.377-6.455,32.426c-4.358,7.839-6.136,16.654-5.008,24.821C138.859,82.519,143.661,90.195,151.444,95.421zM200.501,91.563c0.913,0.623,1.979,0.952,3.084,0.952h0.005c3.025,0,5.486-2.461,5.486-5.486c0-0.504-0.069-1.002-0.205-1.485c-1.885-8.314-1.029-14.945,2.545-19.707c4.959-6.604,7.153-15.104,5.868-22.732c-1.15-6.838-4.826-12.522-10.628-16.438c-1.828-1.233-4.311-1.246-6.19,0.035c-1.851,1.28-2.739,3.609-2.216,5.763c2.068,8.822,0.244,14.219-4.627,22.979c-3.33,5.989-4.687,12.734-3.821,18.99C190.792,81.607,194.502,87.537,200.501,91.563zM102.765,91.563c0.913,0.623,1.979,0.952,3.084,0.952h0.005c3.025,0,5.486-2.461,5.486-5.486c0-0.501-0.069-0.998-0.204-1.481c-1.887-8.316-1.031-14.948,2.543-19.711c4.96-6.605,7.153-15.104,5.868-22.732c-1.149-6.838-4.825-12.522-10.628-16.438c-1.827-1.234-4.306-1.249-6.19,0.035c-1.851,1.28-2.739,3.609-2.216,5.763c2.068,8.823,0.244,14.22-4.627,22.979c-3.33,5.99-4.687,12.734-3.82,18.99C93.055,81.607,96.765,87.537,102.765,91.563zM286.554,235.363c30.169,0,54.714-24.545,54.714-54.714s-24.544-54.714-54.714-54.714c-3.844,0-7.596,0.403-11.218,1.161H31.338c-6.5,0-10.244,2.8-12.241,5.147c-4.089,4.809-4.652,12.008-3.817,17.143c3.513,21.583,13.221,65.331,37.582,101.711c-2.049,0.521-4.066,1.054-6.03,1.609C16.195,261.357,0,272.954,0,286.247s16.195,24.891,46.833,33.54c28.866,8.149,67.184,12.638,107.895,12.638s79.029-4.488,107.895-12.638c30.638-8.649,46.833-20.247,46.833-33.54s-16.195-24.891-46.833-33.54c-1.867-0.527-3.777-1.037-5.722-1.534c3.949-5.917,7.667-12.266,11.146-19.039C273.831,234.22,280.061,235.363,286.554,235.363zM311.268,180.65c0,13.627-11.086,24.714-24.714,24.714c-2.26,0-4.448-0.311-6.529-0.882c5.394-14.878,9.741-30.971,12.866-47.719C303.457,159.568,311.268,169.213,311.268,180.65z",viewBox:[0,0,341.268,341.268]},WC:{d:"M30.39,35.84v66.43a4.87,4.87,0,0,1-4.85,4.86h0a4.88,4.88,0,0,1-4.86-4.86V63.21H18.77v39.06a4.87,4.87,0,0,1-4.85,4.86h0a4.88,4.88,0,0,1-4.86-4.86V35.84H7.37V60.25a3.7,3.7,0,0,1-3.69,3.68h0A3.7,3.7,0,0,1,0,60.25V34c0-4.27,1.44-7.27,4.05-9.24,4.5-3.39,26.72-3.39,31.22,0,2.62,2,4.07,5,4.06,9.24V60.25a3.7,3.7,0,0,1-3.68,3.68h0A3.7,3.7,0,0,1,32,60.25V35.84ZM53.51,2.78a2.81,2.81,0,0,1,5.62,0V107.13a2.81,2.81,0,0,1-5.62,0V2.78ZM115,33c.06.15.11.3.16.46l7.59,27a3.77,3.77,0,1,1-7.27,2L108,35.81l-.11,0H106.3v1.69l10,39.74h-10v25a4.87,4.87,0,0,1-4.85,4.86h0a4.88,4.88,0,0,1-4.85-4.86v-25H94.68v25a4.88,4.88,0,0,1-4.86,4.86h0A4.87,4.87,0,0,1,85,102.27v-25H74.38L85,36.48v-.64h-1.7l-.14,0L75.64,62.46a3.77,3.77,0,1,1-7.27-2L75.8,34l-.08,0c1.14-4.25,2.09-7.27,4.71-9.24,4.5-3.39,26.24-3.39,30.75,0C113.6,26.56,114,29,115,33ZM95.57,2.78a8.78,8.78,0,1,1-8.78,8.78,8.78,8.78,0,0,1,8.78-8.78Zm-75.91,0a8.78,8.78,0,1,1-8.78,8.78,8.78,8.78,0,0,1,8.78-8.78Z",viewBox:[0,0,122.88,109.91]},"Disabled WC":{d:"M285,250h-29.19l-16.58-49.744C237.187,194.131,231.456,190,225,190h-75v-49.871h75c8.283,0,15-6.716,15-15s-6.717-15-15-15h-75V87.42c17.458-6.192,30-22.865,30-42.42c0-24.813-20.188-45-45-45c-24.814,0-45,20.188-45,45c0,19.555,12.541,36.228,30,42.42v24.396C68.521,121.24,30,166.277,30,220c0,60.654,49.346,110,110,110c39.826,0,75.394-21.537,94.712-54.096C237.434,278.471,241.08,280,245,280h40c8.283,0,15-6.716,15-15S293.283,250,285,250zM140,300c-44.113,0-80-35.888-80-80c0-37.155,25.328-68.595,60-77.483V205c0,8.284,6.715,15,15,15h79.187l4.613,13.84C212.189,271.782,178.889,300,140,300z",viewBox:[0,0,330,330]},Stairs:{d:"M1.648 56.572h11.205V45.168h11.134V33.686h11.308v-11.27h11.233V11.222h16.677v5.711H52.118V28.17H40.872v11.397H29.65v11.336H18.383v11.432H1.648z",viewBox:[-0,4,64,64]},Lift:{d:"M434.216,188.885l3.115-3.115v38.251c0,5.888,4.779,10.667,10.667,10.667c5.888,0,10.667-4.779,10.667-10.667v-38.251l3.115,3.115c2.091,2.091,4.821,3.115,7.552,3.115c2.731,0,5.461-1.045,7.552-3.115c4.16-4.16,4.16-10.923,0-15.083l-21.312-21.312c-0.981-0.981-2.176-1.771-3.477-2.325c-2.603-1.088-5.547-1.088-8.149,0c-1.323,0.533-2.496,1.323-3.477,2.325l-21.312,21.312c-4.16,4.16-4.16,10.923,0,15.083C423.315,193.045,430.035,193.045,434.216,188.885zM362.664,0H63.997c-17.643,0-32,14.357-32,32v448c0,17.643,14.357,32,32,32h298.667c17.643,0,32-14.357,32-32V32C394.664,14.357,380.307,0,362.664,0zM309.331,309.333c0,17.643-14.357,32-32,32c-3.733,0-7.339-0.64-10.667-1.813v97.813c0,17.643-14.357,32-32,32c-8.192,0-15.659-3.093-21.333-8.171c-5.675,5.077-13.141,8.171-21.333,8.171c-17.643,0-32-14.357-32-32V339.52c-3.328,1.173-6.933,1.813-10.667,1.813c-17.643,0-32-14.357-32-32V202.667c0-29.397,23.936-53.333,53.333-53.333h42.667c-29.397,0-53.333-23.936-53.333-53.333s23.936-53.333,53.333-53.333S266.664,66.603,266.664,96s-23.936,53.333-53.333,53.333h42.667c29.397,0,53.333,23.936,53.333,53.333V309.333zM461.779,323.115l-3.115,3.115v-38.251c0-5.888-4.779-10.667-10.667-10.667c-5.888,0-10.667,4.779-10.667,10.667v38.251l-3.115-3.115c-4.16-4.16-10.923-4.16-15.083,0c-4.16,4.16-4.16,10.923,0,15.083l21.312,21.312c0.981,0.981,2.176,1.771,3.477,2.325c1.301,0.533,2.688,0.811,4.075,0.811c1.387,0,2.773-0.277,4.075-0.811c1.323-0.533,2.496-1.323,3.477-2.325l21.312-21.312c4.16-4.16,4.16-10.923,0-15.083C472.701,318.955,465.96,318.955,461.779,323.115z",viewBox:[0,0,512,512]},Parking:{backgroundColor:"#4242ff",d:"M11.85,8.37c-0.9532,0.7086-2.1239,1.0623-3.31,1H5.79V14H3V1h5.72c1.1305-0.0605,2.244,0.2952,3.13,1c0.8321,0.8147,1.2543,1.9601,1.15,3.12C13.1271,6.3214,12.7045,7.5159,11.85,8.37zM9.75,3.7C9.3254,3.3892,8.8052,3.237,8.28,3.27H5.79v3.82h2.49c0.5315,0.0326,1.056-0.1351,1.47-0.47c0.3795-0.3947,0.5693-0.9346,0.52-1.48C10.324,4.606,10.1327,4.0763,9.75,3.7z",viewBox:[0,0,15,15]},"Vending machine":{d:"M306.77,0H79.119c-5.523,0-10,4.477-10,10v365.889c0,5.523,4.477,10,10,10H306.77c5.523,0,10-4.477,10-10V10C316.77,4.477,312.293,0,306.77,0zM213.46,243.741h-14.236c-5.523,0-10,4.477-10,10c0,0.006,0.001,0.012,0.001,0.019h-7.652c0-0.006,0.001-0.012,0.001-0.019c0-5.523-4.477-10-10-10h-14.235c-5.523,0-10,4.477-10,10c0,0.006,0.001,0.012,0.001,0.019h-7.652c0-0.006,0.001-0.012,0.001-0.019c0-5.523-4.477-10-10-10h-14.235c-5.523,0-10,4.477-10,10c0,0.006,0.001,0.012,0.001,0.019H89.119v-21.793h149.509v21.793h-15.168c0-0.006,0.001-0.012,0.001-0.019C223.46,248.218,218.983,243.741,213.46,243.741zM238.627,78.728v31.08h-25.092V97.15c0-5.523-4.477-10-10-10s-10,4.477-10,10v12.657h-9.361V97.15c0-5.523-4.477-10-10-10s-10,4.477-10,10v12.657h-9.361V97.15c0-5.523-4.477-10-10-10s-10,4.477-10,10v12.657h-9.36V97.15c0-5.523-4.477-10-10-10s-10,4.477-10,10v12.657H89.119v-31.08H238.627zM203.536,184.166c-5.523,0-10,4.477-10,10v16.867c0,0.315,0.019,0.626,0.047,0.935h-3.52c0.029-0.308,0.047-0.619,0.047-0.935c0-5.523-4.477-10-10-10h-11.871c-5.523,0-10,4.477-10,10c0,0.315,0.019,0.626,0.047,0.935h-3.519c0.029-0.308,0.047-0.619,0.047-0.935v-16.867c0-5.523-4.477-10-10-10s-10,4.477-10,10v16.867c0,0.315,0.019,0.626,0.047,0.935h-9.455c0.029-0.308,0.047-0.619,0.047-0.935v-16.867c0-5.523-4.477-10-10-10s-10,4.477-10,10v16.867c0,0.315,0.019,0.626,0.047,0.935H89.119v-31.08h149.509v31.08h-25.139c0.029-0.308,0.047-0.619,0.047-0.935v-16.867C213.536,188.643,209.059,184.166,203.536,184.166zM238.627,129.807v31.08h-25.092v-15.229c0-5.523-4.477-10-10-10s-10,4.477-10,10v15.229h-9.361v-15.229c0-5.523-4.477-10-10-10s-10,4.477-10,10v15.229h-13.776c-0.783-4.742-4.891-8.362-9.854-8.362h-25.09c-4.964,0-9.071,3.62-9.854,8.362h-16.48v-31.08H238.627zM238.627,20v38.728H208.52c0.478-1.167,0.745-2.443,0.745-3.782c0-5.523-4.477-10-10-10h-25.091c-5.523,0-10,4.477-10,10c0,1.339,0.268,2.615,0.745,3.782h-15.122c0.478-1.167,0.745-2.443,0.745-3.782c0-5.523-4.477-10-10-10h-25.09c-5.523,0-10,4.477-10,10c0,1.339,0.268,2.615,0.745,3.782h-17.08V20H238.627zM296.77,365.889H89.119V273.76h159.509c5.523,0,10-4.477,10-10V20h38.143V365.889zM241.075,293.922h-96.261c-5.523,0-10,4.477-10,10v30.009c0,5.523,4.477,10,10,10h96.261c5.523,0,10-4.477,10-10v-30.009C251.075,298.399,246.598,293.922,241.075,293.922zM231.075,323.932h-76.261v-10.009h76.261V323.932zM278.543,119.213c5.523,0,10-4.477,10-10V96.668c0-5.523-4.477-10-10-10s-10,4.477-10,10v12.545C268.543,114.736,273.02,119.213,278.543,119.213zM278.543,155.175c5.523,0,10-4.477,10-10V132.63c0-5.523-4.477-10-10-10s-10,4.477-10,10v12.545C268.543,150.698,273.02,155.175,278.543,155.175z",viewBox:[0,0,385.889,385.889]},"Water fountain":{d:"M318.002,137.333l-39.004-75.667C275.974,55.8,268.1,51,261.5,51h-49c-6.6,0-14.474,4.8-17.498,10.667l-39.004,75.667c-2.149,4.169-4.015,10.296-4.918,15.667h171.84C322.017,147.63,320.151,141.503,318.002,137.333zM150.5,462c0,6.6,5.4,12,12,12h149c6.6,0,12-5.4,12-12V341.5h-173V462zM209.5,42h55c6.6,0,12-5.4,12-12V12c0-6.6-5.4-12-12-12h-55c-6.6,0-12,5.4-12,12v18C197.5,36.6,202.9,42,209.5,42zM327,216c1.925,0,3.5-5.4,3.5-12v-22c0-3.579-0.466-6.796-1.197-9H144.697c-0.731,2.204-1.197,5.421-1.197,9v22c0,6.6,1.575,12,3.5,12s3.5,1.913,3.5,4.25s-1.575,4.25-3.5,4.25s-3.5,5.4-3.5,12v22c0,6.6,1.575,12,3.5,12s3.5,1.913,3.5,4.25S148.925,279,147,279s-3.5,5.4-3.5,12v22c0,3.314,0.398,6.323,1.036,8.5h184.928c0.639-2.177,1.036-5.186,1.036-8.5v-22c0-6.6-1.575-12-3.5-12s-3.5-1.913-3.5-4.25s1.575-4.25,3.5-4.25s3.5-5.4,3.5-12v-22c0-6.6-1.575-12-3.5-12s-3.5-1.913-3.5-4.25S325.075,216,327,216zM234.125,294.973c-20.875,0-37.797-16.922-37.797-37.797S234.125,193,234.125,193s37.797,43.301,37.797,64.176S255,294.973,234.125,294.973z",viewBox:[0,0,474,474]},"Hand sanitizer":{d:"M17 2v2l-4-.001V6h3v2c2.21 0 4 1.79 4 4v8c0 1.105-.895 2-2 2H6c-1.105 0-2-.895-2-2v-8c0-2.21 1.79-4 4-4V6h3V3.999L7.5 4c-.63 0-1.37.49-2.2 1.6L3.7 4.4C4.87 2.84 6.13 2 7.5 2H17zm-1 8H8c-1.105 0-2 .895-2 2v8h12v-8c0-1.105-.895-2-2-2zm-3 2v2h2v2h-2.001L13 18h-2l-.001-2H9v-2h2v-2h2z",viewBox:[0,0,24,24]},Info:{d:"M230,0C102.975,0,0,102.975,0,230s102.975,230,230,230s230-102.974,230-230S357.025,0,230,0z M268.333,377.36 c0,8.676-7.034,15.71-15.71,15.71h-43.101c-8.676,0-15.71-7.034-15.71-15.71V202.477c0-8.676,7.033-15.71,15.71-15.71h43.101 c8.676,0,15.71,7.033,15.71,15.71V377.36z M230,157c-21.539,0-39-17.461-39-39s17.461-39,39-39s39,17.461,39,39 S251.539,157,230,157z",viewBox:[0,0,460,460]}};var LR=T(554);class kD{constructor(e,t){this.x=d3.scale.linear(),this.y=d3.scale.linear(),this.id="fp-overlays-"+(new Date).valueOf(),this.name="Objects",this.canvasCallbacks=[],this.selectCallbacks=[],this.moveCallbacks=[],this.editMode=!0,this.dragged=null;let r=this;this.line=d3.svg.line().x(function(i){return r.x(i.x)}).y(function(i){return r.y(i.y)}),this.dragBehavior=d3.behavior.drag().on("dragstart",function(){r.__dragItem(this)}).on("drag",function(){r.__mousemove(this,r)}).on("dragend",function(){r.__mouseup(this,r)}),this.jsonData=e,this.floor=t}createOverlays(e){let t=this;e.each(function(r){if(r){var i=d3.select(this);(function VR(n,e){var t=n.selectAll("rect.overlay-canvas").data([0]);t.enter().append("rect").attr("class","overlay-canvas").style("opacity",0).attr("pointer-events","all").on("click",function(){if(e.editMode){var r=d3.mouse(this);e.canvasCallbacks.forEach(function(i){i(e.x.invert(r[0]),e.y.invert(r[1]))})}}).on("mouseup.drag",function(){e.__mouseup(this,e)}).on("touchend.drag",function(){e.__mouseup(this,e)}),t.attr("x",e.x.range()[0]).attr("y",e.y.range()[0]).attr("height",e.y.range()[1]-e.y.range()[0]).attr("width",e.x.range()[1]-e.x.range()[0])})(i,t),function jR(n,e,t){var r=e.selectAll("path.polygon").data(n.polygons||[],function(a){return a.id});r.enter().append("path").attr("class","polygon").attr("vector-effect","non-scaling-stroke").attr("pointer-events","all").on("mousedown",function(a){t.selectCallbacks.forEach(function(l){l(a.id)})}).call(t.dragBehavior).append("title");for(let a=0;a<r[0].length;a++){r[0][a].id=n.polygons[a].id;const l=document.querySelector("[id='"+n.polygons[a].id+"']");l.setAttribute("id",String(n.polygons[a].id)),l.setAttribute("type",n.polygons[a].type),n.polygons[a].type!==Et.FLOOR&&l.setAttribute("removable","");const u=n.polygons.map(c=>c.id).indexOf(parseInt(r[0][a].id));n.polygons[u].color&&l.setAttribute("fill","rgb("+n.polygons[u].color.join(",")+")")}if(r.exit().transition().style("opacity",1e-6).remove(),r.attr("d",function(a){return t.line(a.points)+"Z"}).style("cursor",t.editMode?"move":"pointer").select("title").text(function(a){return a.name}),t.editMode){let a=[];n.polygons&&n.polygons.forEach(function(l){(l.type!==Et.FLOOR||!document.getElementById("lockFloor"+t.floor).checked)&&l.points.forEach(function(u,c){a.push({index:c,parent:l})})});for(var i=1,o=e.node();o.parentNode;)if((o=o.parentNode).__scale__){i=o.__scale__;break}var s=e.selectAll("circle.vertex").data(a,function(l){return l.parent.id+"-"+l.index});s.exit().transition().attr("r",1e-6).remove(),s.enter().append("circle").attr("class","vertex").attr("pointer-events","all").attr("vector-effect","non-scaling-stroke").style("cursor","move").attr("r",1e-6).call(t.dragBehavior),s.attr("cx",function(l){return t.x(l.parent.points[l.index].x)}).attr("cy",function(l){return t.y(l.parent.points[l.index].y)}).attr("r",4/i)}else e.selectAll("circle.vertex").transition().attr("r",1e-6).remove()}(r,i,t),function BR(n,e,t){let r=e.nodes.filter(o=>o.type===ne.NODE),i=n.selectAll("circle.node").data(r||[],function(o){return o.id});i.enter().append("circle").attr("node","").attr("type",ne.NODE).attr("class",ne.NODE).attr("stroke","black").attr("removable","").attr("degreesRotated",0).attr("fill","#ff0000").on("mouseover",function(){d3.select(this).attr("r",15),t.jsonData.setNeighborMode||d3.select(this).style("opacity",.5)}).on("mouseout",function(){d3.select(this).attr("r",5),t.jsonData.setNeighborMode||d3.select(this).style("opacity",1)}).call(d3.behavior.drag().on("drag",function(){if(!t.jsonData.setNeighborMode&&!t.jsonData.editMode&&!t.jsonData.deleteMode){let o=document.getElementById("demo"+t.floor).getElementsByTagName("svg")[0],s=parseFloat(String(o.getAttribute("width"))),a=parseFloat(String(o.getAttribute("height"))),l=parseFloat(d3.event.x),u=parseFloat(d3.event.y),c=d3.select(this);l>0&&u>0&&l<s&&u<a&&(c.attr("cx",d3.event.x).attr("cy",d3.event.y),e.nodes.find(d=>d.id===parseInt(c.attr("id"))).point=new de(l,u))}}));for(let o=0;o<r.length;o++){i[0][o].id=r[o].id;const s=document.querySelector("[id='"+r[o].id+"']");s.setAttribute("id",String(r[o].id)),s.setAttribute("cx",String(r[o].point.x)),s.setAttribute("cy",String(r[o].point.y)),s.setAttribute("r",String(5)),s.setAttribute("floor",String(r[o].floor))}}(i,r,t),function HR(n,e,t){let r=e.nodes.filter(o=>o.type===ne.DOOR).concat(e.nodes.filter(o=>o.type===ne.EMERGENCY_EXIT)),i=n.selectAll("polygon.door").data(r||[],function(o){return o.id});i.enter().append("polygon").attr("node","").attr("removable","").attr("floor",t.floor).on("contextmenu",function(){!function $R(n,e,t){if(!t.jsonData.setNeighborMode&&!t.jsonData.editMode&&!t.jsonData.deleteMode){d3.event.preventDefault();let r=d3.select(n),i=e.nodes.find(s=>s.id===parseInt(r.attr("id"))),o=de.calculateNewCoordinatesForRotation(i.displayPoints,15);i.degreesRotated+=15,i.displayPoints=o,d3.select(n).attr("points",de.pointStringFromArrayOfPoints(o))}}(this,e,t)}).call(d3.behavior.drag().on("drag",function(){!t.jsonData.setNeighborMode&&!t.jsonData.editMode&&!t.jsonData.deleteMode&&function UR(n,e,t){if(1===d3.event.sourceEvent.which){let r=d3.select(n),i=e.nodes.find(p=>p.id===parseInt(r.attr("id"))),o=document.getElementById("demo"+t.floor).getElementsByTagName("svg")[0],s=parseFloat(String(o.getAttribute("width"))),a=parseFloat(String(o.getAttribute("height"))),l=function GR(n){const e=Math.round(Math.sqrt(Math.pow(n[1].x-n[0].x,2)+Math.pow(n[1].y-n[0].y,2))),t=Math.round(Math.sqrt(Math.pow(n[2].x-n[1].x,2)+Math.pow(n[2].y-n[1].y,2)));return{length:e>t?e:t,width:e>t?t:e}}(i.displayPoints),u=new de(parseFloat(d3.event.x),parseFloat(d3.event.y)),c=[u,new de(u.x+l.width,u.y),new de(u.x+l.width,u.y+l.length),new de(u.x,u.y+l.length)],d=i.degreesRotated;0!==d&&(c=de.calculateNewCoordinatesForRotation(c,d));let f=(c[0].x+c[2].x)/2,h=(c[0].y+c[2].y)/2;f>0&&h>0&&f<s&&h<a&&(r.attr("points",de.pointStringFromArrayOfPoints(c)),i.displayPoints=c,i.point=u)}}(this,e,t)}));for(let o=0;o<r.length;o++){i[0][o].id=r[o].id;const s=document.querySelector("[id='"+r[o].id+"']");s.setAttribute("id",String(r[o].id)),s.setAttribute("points",r[o].displayPoints.map(a=>String(a.x)+","+String(a.y)).flat().join(" ")),s.setAttribute("fill","rgb("+r[o].color.join(",")+")"),s.setAttribute("type",r[o].type),s.setAttribute("class",r[o].type)}}(i,r,t),function qR(n,e,t){let r=n.nodes.filter(s=>s.type!==ne.NODE&&s.type!==ne.EMERGENCY_EXIT&&s.type!==ne.DOOR);var i=e.selectAll("svg.pointOfInterest").data(r||[],function(s){return s.id});const o=i.enter().append("svg").attr("height","30px").attr("width","30px").attr("removable","").attr("node","").attr("class","pointOfInterest").attr("vector-effect","non-scaling-stroke").attr("pointer-events","all").attr("degreesRotated",0).on("mousedown",function(s){t.selectCallbacks.forEach(function(a){a(s.id)})}).call(d3.behavior.drag().on("drag",function(){LD(this,n,t)}));for(let s=0;s<r.length;s++){i[0][s].id=r[s].id;const a=document.querySelector("[id='"+r[s].id+"']");a.setAttribute("id",String(r[s].id)),a.setAttribute("pointsOfInterestId",String(r[s].id)),a.setAttribute("type",r[s].type),a.setAttribute("floor",String(r[s].floor)),a.setAttribute("x",String(r[s].point.x-15)),a.setAttribute("y",String(r[s].point.y-15))}o.append("rect").attr("height","100%").attr("width","100%").attr("rx","7"),o.append("svg").attr("height","100%").attr("width","100%").append("path").attr("fill","#fff");for(let s=0;s<r.length;s++){const a=document.querySelector("[id='"+r[s].id+"']");a.setAttribute("floor",String(r[s].floor)),a.setAttribute("neighbors",r[s].neighbors.join(","));const l=RD[r[s].type];void 0!==l.backgroundColor&&a.setAttribute("fill",l.backgroundColor),a.getElementsByTagName("svg")[0].setAttribute("viewBox",`${l.viewBox[0]+-.1*l.viewBox[2]} ${l.viewBox[1]+-.1*l.viewBox[3]} ${1.2*l.viewBox[2]} ${1.2*l.viewBox[3]}`),a.getElementsByTagName("path")[0].setAttribute("d",l.d),a.getElementsByTagName("rect")[0].setAttribute("pointsOfInterestId",String(r[s].id)),a.getElementsByTagName("svg")[0].setAttribute("pointsOfInterestId",String(r[s].id)),a.getElementsByTagName("path")[0].setAttribute("pointsOfInterestId",String(r[s].id))}}(r,i,t),function zR(n,e,t){var r=e.selectAll("svg.label").data(n.labels||[],function(o){return o.id});const i=r.enter().append("svg").attr("height","30px").attr("width","30px").attr("removable","").attr("label","").attr("type","Label").attr("class","label").attr("vector-effect","non-scaling-stroke").attr("pointer-events","all").attr("degreesRotated",0).on("mousedown",function(o){t.selectCallbacks.forEach(function(s){s(o.id)})}).call(d3.behavior.drag().on("drag",function(){LD(this,n,t)}));for(let o=0;o<r[0].length;o++){r[0][o].id=n.labels[o].id;const s=document.querySelector("[id='"+n.labels[o].id+"']");s.setAttribute("id",String(n.labels[o].id)),s.setAttribute("pointsOfInterestId",String(n.labels[o].id)),s.setAttribute("x",String(n.labels[o].point.x-15)),s.setAttribute("y",String(n.labels[o].point.y-15))}i.append("rect").attr("height","100%").attr("width","100%").attr("rx","7"),i.append("svg").attr("height","100%").attr("width","100%").append("path").attr("fill","#fff");for(let o=0;o<r[0].length;o++){const s=document.querySelector("[id='"+n.labels[o].id+"']"),a=RD.Info;s.getElementsByTagName("svg")[0].setAttribute("viewBox",`${a.viewBox[0]+-.1*a.viewBox[2]} ${a.viewBox[1]+-.1*a.viewBox[3]} ${1.2*a.viewBox[2]} ${1.2*a.viewBox[3]}`),s.getElementsByTagName("path")[0].setAttribute("d",a.d),s.getElementsByTagName("rect")[0].setAttribute("pointsOfInterestId",String(n.labels[o].id)),s.getElementsByTagName("svg")[0].setAttribute("pointsOfInterestId",String(n.labels[o].id)),s.getElementsByTagName("path")[0].setAttribute("pointsOfInterestId",String(n.labels[o].id))}}(r,i,t)}})}getId(){return this.id}xScale(e){return arguments.length?(this.x=e,this.x):this.x}yScale(e){return arguments.length?(this.y=e,this.y):this.y}title(e){return arguments.length?(this.name=e,this.name):this.name}getSetEditMode(e){return arguments.length?(this.editMode=e,this.editMode):this.editMode}registerCanvasCallback(e){return arguments.length&&this.canvasCallbacks.push(e),this}registerSelectCallback(e){return arguments.length&&LR.Callbacks.push(e),this}registerMoveCallback(e){return arguments.length&&this.moveCallbacks.push(e),this}__dragItem(e){this.editMode&&(this.dragged=d3.select(e).data()[0])}__mousemove(e,t){if(t.dragged&&!t.jsonData.setNeighborMode&&!t.jsonData.editMode&&!t.jsonData.deleteMode&&(e.getAttribute("type")!==Et.FLOOR||!document.getElementById("lockFloor"+t.floor).checked)){var r=t.x.invert(d3.event.dx)-t.x.invert(0),i=t.y.invert(d3.event.dy)-t.y.invert(0);if(t.dragged.parent&&t.dragged.parent.points.every(o=>o.x>0&&o.y>0)){let o=document.getElementById("demo"+t.dragged.parent.floor).getElementsByTagName("svg")[0],s=parseFloat(o.getAttribute("width")),a=parseFloat(o.getAttribute("height"));s>d3.event.x&&a>d3.event.y&&(t.dragged.parent.points[t.dragged.index].x+=r,t.dragged.parent.points[t.dragged.index].y+=i)}else if(t.dragged.points&&d3.event.x>0&&d3.event.y>0){let o=document.getElementById("demo"+t.dragged.floor).getElementsByTagName("svg")[0],s=parseFloat(o.getAttribute("width")),a=parseFloat(o.getAttribute("height"));s>d3.event.x&&a>d3.event.y&&t.dragged.points.forEach(function(l){l.x+=r,l.y+=i})}t.createOverlays(d3.select(e.parentNode))}}__mouseup(e,t){t.dragged&&(t.moveCallbacks.forEach(function(r){t.dragged.parent?r(t.dragged.parent.id,t.dragged.parent.points,t.dragged.index):r(t.dragged.id,t.dragged.points)}),t.dragged=null)}}function LD(n,e,t){if(!t.jsonData.deleteMode&&!t.jsonData.setNeighborMode&&!t.jsonData.editMode){let i,o,r=d3.select(n);"Label"!==r.attr("type")?(i=e.nodes.find(d=>d.id===parseInt(r.attr("id"))),o=i.floor):(i=e.labels.find(d=>d.id===parseInt(r.attr("id"))),o=t.floor);let s=document.getElementById("demo"+o).getElementsByTagName("svg")[0],a=parseFloat(String(s.getAttribute("width"))),l=parseFloat(String(s.getAttribute("height"))),u=d3.event.x,c=d3.event.y;u>0&&c>0&&u<a&&c<l&&(i.point=new de(u,c),d3.select(n).attr("x",u-parseInt(d3.select(n).attr("width").split("px"))/2).attr("y",c-parseInt(d3.select(n).attr("height").split("px"))/2))}}class WR{constructor(){this.layers=[],this.panZoomEnabled=!0,this.maxZoom=5,this.xScale=d3.scale.linear(),this.yScale=d3.scale.linear()}generateMap(e){let t=this.xScale.range()[1]-this.xScale.range()[0],r=this.yScale.range()[1]-this.yScale.range()[0],i=this;e.each(function(o){if(!o)return;let s=d3.select(this);i.__init_defs(s.selectAll("defs").data([0]).enter().append("defs"));let a=s.selectAll(".map-layers").data([0]),l=a.enter().append("g").attr("class","map-layers").attr("id","map-layers"),u=d3.transition(a);l.append("rect").attr("class","canvas").attr("pointer-events","all").style("opacity",0),u.attr("width",t).attr("height",r).attr("x",i.xScale.range()[0]).attr("y",i.yScale.range()[0]);let c=s.selectAll(".map-controls").data([0]),d=c.enter().append("g").attr("class","map-controls");i.__init_controls(d);let f=c.select(".hide").classed("ui-show-hide")?95:10,h=Math.max(45,10+20*i.layers.length);c.attr("view-width",t).attr("transform","translate("+(t-f)+",0)").select("rect").attr("height",h);let p=c.select("g.layer-controls").selectAll("g").data(i.layers,function(M){return M.getId()}),C=p.enter().append("g").attr("class","ui-active").style("cursor","pointer").on("click",function(M){let E=d3.select(this),L=s.selectAll("g."+M.getId());E.classed("ui-active")?(L.style("display","none"),E.classed("ui-active",!1).classed("ui-default",!0)):(L.style("display","inherit"),E.classed("ui-active",!0).classed("ui-default",!1))});C.append("rect").attr("x",0).attr("y",1).attr("rx",5).attr("ry",5).attr("width",75).attr("height",18).attr("stroke-width","1px"),C.append("text").attr("x",10).attr("y",15).style("font-size","12px").style("font-family","Helvetica, Arial, sans-serif").text(function(M){return M.title()}),p.transition().duration(1e3).attr("transform",function(M,E){return"translate(0,"+20*(i.layers.length-(E+1))+")"});var S=a.selectAll(".maplayer").data(i.layers,function(M){return M.getId()});S.enter().append("g").attr("class",function(M){return"maplayer "+M.title()}).append("g").attr("class",function(M){return M.getId()}).datum(null),S.exit().remove(),S.order(),S.each(function(M){d3.select(this).select("g."+M.getId()).datum(o.get(M.getId())).call(function(){return M instanceof PD?M.createImageLayer(this):M instanceof kD?M.createOverlays(this):void 0})}),s.call(d3.behavior.zoom().scaleExtent([1,i.maxZoom]).on("zoom",function(){i.panZoomEnabled&&i.__set_view(s,d3.event.scale,d3.event.translate)}))})}getSetxScale(e){if(!arguments.length)return this.xScale;this.xScale=e;let t=this;this.layers.forEach(function(r){r.xScale(t.xScale)})}getSetyScale(e){if(!arguments.length)return this.yScale;this.yScale=e;let t=this;this.layers.forEach(function(r){r.yScale(t.yScale)})}panZoom(e){return arguments.length?(this.panZoomEnabled=e,this.panZoomEnabled):this.panZoomEnabled}addLayer(e,t){return e.xScale(this.xScale),e.yScale(this.yScale),arguments.length>1&&t>=0?this.layers.splice(t,0,e):this.layers.push(e),this}clearLayers(){this.layers=[]}__set_view(e,t,r){if(e){t&&(e.__scale__=t),r&&r.length>1&&(e.__translate__=r);var i=(1-e.__scale__)*(this.xScale.range()[1]-this.xScale.range()[0]),o=(1-e.__scale__)*(this.yScale.range()[1]-this.yScale.range()[0]);e.__translate__[0]=Math.min(this.xScale.range()[0],Math.max(e.__translate__[0],i)),e.__translate__[1]=Math.min(this.yScale.range()[0],Math.max(e.__translate__[1],o)),e.selectAll(".map-layers").attr("transform","translate("+e.__translate__+")scale("+e.__scale__+")")}}__init_defs(e){e.each(function(){var t=d3.select(this),r=t.append("radialGradient").attr("id","metal-bump").attr("cx","50%").attr("cy","50%").attr("r","50%").attr("fx","50%").attr("fy","50%");r.append("stop").attr("offset","0%").style("stop-color","rgb(170,170,170)").style("stop-opacity",.6),r.append("stop").attr("offset","100%").style("stop-color","rgb(204,204,204)").style("stop-opacity",.5);var i=t.append("pattern").attr("id","grip-texture").attr("patternUnits","userSpaceOnUse").attr("x",0).attr("y",0).attr("width",3).attr("height",3);i.append("rect").attr("height",3).attr("width",3).attr("stroke","none").attr("fill","rgba(204,204,204,0.5)"),i.append("circle").attr("cx",1.5).attr("cy",1.5).attr("r",1).attr("stroke","none").attr("fill","url(#metal-bump)")})}__init_controls(e){e.each(function(){var t=d3.select(this);t.append("path").attr("class","ui-show-hide").attr("d","M10,3 v40 h-7 a3,3 0 0,1 -3,-3 v-34 a3,3 0 0,1 3,-3 Z").attr("fill","url(#grip-texture)").attr("stroke","none").style("opacity",.5),t.append("path").attr("class","show ui-show-hide").attr("d","M2,23 l6,-15 v30 Z").attr("fill","rgb(204,204,204)").attr("stroke","none").style("opacity",.5),t.append("path").attr("class","hide").attr("d","M8,23 l-6,-15 v30 Z").attr("fill","rgb(204,204,204)").attr("stroke","none").style("opacity",0),t.append("path").attr("d","M10,3 v40 h-7 a3,3 0 0,1 -3,-3 v-34 a3,3 0 0,1 3,-3 Z").attr("pointer-events","all").attr("fill","none").attr("stroke","none").style("cursor","pointer").on("mouseover",function(){t.selectAll("path.ui-show-hide").style("opacity",1)}).on("mouseout",function(){t.selectAll("path.ui-show-hide").style("opacity",.5)}).on("click",function(){t.select(".hide").classed("ui-show-hide")?t.transition().duration(1e3).attr("transform","translate("+(t.attr("view-width")-10)+",0)").each("end",function(){t.select(".hide").style("opacity",0).classed("ui-show-hide",!1),t.select(".show").style("opacity",1).classed("ui-show-hide",!0),t.selectAll("path.ui-show-hide").style("opacity",.5)}):t.transition().duration(1e3).attr("transform","translate("+(t.attr("view-width")-95)+",0)").each("end",function(){t.select(".show").style("opacity",0).classed("ui-show-hide",!1),t.select(".hide").style("opacity",1).classed("ui-show-hide",!0),t.selectAll("path.ui-show-hide").style("opacity",.5)})}),t.append("rect").attr("x",10).attr("y",0).attr("width",85).attr("fill","rgba(204,204,204,0.9)").attr("stroke","none"),t.append("g").attr("class","layer-controls").attr("transform","translate(15,5)")})}}let VD=(()=>{class n{constructor(){this.formElements=[]}ngOnChanges(t){const r=document.querySelectorAll(`#${this.action}InputsFloor${this.floor}>input, #${this.action}InputsFloor${this.floor}>div`);if(void 0!==t.params&&void 0!==t.params.currentValue){const i=t.params.currentValue.defaultValues;if(void 0!==i)for(let s=0;s<i.length;s++)if(void 0!==this.formElements[s].infinite){let a;for(r.item(s).innerHTML="",a=0;a<i[s].length;a++){const l=this.createInfiniteFieldsGroup(this.formElements[s].infinite,a,s),u=l.getElementsByTagName("input");for(let c=0;c<u.length;c++)"INPUT"===u[c].nodeName&&("checkbox"===this.formElements[s].infinite[c].inputType?u[c].checked=i[s][a][c]:u[c].value=i[s][a][c]);r.item(s).appendChild(l)}r.item(s).appendChild(this.createInfiniteFieldsGroup(this.formElements[s].infinite,a,s))}else"INPUT"===r.item(s).nodeName&&(r.item(s).value=i[s]);const o=t.params.currentValue.values;if(void 0!==o)for(let s=0;s<o.length;s++)if(void 0!==this.formElements[s].infinite){for(let a=0;a<o[s].length;a++)if(void 0!==o[s][a]){this.formElements[s].infinite[a].values=o[s][a];for(const l of Array.from(r[s].children)){const u=Array.from(l.querySelectorAll("input, select"));"INPUT"===u[a].nodeName&&this.appendSearchSelectField(u[a],o[s][a])}}}else"INPUT"===r.item(s).nodeName&&this.appendSearchSelectField(r.item(s),o[s])}}ngAfterViewInit(){const t=document.getElementById(`${this.action}InputsFloor${this.floor}`);for(let r=0;r<this.formElements.length;r++)if(void 0!==this.formElements[r].infinite){const i=document.createElement("div");i.id=`${this.action}InputsFloor${this.floor}Infinite${r}Container`,i.className="flex flex-col",i.setAttribute("infinite",String(r)),i.appendChild(this.createInfiniteFieldsGroup(this.formElements[r].infinite,0,r)),t.appendChild(i),t.addEventListener("input",o=>{if("INPUT"===o.target.nodeName&&"checkbox"!==o.target.type){const s=o.target,a=Array.from(s.parentElement.parentElement.querySelectorAll("div:last-of-type>input"));for(let l=0;l<a.length;l++)a[l]===s&&s.parentElement.parentElement.appendChild(this.createInfiniteFieldsGroup(this.formElements[r].infinite,s.parentElement.parentElement.children.length,r))}})}else{t.appendChild(this.createLabel(this.formElements[r],String(r)));const i=this.createField(this.formElements[r],String(r));t.appendChild(i),"search-select"===this.formElements[r].tagType&&this.appendSearchSelectField(i,this.formElements[r].values),!0===this.formElements[r].required&&document.querySelector(`#${i.id}${void 0===this.formElements[r].values?"":"+section"}`).after(this.createErrorField(i))}document.getElementById(`${this.action}DialogBoxFloor${this.floor}`).addEventListener("click",r=>{r.target===r.currentTarget&&this.hideDialog()}),this.dragElement(document.querySelector(`#${this.action}DialogBoxFloor${this.floor}>div`))}dragElement(t){const r=t.style.transform.substring(10,t.style.transform.length-1).split("px").filter(o=>""!==o);let i=new de(parseInt(r[0]),parseInt(1===r.length?r[0]:r[1].substring(2)));t.ondblclick=o=>{o.ctrlKey&&((o=o||window.event).preventDefault(),i=new de(o.clientX-i.x,o.clientY-i.y),t.ondblclick=()=>{document.onmouseup=null,document.onmousemove=null,this.dragElement(document.querySelector(`#${this.action}DialogBoxFloor${this.floor}>div`))},document.onmousemove=s=>{(s=s||window.event).preventDefault(),t.style.transform=`translate(${s.clientX-i.x}px,${s.clientY-i.y}px)`})}}createInfiniteFieldsGroup(t,r,i){const o=document.createElement("div");o.className="infiniteFieldsGroup";for(let s=0;s<t.length;s++){const a=this.createLabel(t[s],`${r}SubInput${s}`),l=this.createField(t[s],`${r}SubInput${s}`);"checkbox"!==t[s].inputType&&o.appendChild(a),o.appendChild(l),"checkbox"===t[s].inputType&&o.appendChild(a),"search-select"===t[s].tagType?this.appendSearchSelectField(l,this.formElements[i].infinite[s].values):!0===t[s].required&&null===document.getElementById(l.id+"Error")&&l.after(this.createErrorField(l))}return o}createLabel(t,r){const i=document.createElement("label");return t.name&&(i.innerText=t.name+":"),i.className=("checkbox"===t.inputType?"":"block ")+"text-white mb-1",i.htmlFor=`${this.action}Floor${this.floor}Input${r}`,i}createField(t,r){let i=document.createElement(t.tagType&&!["search-select","color-picker"].includes(t.tagType)?t.tagType:"input");switch(i.id=`${this.action}Floor${this.floor}Input${r}`,i.className=("checkbox"===t.inputType?"inline mr-1":"block")+" bg-white text-gray-700 focus:outline-none focus:shadow-outline rounded-md shadow w-auto py-1.5 px-2 mb-4",i.onkeyup=o=>{"Enter"===o.key&&this.successfullyCloseDialog()},t.tagType&&"search-select"===t.tagType&&i.setAttribute("customType","search-select"),i.required=!0===t.required,i.nodeName){case"INPUT":switch(i.placeholder=t.name?t.name:"",i.type=t.inputType?t.inputType:"text",i.pattern=void 0===t.pattern?"":t.pattern,i.type){case"number":isNaN(t.min)||(i.min=t.min),isNaN(t.max)||(i.max=t.max),i.step=isNaN(t)?1:t.step;break;case"checkbox":i.checked=!0===t.checked}void 0!==t.defaultValue&&(i.value=t.defaultValue);break;case"SELECT":for(const o of t.values){const s=document.createElement("option");s.innerText=o,s.value=o,i.appendChild(s)}}return i}filterSearchElements(t){for(const r of Array.from(document.querySelectorAll(`#${t.id}Values>li>ul>li`)))r.className=r.innerText.toLowerCase().includes(t.value.toLowerCase())?r.className.replace("hidden","block"):r.className.replace("block","hidden");for(const r of Array.from(document.querySelectorAll(`#${t.id}Values>li`)))r.className=0===r.getElementsByClassName("block").length?r.className.replace("block","hidden"):r.className.replace("hidden","block")}appendSearchSelectField(t,r){t.addEventListener("focusin",()=>{document.getElementById(t.id+"Values").className=document.getElementById(t.id+"Values").className.replace("hidden","block")}),t.addEventListener("focusout",()=>{setTimeout(()=>document.getElementById(t.id+"Values").className=document.getElementById(t.id+"Values").className.replace("block","hidden"),300)}),t.addEventListener("input",()=>this.filterSearchElements(t));const i=document.createElement("ul");i.id=t.id+"Values",i.className="bg-white border-px absolute shadow-lg rounded-md hidden overflow-auto w-full max-h-fit my-px",i.style.maxHeight="25vh",i.style.marginTop="calc(-.9rem)",r=r.filter(o=>0!==o.values.length);for(let o=0;o<r.length;o++){const s=document.createElement("ul");if(r.length>1){const l=document.createElement("li");l.className="group font-semibold py-1 px-2",l.innerText=r[o].group,s.appendChild(l)}const a=document.createElement("li");a.className="block";for(let l=0;l<r[o].values.length;l++){const u=document.createElement("li");u.className=`hover:bg-gray-500 cursor-pointer ${0===l&&1===r.length?"rounded-t-md":o===r.length-1&&l===r[o].values.length-1?"rounded-b-md":""} block py-1 px-4`,u.innerText=r[o].values[l],u.addEventListener("click",()=>{t.value=r[o].values[l],t.dispatchEvent(new Event("change",{bubbles:!0})),t.dispatchEvent(new Event("input",{bubbles:!0})),document.getElementById(t.id+"Values").className=document.getElementById(t.id+"Values").className.replace("block","hidden")}),s.appendChild(u)}a.appendChild(s),i.appendChild(a)}if(null!==document.getElementById(i.id))document.getElementById(i.id).replaceWith(i);else{const o=document.createElement("section");o.className="relative",o.append(i),t.after(o),t.required&&null===document.getElementById(t.id+"Error")&&o.after(this.createErrorField(t))}this.filterSearchElements(t)}createErrorField(t){const r=document.createElement("p");return r.id=`${t.id}Error`,r.className="text-red-600 mx-3 mb-1 hidden error",t.addEventListener("change",()=>this.checkField(t)),r}hideDialog(){document.getElementById(`${this.action}DialogBoxFloor${this.floor}`).classList.replace("flex","hidden");const t=document.querySelectorAll(`#${this.action}InputsFloor${this.floor}>input, #${this.action}InputsFloor${this.floor}>div`);for(let r=0;r<t.length;r++)switch(t.item(r).nodeName){case"INPUT":t.item(r).value=void 0===this.formElements[r].defaultValue?"":this.formElements[r].defaultValue,t.item(r).required&&(t.item(r).className=("checkbox"===t.item(r).type?"inline mr-1":"block")+" bg-white text-gray-700 focus:outline-none focus:shadow-outline rounded-md shadow w-auto py-1.5 px-2 mb-4",document.getElementById(t.item(r).id+"Error").className="text-red-600 mx-3 mb-1 hidden error");break;case"DIV":for(let i=0;i<t.item(r).children.length;i++)for(let o=0;o<this.formElements[r].infinite.length;o++)t.item(r).children[i].value=void 0===this.formElements[r].infinite[o].defaultValue?"":this.formElements[r].defaultValue}}checkField(t){const r=document.getElementById(`${t.id}Error`),i=document.getElementById(`${t.id}Values`);if(r.innerText="",t.required&&"INPUT"===t.nodeName)switch(t.type){case"text":"search-select"===t.getAttribute("customType")?!Array.from(i.querySelectorAll("li>ul>li")).map(o=>o.innerText).includes(t.value)&&(""!==t.value||"infiniteFieldsGroup"!==t.parentElement.className)&&(r.innerText="Please choose a correct value from the provided list."):""===t.value?r.innerText="Please provide a value.":""!==t.pattern&&!t.value.match(t.pattern)&&(r.innerText="Please provide a valid value.");break;case"number":!isNaN(parseFloat(t.value))||""===t.value&&"infiniteFieldsGroup"===t.parentElement.className?"search-select"===t.getAttribute("customType")?!Array.from(i.querySelectorAll("li>ul>li")).map(o=>o.innerText).includes(t.value)&&(""!==t.value||"infiniteFieldsGroup"!==t.parentElement.className)&&(r.innerText="Please choose a value from the provided list."):parseFloat(t.value)<parseFloat(t.min)?r.innerText=`The value must be higher or equal to ${t.min}.`:parseFloat(t.value)>parseFloat(t.max)&&(r.innerText=`The value must be lower or equal to ${t.max}.`):r.innerText="The given value must be a number."}""!==r.innerText?(r.className=r.className.replace("hidden","block"),t.className=t.className.replace(" border-3 border-green-600",""),t.className=t.className.replace("mb-4","mb-0.5 border-3 border-red-600"),null!==i&&(i.style.marginTop="0"),r.style.maxWidth=t.offsetWidth-40+"px"):(r.className=r.className.replace("block","hidden"),t.className=t.className.replace("mb-0.5 border-3 border-red-600","mb-4"),t.className+=" border-3 border-green-600",null!==i&&(i.style.marginTop="calc(-.9rem)"))}checkAllFields(){for(const t of Array.from(document.getElementById(`${this.action}DialogBoxFloor${this.floor}`).getElementsByTagName("input")))t.dispatchEvent(new Event("change",{bubbles:!0}));for(const t of Array.from(document.getElementById(`${this.action}DialogBoxFloor${this.floor}`).getElementsByTagName("select")))t.dispatchEvent(new Event("change",{bubbles:!0}))}successfullyCloseDialog(){if(this.checkAllFields(),null===document.getElementById(`${this.action}DialogBoxFloor${this.floor}`).querySelector(".error.block")){const t=document.querySelectorAll(`#${this.action}InputsFloor${this.floor}>input, #${this.action}InputsFloor${this.floor}>div, #${this.action}InputsFloor${this.floor}>select`);switch(this.action){case"createPolygonWithNVertices":this.confirmAction(null,t[0].value,this.params.vertices,t[1].value,t[2].value.split(",").map(r=>parseInt(r)),this.params.self);break;case"createPolygon":isNaN(parseInt(t[2].value))||this.confirmAction(null,t[0].value,parseInt(t[2].value),t[1].value,t[3].value.split(",").map(r=>parseInt(r)),this.params.self);break;case"updatePolygon":this.confirmAction(parseInt(this.params.id),t[0].value,t[1].value,t[2].value.split(",").map(r=>parseInt(r)),this.params.self);break;case"createDoor":this.confirmAction(t[0].value,parseFloat(t[1].value),parseFloat(t[2].value),t[3].value.split(",").map(r=>parseInt(r)),this.params.emergency,this.params.self);break;case"updateDoor":this.confirmAction(parseInt(this.params.id),t[0].value,parseFloat(t[1].value),parseFloat(t[2].value),t[3].value.split(",").map(r=>parseInt(r)),this.params.self);break;case"createNode":case"updateMap":case"deleteMap":this.confirmAction(t[0].value,this.params.self);break;case"updateNode":this.confirmAction(parseInt(this.params.id),t[0].value,this.params.self);break;case"createPointOfInterest":this.confirmAction(this.formElements[0].values[t[0].selectedIndex],[],this.params.self);break;case"createLabel":this.confirmAction(t[0].value,t[1].value.split(",").map(r=>parseInt(r)),this.params.self);break;case"updateLabel":this.confirmAction(parseInt(this.params.id),t[0].value,t[1].value.split(",").map(r=>parseInt(r)),this.params.self);break;case"setNeighbors":this.confirmAction(parseInt(this.params.id),Array.from(t[0].getElementsByTagName("div")).filter(r=>0!==r.getElementsByTagName("input")[0].value.trim().length&&!isNaN(parseInt(r.getElementsByTagName("input")[0].value))).map(r=>Array.from(r.getElementsByTagName("input")).map(i=>"checkbox"===i.type?i.checked:i.value)),this.params.self);break;default:console.error(`The dialog action ${this.action} is currently not supported`)}this.hideDialog()}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pn({type:n,selectors:[["app-dialog-box"]],inputs:{action:"action",floor:"floor",title:"title",dialogText:"dialogText",confirmButtonText:"confirmButtonText",confirmAction:"confirmAction",params:"params",formElements:"formElements"},features:[Xt],decls:16,vars:7,consts:[[1,"bg-black","bg-opacity-50","min-w-screen","h-screen","animated","fadeIn","faster","fixed","left-0","top-0","hidden","justify-center","items-center","inset-0","z-50","outline-none","focus:outline-none","bg-no-repeat","bg-center","bg-cover",3,"id"],[1,"bg-gray-900","text-black","p-4","rounded-md",2,"transform","translate(0px)"],[1,"text-white","grid","grid-flow-col","auto-cols-auto","w-full","mb-2"],[1,"font-bold"],[1,"focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-black","dark:focus:ring-white","rounded-md","h-8","w-8","ml-auto","mr-0",3,"click"],["aria-label","Close dialog","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","mx-auto"],["d","M6 18L18 6M6 6l12 12","stroke-linecap","round","stroke-linejoin","round","stroke-width","4"],[1,"text-white","mb-2"],[1,"flex","flex-col","mx-2","mb-2",3,"id"],[1,"grid","grid-cols-2"],[1,"text-white","bg-red-500","focus:outline-none","focus:ring-2","focus:ring-outset","focus:ring-white","shadow","rounded-md","p-2","mr-1",3,"click"],[1,"text-white","bg-blue-400","focus:outline-none","focus:ring-2","focus:ring-outset","focus:ring-white","shadow","rounded-md","p-2","ml-1",3,"click"]],template:function(t,r){1&t&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),D(4),m(),g(5,"button",4),te("click",function(){return r.hideDialog()}),at(),g(6,"svg",5),X(7,"path",6),m()()(),Tt(),g(8,"p",7),D(9),m(),X(10,"div",8),g(11,"div",9)(12,"button",10),te("click",function(){return r.hideDialog()}),D(13," Cancel "),m(),g(14,"button",11),te("click",function(){return r.successfullyCloseDialog()}),D(15),m()()()()),2&t&&(Ya("id","",r.action,"DialogBoxFloor",r.floor,""),J(4),ho(r.title),J(5),ho(r.dialogText),J(1),Ya("id","",r.action,"InputsFloor",r.floor,""),J(5),Vn(" ",r.confirmButtonText," "))},encapsulation:2}),n})();function KR(n,e){if(1&n){const t=vr();g(0,"div",17)(1,"label",18)(2,"input",19),te("change",function(i){return Fe(t),le().updateNewBackground(i)}),m(),g(3,"span",20),at(),g(4,"svg",21),X(5,"path",22),m(),Tt(),g(6,"span"),D(7,"Upload image"),m()()(),g(8,"button",23),te("click",function(){return Fe(t),le().removeFloor()}),at(),g(9,"svg",21),X(10,"path",24),m(),D(11," Remove floor "),m(),Tt(),g(12,"label",25),te("click",function(){Fe(t);const i=le();return i.loadData(i.floor)}),X(13,"input",26),D(14," Lock the floor "),m()()}if(2&n){const t=le();J(12),he("for","lockFloor"+t.floorNumber)("hidden",void 0===t.floorPolygon),J(1),he("defaultChecked",!0)("id","lockFloor"+t.floorNumber)}}function QR(n,e){if(1&n){const t=vr();g(0,"div",27)(1,"button",28),te("click",function(){return Fe(t),le().displayDialogBox("createPolygonWithNVertices",{vertices:3})}),D(2," Triangle "),m(),g(3,"button",28),te("click",function(){return Fe(t),le().displayDialogBox("createPolygonWithNVertices",{vertices:4})}),D(4," Square "),m(),g(5,"button",28),te("click",function(){return Fe(t),le().displayDialogBox("createPolygonWithNVertices",{vertices:5})}),D(6," Pentagon "),m(),g(7,"button",28),te("click",function(){return Fe(t),le().displayDialogBox("createPolygon",{vertices:null})}),D(8," Polygon "),m(),g(9,"button",28),te("click",function(){return Fe(t),le().displayDialogBox("createDoor",{emergency:!1})}),D(10," Door "),m(),g(11,"button",28),te("click",function(){return Fe(t),le().displayDialogBox("createDoor",{emergency:!0})}),D(12," Emergency exit "),m(),g(13,"button",28),te("click",function(){return Fe(t),le().displayDialogBox("createNode",{})}),D(14," Node "),m(),g(15,"button",28),te("click",function(){return Fe(t),le().displayDialogBox("createPointOfInterest",{})}),D(16," Point of interest "),m(),g(17,"button",28),te("click",function(){return Fe(t),le().displayDialogBox("createLabel",{})}),D(18," Label "),m()()}}const Bh=function(){return{name:"Room name"}},Hh=function(){return{name:"Room description"}},cu="^(([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5]),[ ]?){2}([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])$",jD=function(){return{name:"RGB color",defaultValue:"100,100,100",pattern:cu,required:!0,tagType:"color-picker"}},BD=function(n,e,t){return[n,e,t]},ZR=function(){return{inputType:"number",min:2,required:!0,name:"Number of vertices"}},$h=function(n,e,t,r){return[n,e,t,r]},Uh=function(){return{name:"RGB color",pattern:cu,required:!0,tagType:"color-picker"}},HD=function(){return{name:"Door name"}},YR=function(){return{defaultValue:"25",inputType:"number",min:0,name:"Door length",required:!0,step:.01}},JR=function(){return{defaultValue:"5",inputType:"number",min:0,name:"Door width",required:!0,step:.01}},XR=function(){return{defaultValue:"139,69,19",name:"RGB color",pattern:cu,required:!0,tagType:"color-picker"}},ek=function(){return{inputType:"number",min:0,name:"Door length",required:!0,step:.01}},tk=function(){return{inputType:"number",min:0,name:"Door width",required:!0,step:.01}},$D=function(){return{name:"Node name"}},du=function(n){return[n]},nk=function(n){return{tagType:"select",values:n,name:"Type"}},UD=function(){return{name:"Description",required:!0}},rk=function(){return{name:"RGB color",defaultValue:"163,133,82",pattern:cu,required:!0,tagType:"color-picker"}},Gh=function(n,e){return[n,e]},ik=function(){return[]},ok=function(n){return{inputType:"number",name:"Enter neighbors",min:1,required:!0,tagType:"search-select",values:n}},sk=function(){return{checked:!0,inputType:"checkbox",name:"Bidirectional path"}},ak=function(n){return{infinite:n}};let lk=(()=>{class n{constructor(t){this.toastr=t,this.deleteMode=!1,this.imageUrl="",this.setNeighborMode=!1,this.editMode=!1,this.imageWidth=720,this.imageHeight=487,this.imageRatio=this.imageHeight/this.imageWidth,this.mapWidth=720,this.mapHeight=487,this.paramsToGiveToDialogBoxes={createPolygonWithNVertices:{},createPolygon:{},updatePolygon:{},createDoor:{},updateDoor:{},createNode:{},createPointOfInterest:{},createLabel:{},updateLabel:{},setNeighbors:{},updateNode:{}},this.setZoom=r=>{for(const i of r){if("attributes"!==i.type||"transform"!==i.attributeName)break;d3.select("#demo"+this.floorNumber+"textLabels").attr("transform",i.target.getAttribute("transform"))}},this.previousWindowWidth=0}set changeEditMode(t){this.editMode=t,this.deleteMode=!1}set changeSetNeighborMode(t){this.setNeighborMode=t,this.deleteMode=!1,this.setNeighborMode?this.setConnectingNeighbors(this):this.removeConnectingNeighbors(this)}get floorPolygon(){return this.floor.overlays.polygons.find(t=>t.type===Et.FLOOR)}get floor(){return this.jsonData.floors.find(t=>t.floor===this.floorNumber)}getPointsOfInterestTypes(){return Object.values(ne).map(t=>t).filter(t=>t!=ne.DOOR&&t!=ne.EMERGENCY_EXIT&&t!=ne.NODE)}loadData(t){let r=d3.select("#demo"+this.floorNumber).select("svg");this.mapData.set(this.overlays.getId(),t.overlays),r.select("g.map-layers").select(".Objects").remove(),r.select("g.map-controls").remove(),r.attr("height",this.mapHeight).attr("width",this.mapWidth).datum(this.mapData),this.floorplan.generateMap(r);let i=document.getElementById("demo"+this.floorNumber).getElementsByTagName("svg")[0].querySelector(".map-layers");i.insertBefore(document.getElementById("demo"+this.floorNumber+"lineGroup"),i.querySelector(".Objects")),r.on("dblclick.zoom",null),this.setEventListeners(t)}setEventListeners(t){let r=this;Array.from(document.querySelectorAll(`[removable], [type=${Et.FLOOR}]`)).filter(i=>document.getElementById("demo"+this.floorNumber).contains(i)).forEach(i=>{i.addEventListener("click",o=>{r.deleteMode&&!r.setNeighborMode&&!o.ctrlKey&&r.removeElement(o)})}),Array.from(document.getElementsByClassName("polygon")).filter(i=>document.getElementById("demo"+this.floorNumber).contains(i)).forEach(i=>{i.addEventListener("click",()=>{if(r.editMode){let o=t.overlays.polygons,s=o.map(a=>a.id).indexOf(parseInt(i.id));r.displayDialogBox("updatePolygon",{defaultValues:[o[s].name,o[s].description,o[s].color.join(",")],id:i.id})}})}),Array.from(document.querySelectorAll("[type='Label']")).filter(i=>document.getElementById("demo"+this.floorNumber).contains(i)).forEach(i=>{i.addEventListener("click",()=>{if(r.editMode){let o=t.overlays.labels,s=o.map(a=>a.id).indexOf(parseInt(i.id));r.displayDialogBox("updateLabel",{defaultValues:[o[s].description,o[s].color.join(",")],id:i.id})}})}),Array.from(document.querySelectorAll(`[type='${ne.DOOR}'], [type='${ne.EMERGENCY_EXIT}']`)).filter(i=>document.getElementById("demo"+this.floorNumber).contains(i)).forEach(i=>{i.addEventListener("click",()=>{if(r.editMode){let o=t.overlays.nodes.find(a=>parseInt(i.id)===a.id),s=this.getDoorDimensions(o.displayPoints);r.displayDialogBox("updateDoor",{defaultValues:[o.name,s.length,s.width,o.color],id:i.id})}})}),Array.from(document.getElementsByClassName(ne.NODE)).filter(i=>document.getElementById("demo"+this.floorNumber).contains(i)).forEach(i=>{i.addEventListener("click",()=>{if(r.editMode){let o=t.overlays.nodes.find(s=>parseInt(i.id)===s.id);r.displayDialogBox("updateNode",{defaultValues:[o.name],id:i.id})}})}),d3.select("#demo"+this.floorNumber).selectAll(".polygon").on("dblclick",function(){r.changeVerticeCountOfPolygon(this,!r.deleteMode,r)}),Array.from(document.querySelectorAll("[node]")).filter(i=>document.getElementById("demo"+this.floorNumber).contains(i)).filter(i=>parseInt(i.getAttribute("floor"))===t.floor).forEach(i=>{i.addEventListener("dblclick",o=>{this.openDisplayNeighborsDialog(o,r)})}),this.observer=new MutationObserver(this.setZoom),this.observer.observe(document.querySelector("#demo"+this.floorNumber).querySelector(".map-layers"),{attributes:!0})}ngAfterViewInit(){this.floorplan=new WR,this.mapData=new Map,this.imageLayer=new PD,this.overlays=new kD(this.jsonData,this.floorNumber),this.regenerateFloorMap(!0),this.mapData.set(this.overlays.getId(),this.floor.overlays);let t=d3.select("#demo"+this.floorNumber).append("svg").attr("height",this.mapHeight).attr("width",this.mapWidth).datum(this.mapData);this.floorplan.generateMap(t),t.on("dblclick.zoom",null);let r=d3.select("#demo"+this.floorNumber).select("svg").select(".map-layers").append("g").attr("setNeighborModeLineGroup","").attr("id","demo"+this.floorNumber+"lineGroup").node(),i=t.node().querySelector(".map-layers");i.insertBefore(r,i.querySelector(".Objects")),d3.select("#demo"+this.floorNumber).select("svg").select("defs").append("marker").attr("id","arrow").attr("refX",3).attr("refY",3).attr("markerWidth",15).attr("markerHeight",15).attr("orient","auto").append("path").attr("d","M0,1 L3,3 L0,5 ").attr("fill","orange"),this.setEventListeners(this.floor)}updatePolygon(t,r,i,o,s=this){let a=s.floor.overlays.polygons,l=a.map(u=>u.id).indexOf(t);a[l].name=r,a[l].description=i,a[l].color=o,s.floor.overlays.polygons=a,s.loadData(s.floor),s.resetZoom(s)}updateNode(t,r,i=this){i.floor.overlays.nodes.find(o=>o.id===t).name=r,i.loadData(i.floor),i.resetZoom(i)}updateLabel(t,r,i,o=this){let s=o.floor.overlays.labels,a=s.map(l=>l.id).indexOf(t);s[a].description=r,s[a].color=i,o.floor.overlays.labels=s,o.loadData(o.floor),o.resetZoom(o)}removeElement(t){if(t.target){let r=parseInt(t.target.getAttribute(isNaN(parseInt(t.target.getAttribute("id")))?"pointsOfInterestId":"id")),i=document.querySelector(`[id='${r}']`).getAttribute("type");switch(i){case Et.ROOM:let o=this.floor.overlays.polygons,s=o.map(d=>d.id).indexOf(r);s>-1&&o.splice(s,1);break;case"Label":let a=this.floor.overlays.labels,l=a.map(d=>d.id).indexOf(r);l>-1&&a.splice(l,1);break;case Et.FLOOR:break;default:let u=this.floor.overlays.nodes,c=u.map(d=>d.id).indexOf(r);c>-1&&u.splice(c,1),this.removeNodeFromNeighborData(r)}i!==Et.FLOOR&&(this.resetZoom(this),this.loadData(this.floor))}}removeNodeFromNeighborData(t){this.jsonData.floors.forEach(r=>{r.overlays.nodes.forEach(i=>{let o=i.neighbors,s=o.indexOf(t);-1!==s&&o.splice(s,1)})})}displayDialogBox(t,r){this.paramsToGiveToDialogBoxes[t]=r,this.paramsToGiveToDialogBoxes[t].self=this,document.getElementById(`${t}DialogBoxFloor${this.floorNumber}`).classList.replace("hidden","flex")}resetZoom(t=this){d3.select("#demo"+t.floorNumber).select("svg").select(".map-layers").attr("transform","")}updateDoor(t,r,i,o,s,a=this){let l=a.floor.overlays.nodes.find(f=>f.id===t);l.name=r,l.color=s,a.loadData(a.floor),a.resetZoom(a);let u=l.point,c=[u,new de(u.x+o,u.y),new de(u.x+o,u.y+i),new de(u.x,u.y+i)],d=l.degreesRotated;0!==d&&(c=de.calculateNewCoordinatesForRotation(c,d)),l.displayPoints=c,l.point=u,a.loadData(a.floor),a.resetZoom(a)}changeVerticeCountOfPolygon(t,r,i=this){if(d3.event.ctrlKey||d3.event.metaKey){const o=d3.mouse(t);let s=d3.select(t);const a=parseInt(s.attr("id"));let l=s.attr("d").substring(1).split("L").map(f=>f.split(",").map(h=>parseFloat(h)));const u=l.map(f=>de.determineDistanceBetweenCoords(de.toPoint(f),de.toPoint(o))),c=u.indexOf(Math.min(...u));if(r){const f=0===c?u.length-1:c-1,h=c===u.length-1?0:c+1;let M,p=u[f]>u[h]?h:f;0!==c&&c!==l.length-1?M=c<p?c+1:p+1:0===c?M=p===c+1?c+1:p+1:c===l.length-1&&(M=p===c-1?p+1:0),l.splice(M,0,[l[c][0]+.5*(l[p][0]-l[c][0]),l[c][1]+.5*(l[p][1]-l[c][1])])}else l.splice(c,1);let d=0;for(let f=0;f!==this.jsonData.floors.length;f++){const h=this.jsonData.floors[f].overlays.polygons.map(p=>p.id).indexOf(a);if(-1!==h){this.jsonData.floors[f].overlays.polygons[h].points=l.map(p=>de.toPoint(p)),d=f;break}}i.loadData(this.jsonData.floors[d])}}removeFloor(){const t=this.jsonData.floors.map(r=>r.floor);if(![t[0],t[t.length-1]].includes(this.floorNumber)||0===this.floorNumber&&1!==t.length)this.toastr.error(`Please remove all the floors ${this.floorNumber<0?"under":"above"} this floor first.`,"",{positionClass:"toast-bottom-right"});else{const r=this.jsonData.floors.slice();for(let i=0;i<this.jsonData.floors.length;i++)if(r[i].floor===this.floorNumber){r.splice(i,1);break}this.toastr.success(`Removed ${this.floor.name}!`,"",{positionClass:"toast-bottom-right"}),this.jsonData.floors=r}}regenerateFloorMap(t=!1){(t||this.previousWindowWidth!==window.screen.width)&&(this.previousWindowWidth=window.screen.width,0===this.jsonData.length&&(this.jsonData.length=window.screen.width<1536?window.screen.width:1536,this.jsonData.width=window.screen.height<864?window.screen.height:864),this.mapWidth=.7*this.jsonData.length,this.mapHeight=this.mapWidth*this.imageRatio,this.mapHeight>.7*this.jsonData.width&&(this.mapHeight=.7*this.jsonData.width,this.mapWidth=this.mapHeight*(1/this.imageRatio)),this.xScale=d3.scale.linear().domain([0,this.mapWidth]).range([0,this.mapWidth]),this.yScale=d3.scale.linear().domain([0,this.mapHeight]).range([0,this.mapHeight]),this.mapData.set(this.imageLayer.getId(),[{url:this.imageUrl,x:0,y:0,width:this.mapWidth,height:this.mapHeight}]),this.mapData.set(this.overlays.getId(),this.overlays),this.floorplan.getSetxScale(this.xScale),this.floorplan.getSetyScale(this.yScale),this.floorplan.clearLayers(),this.floorplan.addLayer(this.imageLayer,0),this.floorplan.addLayer(this.overlays,1),t||this.loadData(this.jsonData.floors.find(r=>r.floor===this.floorNumber)))}updateNewBackground(t){if(t.target.files.length>0){const r=new FileReader;r.readAsDataURL(t.target.files[t.target.files.length-1]);const i=this;r.onload=function(o){const s=new Image;s.src=o.target.result,s.onload=function(){i.imageHeight=s.height,i.imageWidth=s.width,i.imageRatio=s.height/s.width,i.imageUrl=URL.createObjectURL(t.target.files[t.target.files.length-1]),i.regenerateFloorMap(!0),i.resetZoom(i),i.loadData(i.floor)}}}}getDoorDimensions(t){const r=Math.round(Math.sqrt(Math.pow(t[1].x-t[0].x,2)+Math.pow(t[1].y-t[0].y,2))),i=Math.round(Math.sqrt(Math.pow(t[2].x-t[1].x,2)+Math.pow(t[2].y-t[1].y,2)));return{length:r>i?r:i,width:r>i?i:r}}setNeighbors(t,r,i=this){let o=[];for(const s of r){o.push(parseInt(s[0]));const a=document.querySelector(`[id='${s[0]}']`);if(null===a)console.error(`The neighbor with id ${s[0]} does not exist.`);else{let c,l=parseInt(a.getAttribute("floor")),u=parseInt(document.querySelector(`[id='${t}']`).getAttribute("floor"));c=l===u?i.floor.overlays.nodes.find(d=>d.id===parseInt(s[0])).neighbors:a.getAttribute("type")===ne.STAIRS||a.getAttribute("type")===ne.LIFT?i.jsonData.floors.find(d=>d.floor===l).overlays.nodes.find(d=>d.id===parseInt(s[0])).neighbors:[],s[1]&&!c.includes(t)?c.push(t):s[1]||(c=c.filter(d=>d!==t)),i.saveNeighborsInJson(parseInt(s[0]),c,i)}}o=o.filter((s,a)=>o.indexOf(s)===a),i.saveNeighborsInJson(t,o,i),i.setConnectingNeighbors(i)}saveNeighborsInJson(t,r,i=this){const o=d3.select(`[id='${t}']`);i.jsonData.floors.find(s=>parseInt(o.attr("floor"))===s.floor).overlays.nodes.forEach(s=>{s.id===t&&(s.neighbors=r)})}setConnectingNeighbors(t=this){this.removeConnectingNeighbors(t);let r=d3.select("#demo"+t.floorNumber+"lineGroup"),i=t.floor.overlays.nodes;Array.from(document.querySelectorAll("[node]")).filter(s=>parseInt(s.getAttribute("floor"))===t.floorNumber).forEach(s=>{const a=t.getConnectablePoint(parseInt(s.id));i.find(l=>l.id===parseInt(s.id)).neighbors.map(l=>{const u=document.getElementById(String(l)),c=t.getConnectablePoint(l),d=parseInt(u.getAttribute("floor")),f=parseInt(s.getAttribute("floor"));let p=!1;t.jsonData.floors.find(C=>C.floor===d).overlays.nodes.find(C=>C.id===l).neighbors.some(C=>C===parseInt(s.id))&&(p=!0),f===d&&r.append("line").attr("x1",a.x+([ne.DOOR,ne.EMERGENCY_EXIT,ne.NODE].includes(s.getAttribute("type"))?0:parseFloat(s.getAttribute("width").split("px")[0])/2)).attr("y1",a.y+([ne.DOOR,ne.EMERGENCY_EXIT,ne.NODE].includes(s.getAttribute("type"))?0:parseFloat(s.getAttribute("height").split("px")[0])/2)).attr("x2",c.x+([ne.DOOR,ne.EMERGENCY_EXIT,ne.NODE].includes(u.getAttribute("type"))?0:parseFloat(u.getAttribute("width").split("px")[0])/2)).attr("y2",c.y+([ne.DOOR,ne.EMERGENCY_EXIT,ne.NODE].includes(u.getAttribute("type"))?0:parseFloat(u.getAttribute("height").split("px")[0])/2)).attr("stroke",p?"green":"orange").attr("stroke-width","5px").attr("marker-end",p?"":"url(#arrow)")})})}removeConnectingNeighbors(t=this){d3.select("#demo"+t.floorNumber+"lineGroup").selectAll("line").remove()}createPolygon(t=null,r,i,o,s=[204,204,204],a=this){let u=2*Math.PI/i,c=[];for(let f=0;f<i;f++){const h=75+30*Math.sin(f*u),p=75+30*Math.cos(f*u);c[f]=new de(h,p)}const d=a.floor.overlays.polygons;d.push(new qs(null===t?a.jsonData.lastId+1:t,r,a.floorNumber,Et.ROOM,o,c,s)),d.length>1&&(d[0].type=Et.FLOOR),null===t&&(a.jsonData.lastId+=1),a.loadData(a.floor),a.resetZoom(a)}createPointOfInterest(t,r=[],i=this){i.floor.overlays.nodes.push(new So(i.jsonData.lastId+1,String(i.jsonData.lastId+1),i.floorNumber,new de(25,25),[],[],t,[],0)),i.jsonData.lastId+=1,i.loadData(i.floor),i.resetZoom(i)}createLabel(t,r,i=this){i.floor.overlays.labels.push(new Zl(i.jsonData.lastId+1,t,new de(25,25),r)),i.jsonData.lastId+=1,i.loadData(i.floor),i.resetZoom(i)}createNode(t,r){r.floor.overlays.nodes.push(new So(r.jsonData.lastId+1,t,r.floorNumber,new de(25,25),[],[],ne.NODE,[],0)),r.jsonData.lastId+=1,r.loadData(r.floor),r.resetZoom(r)}createDoor(t,r,i,o,s,a){const l=a.floor.overlays.nodes,u=new de(25,25);let c=[u,new de(u.x+i,u.y),new de(u.x+i,u.y+r),new de(u.x,u.y+r)];l.push(new So(a.jsonData.lastId+1,t,a.floorNumber,u,c,[],s?ne.EMERGENCY_EXIT:ne.DOOR,o,0)),a.jsonData.lastId+=1,a.loadData(a.floor),a.resetZoom(a)}getConnectablePoint(t){let r=d3.select(`[id='${t}']`);if(null===r)throw`The node with id ${t} does not exist.`;switch(r.attr("type")){case ne.DOOR:case ne.EMERGENCY_EXIT:let i=de.arrayOfPointsFromPointString(r.attr("points"));return new de((i[0].x+i[2].x)/2,(i[0].y+i[2].y)/2);case Et.ROOM:case Et.FLOOR:case ne.NODE:return new de(parseFloat(r.attr("cx")),parseFloat(r.attr("cy")));default:return new de(parseFloat(r.attr("x")),parseFloat(r.attr("y")))}}openDisplayNeighborsDialog(t,r){if(r.setNeighborMode){const i=""===t.target.id?t.target.getAttribute("pointsOfInterestId"):t.target.id;if(null!=i&&""!==i){const o=r.floor.overlays.nodes.find(a=>a.id===parseInt(i)),s=o.neighbors;r.displayDialogBox("setNeighbors",{id:i,defaultValues:[null===s?[]:s.map(a=>[a,r.jsonData.floors.map(l=>l.overlays.nodes).flat(1).find(l=>l.id===a).neighbors.includes(Number(i))])],values:[[[{group:"Stairs",values:this.jsonData.floors.filter(a=>o.type===ne.STAIRS?a.floor===this.floorNumber-1||a.floor===this.floorNumber+1:a.floor===this.floorNumber).map(a=>a.overlays.nodes).flat(1).filter(a=>a.type===ne.STAIRS).map(a=>a.id).filter(a=>a!==parseInt(i))},{group:"Lifts",values:this.jsonData.floors.filter(a=>o.type===ne.LIFT?a.floor===this.floorNumber-1||a.floor===this.floorNumber+1:a.floor===this.floorNumber).map(a=>a.overlays.nodes).flat(1).filter(a=>a.type===ne.LIFT).map(a=>a.id).filter(a=>a!==parseInt(i))},{group:"Points of interest",values:this.floor.overlays.nodes.filter(a=>![ne.STAIRS,ne.LIFT,ne.DOOR,ne.EMERGENCY_EXIT,ne.NODE].includes(a.type)).map(a=>a.id).filter(a=>a!==parseInt(i))},{group:"Doors",values:this.floor.overlays.nodes.filter(a=>a.type===ne.DOOR||a.type===ne.EMERGENCY_EXIT).map(a=>a.id).filter(a=>a!==parseInt(i))},{group:"Nodes",values:this.floor.overlays.nodes.filter(a=>a.type===ne.NODE).map(a=>a.id).filter(a=>a!==parseInt(i))}]]]})}}}}return n.\u0275fac=function(t){return new(t||n)(O(Xl))},n.\u0275cmp=pn({type:n,selectors:[["app-create-floor"]],hostBindings:function(t,r){1&t&&te("resize",function(){return r.regenerateFloorMap()},!1,Xg)},inputs:{jsonData:"jsonData",floorNumber:"floorNumber",deleteMode:"deleteMode",changeEditMode:"changeEditMode",changeSetNeighborMode:"changeSetNeighborMode"},decls:18,vars:120,consts:[[1,"w-full","shadow","rounded-lg","p-2","bg-blue-100","dark:bg-[#37373b]","mt-5","mb-2"],[1,"text-black","dark:text-white","text-xl","mx-2","md:mx-4","mb-2"],["class","flex flex-wrap gap-y-2 gap-x-4 mx-4 md:mx-8 mb-2",4,"ngIf"],[1,"flex","justify-center"],[1,"text-white","bg-white","overflow-auto","floor",3,"id"],["class","mt-5 text-white",4,"ngIf"],["action","createPolygonWithNVertices","confirmButtonText","OK","dialogText","Enter the room's info:","title","Create polygon",3,"confirmAction","floor","formElements","params"],["action","createPolygon","confirmButtonText","OK","dialogText","Please fill in the following form:","title","Create polygon",3,"confirmAction","floor","formElements","params"],["action","updatePolygon","confirmButtonText","OK","dialogText","Update this room: ","title","Update room",3,"confirmAction","floor","formElements","params"],["action","createDoor","confirmButtonText","OK","dialogText","Enter the door's info:","title","Create door",3,"confirmAction","floor","formElements","params"],["action","updateDoor","confirmButtonText","OK","dialogText","Update this door: ","title","Update door",3,"confirmAction","floor","formElements","params"],["action","createNode","confirmButtonText","OK","dialogText","Enter the node's name:","title","Create node",3,"confirmAction","floor","formElements","params"],["action","updateNode","confirmButtonText","OK","dialogText","Update the node:","title","Update node",3,"confirmAction","floor","formElements","params"],["action","createPointOfInterest","confirmButtonText","OK","dialogText","","title","Create Point of Interest",3,"confirmAction","floor","formElements","params"],["action","createLabel","confirmButtonText","OK","dialogText","Enter the label's description","title","Create label",3,"confirmAction","floor","formElements","params"],["action","updateLabel","confirmButtonText","OK","dialogText","Update the label:","title","Update label",3,"confirmAction","floor","formElements","params"],["action","setNeighbors","confirmButtonText","OK","dialogText","Enter the neighbor's id's:","title","Set neighbors",3,"confirmAction","floor","formElements","params"],[1,"flex","flex-wrap","gap-y-2","gap-x-4","mx-4","md:mx-8","mb-2"],[1,"text-black","dark:text-white","cursor-pointer"],["accept","image/*","type","file",1,"hidden",3,"change"],[1,"flex","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6"],["d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"text-red-500","flex","gap-2",3,"click"],["d","M6 18L18 6M6 6l12 12","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[3,"for","hidden","click"],["type","checkbox",1,"ml-1.5","mr-2",3,"defaultChecked","id"],[1,"mt-5","text-white"],[1,"bg-blue-400","rounded-md","py-2","px-3","m-2","addFigureButton",3,"click"]],template:function(t,r){1&t&&(g(0,"div",0)(1,"h3",1),D(2),m(),Je(3,KR,15,4,"div",2),g(4,"div",3),X(5,"div",4),m(),Je(6,QR,19,0,"div",5),X(7,"app-dialog-box",6)(8,"app-dialog-box",7)(9,"app-dialog-box",8)(10,"app-dialog-box",9)(11,"app-dialog-box",10)(12,"app-dialog-box",11)(13,"app-dialog-box",12)(14,"app-dialog-box",13)(15,"app-dialog-box",14)(16,"app-dialog-box",15)(17,"app-dialog-box",16),m()),2&t&&(J(2),ho(r.floor.name),J(1),he("ngIf",!r.setNeighborMode),J(2),Za("id","demo",r.floorNumber,""),J(1),he("ngIf",!r.setNeighborMode),J(1),he("confirmAction",r.createPolygon)("floor",r.floorNumber)("formElements",Bd(51,BD,Le(48,Bh),Le(49,Hh),Le(50,jD)))("params",r.paramsToGiveToDialogBoxes.createPolygonWithNVertices),J(1),he("confirmAction",r.createPolygon)("floor",r.floorNumber)("formElements",al(59,$h,Le(55,Bh),Le(56,Hh),Le(57,ZR),Le(58,jD)))("params",r.paramsToGiveToDialogBoxes.createPolygon),J(1),he("confirmAction",r.updatePolygon)("floor",r.floorNumber)("formElements",Bd(67,BD,Le(64,Bh),Le(65,Hh),Le(66,Uh)))("params",r.paramsToGiveToDialogBoxes.updatePolygon),J(1),he("confirmAction",r.createDoor)("floor",r.floorNumber)("formElements",al(75,$h,Le(71,HD),Le(72,YR),Le(73,JR),Le(74,XR)))("params",r.paramsToGiveToDialogBoxes.createDoor),J(1),he("confirmAction",r.updateDoor)("floor",r.floorNumber)("formElements",al(84,$h,Le(80,HD),Le(81,ek),Le(82,tk),Le(83,Uh)))("params",r.paramsToGiveToDialogBoxes.updateDoor),J(1),he("confirmAction",r.createNode)("floor",r.floorNumber)("formElements",wn(90,du,Le(89,$D)))("params",r.paramsToGiveToDialogBoxes.createNode),J(1),he("confirmAction",r.updateNode)("floor",r.floorNumber)("formElements",wn(93,du,Le(92,$D)))("params",r.paramsToGiveToDialogBoxes.updateNode),J(1),he("confirmAction",r.createPointOfInterest)("floor",r.floorNumber)("formElements",wn(97,du,wn(95,nk,r.getPointsOfInterestTypes())))("params",r.paramsToGiveToDialogBoxes.createPointOfInterest),J(1),he("confirmAction",r.createLabel)("floor",r.floorNumber)("formElements",sl(101,Gh,Le(99,UD),Le(100,rk)))("params",r.paramsToGiveToDialogBoxes.createLabel),J(1),he("confirmAction",r.updateLabel)("floor",r.floorNumber)("formElements",sl(106,Gh,Le(104,UD),Le(105,Uh)))("params",r.paramsToGiveToDialogBoxes.updateLabel),J(1),he("confirmAction",r.setNeighbors)("floor",r.floorNumber)("formElements",wn(118,du,wn(116,ak,sl(113,Gh,wn(110,ok,Le(109,ik)),Le(112,sk)))))("params",r.paramsToGiveToDialogBoxes.setNeighbors))},directives:[Ns,VD],styles:["g[_ngcontent-%COMP%]:hover{transform:scale(1.5)}"]}),n})();function uk(n,e){1&n&&(g(0,"p",40),D(1,"Select an option to get started:"),m())}function ck(n,e){if(1&n){const t=vr();g(0,"div",41)(1,"div",42)(2,"h1",43),D(3,"Create new map"),m(),g(4,"div",44)(5,"label",45),D(6," Name: "),m(),g(7,"input",46),te("keydown.enter",function(){return Fe(t),le().createMap()})("ngModelChange",function(i){return Fe(t),le().jsonData.name=i}),m(),X(8,"p",47),g(9,"button",48),te("click",function(){return Fe(t),le().createMap()}),D(10," Create map "),m()()(),g(11,"div",49)(12,"button",50),te("click",function(){Fe(t);const i=le();return i.displayDialogBox("updateMap",{values:[[{group:"",values:i.mapNames}]]})}),at(),g(13,"svg",38),X(14,"path",19),m(),D(15," Get map from server "),m(),Tt(),g(16,"button",50),te("click",function(){Fe(t);const i=le();return i.displayDialogBox("deleteMap",{values:[[{group:"",values:i.mapNames}]]})}),at(),g(17,"svg",38),X(18,"path",19),m(),D(19," Remove map from server "),m(),Tt(),g(20,"label",51),X(21,"input",52),g(22,"span",17),at(),g(23,"svg",38),X(24,"path",19),m(),Tt(),g(25,"span"),D(26,"Get map from computer"),m()()()()()}if(2&n){const t=le();J(7),he("ngModel",t.jsonData.name)}}function dk(n,e){if(1&n){const t=vr();jr(0,53),g(1,"button",54),te("click",function(){Fe(t);const i=le();return i.jsonData.setNeighborMode?i.disableSetNeighborMode():i.enableSetNeighborMode()}),at(),g(2,"svg",55),X(3,"path",56)(4,"path",57),m()(),Tt(),g(5,"button",58),te("click",function(){return Fe(t),le().toggleEditMode()}),at(),g(6,"svg",59),X(7,"path",60),m()(),Tt(),g(8,"button",61),te("click",function(){return Fe(t),le().toggleDeleteMode()}),at(),g(9,"svg",62),X(10,"path",63),m()(),Tt(),g(11,"button",64),te("click",function(){return Fe(t),le().clearMap()}),at(),g(12,"svg",18),X(13,"path",65),m(),D(14," Clear whole map "),m(),Br()}if(2&n){const t=le();J(1),Dn((t.jsonData.setNeighborMode?"text-green-500":"text-white")+" px-4 py-2"),J(4),Dn((t.jsonData.editMode?"text-blue-500":"text-white")+" px-4 py-2"),J(3),Dn((t.jsonData.deleteMode?"text-red-500":"text-white")+" p-4")}}function fk(n,e){if(1&n&&X(0,"app-create-floor",66),2&n){const t=e.$implicit,r=le();he("changeEditMode",r.jsonData.editMode)("changeSetNeighborMode",r.jsonData.setNeighborMode)("deleteMode",r.jsonData.deleteMode)("floorNumber",t.floor)("jsonData",r.jsonData)}}function hk(n,e){if(1&n&&(g(0,"option",85),D(1),m()),2&n){const t=le().$implicit;Ad("value",t.floor),J(1),Vn(" Of ",t.name," ")}}function pk(n,e){if(1&n&&(jr(0),Je(1,hk,2,2,"option",84),Br()),2&n){const t=e.$implicit;J(1),he("ngIf",t.overlays.polygons.length>1)}}function gk(n,e){if(1&n){const t=vr();jr(0),g(1,"label",80),D(2," Use previous ground floor: "),m(),g(3,"select",81),te("keydown.enter",function(){return Fe(t),le(2).addFloor()}),g(4,"option",82),D(5,"No"),m(),Je(6,pk,2,1,"ng-container",83),m(),Br()}if(2&n){const t=le(2);J(6),he("ngForOf",t.jsonData.floors)}}function mk(n,e){if(1&n){const t=vr();g(0,"div",67)(1,"h2",68),D(2,"Add floor"),m(),g(3,"div",69)(4,"label",70),D(5,"Floor number:"),m(),g(6,"input",71),te("keydown.enter",function(){return Fe(t),le().addFloor()})("ngModelChange",function(i){return Fe(t),le().createFloorForm.floor=i}),m(),X(7,"p",72),g(8,"label",73),D(9,"Floor name:"),m(),g(10,"input",74),te("keydown.enter",function(){return Fe(t),le().addFloor()})("ngModelChange",function(i){return Fe(t),le().createFloorForm.name=i}),m(),X(11,"p",75),g(12,"label",76),D(13,"Floor height (meters):"),m(),g(14,"input",77),te("keydown.enter",function(){return Fe(t),le().addFloor()})("ngModelChange",function(i){return Fe(t),le().createFloorForm.height=i}),m(),X(15,"p",78),Je(16,gk,7,1,"ng-container",79),g(17,"button",48),te("click",function(){return Fe(t),le().addFloor()}),D(18," Add floor "),m()()()}if(2&n){const t=le();J(6),he("ngModel",t.createFloorForm.floor),J(4),he("ngModel",t.createFloorForm.name),J(4),he("ngModel",t.createFloorForm.height),J(2),he("ngIf",0!==t.jsonData.floors.length&&t.hasAFloor())}}const GD=function(){return[]},qD=function(n){return{name:"Map",required:!0,tagType:"search-select",values:n}},zD=function(n){return[n]},yk=[{path:"",component:YF},{path:"createMap",component:(()=>{class n{constructor(t,r,i){this.router=t,this.mapService=r,this.toastr=i,this.jsonData=new Ws(!1,!1,!1,"",0,0),this.newMap=!1,this.mapNames=[],this.initializedMap=!1,this.createFloorForm=new zs(0,"Gelijkvloers",3),this.paramsToGiveToDialogBoxes={updateMap:{},deleteMap:{}}}ngAfterViewInit(){const t=this;document.getElementById("uploadedMapFromComputer").onchange=function(r){const i=new FileReader;t.clearMap(!1),i.onload=function(o){let s=t.jsonData.name,a=JSON.parse(o.target.result);t.newMap&&(a.name=s),t.jsonData=a,t.jsonData.editMode=!1,t.jsonData.deleteMode=!1,t.jsonData.setNeighborMode=!1,t.updateAddFloorForm(t)},r.target.files.length>0&&(i.readAsText(r.target.files[0]),t.initializedMap=!0,t.moveFileInputField())},this.getMapNames()}moveFileInputField(){let t=document.getElementById("uploadedMapFromComputer"),r=document.getElementById("uploadedMapFromComputerTaskBarLocation");r.insertBefore(t,r.firstChild)}createMap(){document.getElementById("mapNameError").innerText=""===this.jsonData.name?"No map name given.":"",Array.from(document.querySelectorAll("#addMapForm .error")).find(t=>""!==t.innerText)||(this.newMap=!0,this.initializedMap=!0,this.moveFileInputField())}updateAddFloorForm(t){t.createFloorForm.floor=0===t.jsonData.floors.length?0:t.jsonData.floors.map(r=>r.floor).sort()[t.jsonData.floors.length-1]+1,t.createFloorForm.name="Verdieping "+t.createFloorForm.floor}addFloor(t=this.createFloorForm.floor,r=this.createFloorForm.name,i=this.createFloorForm.height,o=(null===document.getElementById("useGroundFloor")?null:Number(document.getElementById("useGroundFloor").value))){const s=this.jsonData.floors.map(l=>l.floor).sort();if(document.getElementById("floorNumberError").innerText=null===t||isNaN(t)?"Not a valid floor number":this.jsonData.floors.find(l=>l.floor===t)?"This floor already exists.":0===s.length&&0!==t?"Please add the ground floor first.":0===s.length||[s[0]-1,s[s.length-1]+1].includes(t)?"":`Please add floor ${t<s[0]?s[0]-1:s[s.length-1]+1} first.`,document.getElementById("floorNameError").innerText=""===r?"The floor name cannot be empty.":"",document.getElementById("floorHeightError").innerText=null===i||isNaN(i)?"This isn't a valid number.":i<=0?"The floor height must be a positive number.":"",!Array.from(document.querySelectorAll("#addFloorForm .error")).find(l=>""!==l.innerText)){if(this.jsonData.floors.push(new zs(t,r,i)),this.updateAddFloorForm(this),null!==o){const l=qs.copy(this.jsonData.floors.find(u=>u.floor===o).overlays.polygons.find(u=>u.type===Et.FLOOR));l.id=this.jsonData.lastId+1,l.type=Et.ROOM,this.jsonData.floors[this.jsonData.floors.length-1].overlays.polygons.push(l),this.jsonData.lastId++}this.jsonData.floors.sort((l,u)=>l.floor-u.floor)}}getMapNames(){this.mapService.getAllMapNames().subscribe(t=>{0===t.length?this.toastr.error("No maps available","",{positionClass:"toast-bottom-right"}):this.mapNames=t})}hasAFloor(){return void 0!==this.jsonData.floors.find(t=>t.overlays.polygons.find(r=>r.type===Et.FLOOR))}saveMapLocally(){let t=document.createElement("a"),r=Ws.copy(this.jsonData);delete r.deleteMode,delete r.editMode,delete r.setNeighborMode;let i=new Blob([JSON.stringify(r)]);t.href=URL.createObjectURL(i),t.target="_blank",t.download=this.jsonData.name+".json",document.body.appendChild(t),t.click(),document.body.removeChild(t),this.disableSetNeighborMode()}saveMapRemotely(){let t=Ws.copy(this.jsonData);delete t.deleteMode,delete t.editMode,delete t.setNeighborMode;let r=JSON.parse(JSON.stringify(t));this.mapService.addMap(r).subscribe(()=>{this.toastr.success("Successfully uploaded map!","",{positionClass:"toast-bottom-right"})}),this.disableSetNeighborMode()}displayDialogBox(t,r){this.getMapNames(),this.paramsToGiveToDialogBoxes[t]=r,this.paramsToGiveToDialogBoxes[t].self=this,document.getElementById(`${t}DialogBoxFloor0`).classList.replace("hidden","flex")}editMap(t,r){r.clearMap(!1),r.mapService.getMap(t).subscribe(i=>{null===i?r.toastr.error("No map with the given name found.","",{positionClass:"toast-bottom-right"}):(r.jsonData.editMode=!1,r.jsonData.setNeighborMode=!1,r.jsonData.deleteMode=!1,document.getElementById("submitMap").innerText="Update map",r.jsonData=i,r.updateAddFloorForm(r),r.initializedMap=!0,r.moveFileInputField())})}deleteMap(t,r){r.mapService.deleteMap(t).subscribe(i=>{null===i?r.toastr.success(`Successfully deleted the map "${t}".`,"",{positionClass:"toast-bottom-right"}):r.toastr.error(`Couldn't remove the map with name "${t}". ${i}`,"",{positionClass:"toast-bottom-right"}),r.mapNames.forEach((o,s)=>{o===t&&r.mapNames.splice(s,1)}),r.mapService.getAllMapNames()})}toggleDeleteMode(){this.jsonData.deleteMode=!this.jsonData.deleteMode,this.jsonData.deleteMode?(this.disableSetNeighborMode(),this.jsonData.editMode=!1,this.toastr.warning("Delete mode enabled!","",{positionClass:"toast-bottom-right"})):this.toastr.success("Delete mode disabled!","",{positionClass:"toast-bottom-right"})}clearMap(t=!0){this.jsonData.lastId=0,this.jsonData.floors=[],this.updateAddFloorForm(this),t&&this.toastr.success("Cleared map!","",{positionClass:"toast-bottom-right"})}enableSetNeighborMode(){this.jsonData.deleteMode=!1,this.jsonData.editMode=!1,document.querySelectorAll(".map-layers").forEach(i=>i.setAttribute("transform","translate(0,0)scale(1)")),this.jsonData.setNeighborMode=!0;let t=document.querySelectorAll(".floor"),r=document.querySelectorAll("[node]");t.forEach(i=>d3.select("#"+i.getAttribute("id")).select("svg").append("g").attr("setNeighborModeTextGroup","").attr("id",i.getAttribute("id")+"textLabels")),r.forEach(i=>{const o=d3.select(`[id='${i.getAttribute("id")}']`),a=d3.select("#demo"+o.attr("floor")+"textLabels").append("g");let l,u;switch(i.getAttribute("type")){case ne.DOOR:case ne.EMERGENCY_EXIT:let c=de.arrayOfPointsFromPointString(o.attr("points")),h=new de((c[0].x+c[2].x)/2,(c[0].y+c[2].y)/2);u=new de(h.x,h.y);break;case ne.NODE:u=new de(parseFloat(o.attr("cx"))+6,parseFloat(o.attr("cy"))-1);break;default:u=new de(30+parseFloat(o.attr("x")),parseFloat(o.attr("y"))+5)}if(l=a.append("text").attr("x",u.x).attr("y",u.y).style("font-size","0.5em").text(o.attr("id")),l){const c=a.node().getBBox(),d=document.createElementNS("http://www.w3.org/2000/svg","rect");d.setAttribute("x",c.x),d.setAttribute("y",c.y),d.setAttribute("width",c.width),d.setAttribute("height",c.height),d.setAttribute("fill","white"),d.setAttribute("stroke","black"),d.setAttribute("stroke-width","0.5px"),a.node().insertBefore(d,l.node())}a.node().addEventListener("click",function(c){c.target.parentNode.parentNode.appendChild(c.target.parentNode)})})}disableSetNeighborMode(){document.querySelectorAll("[setNeighborModeTextGroup]").forEach(t=>t.remove()),document.querySelectorAll("[setNeighborModeLineGroup]").forEach(t=>t.innerHTML=""),this.jsonData.setNeighborMode=!1}toggleEditMode(){this.jsonData.editMode||(this.jsonData.deleteMode=!1,this.disableSetNeighborMode()),this.jsonData.editMode=!this.jsonData.editMode}}return n.\u0275fac=function(t){return new(t||n)(O(Ft),O(_b),O(Xl))},n.\u0275cmp=pn({type:n,selectors:[["create-map"]],decls:52,vars:25,consts:[[1,"flex","flex-col","bg-cover","bg-[url('src/assets/img/scattered-forcefields.svg')]","dark:bg-[url('src/assets/img/scattered-forcefields-dark.svg')]","text-black","dark:text-white","object-fill","h-screen","bg-blue-50","overflow-auto","relative","pb-5"],[1,"container","mx-auto","px-5","mb-3"],[1,"mt-32","xl:mt-auto","content-center"],[1,"sm:col-span-1","space-y-5","md:space-y-8"],[1,"text-4xl","sm:text-5xl","xl:text-7xl","font-semibold","mt-20","text-center"],["class","text-lg md:text-2xl text-center",4,"ngIf"],["class","justify-center gap-x-5 flex flex-row flex-grow flex-wrap",4,"ngIf"],[1,"bg-white","dark:bg-black","rounded-lg","m-5","md:mx-10",3,"hidden"],["id","editMapNav",1,"flex","justify-center","top-0","z-50","w-full"],[1,"text-white","bg-gray-800","rounded-b-md","flex","flex-wrap","gap-y-2","gap-x-4"],[1,"flex","gap-2","p-4","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-white","hover:shadow",3,"click"],["fill","currentColor","viewBox","0 0 290 290","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6"],["d","M287.602,53.599l-51.2-51.2C234.862,0.863,232.777,0,230.602,0H8.199C3.668,0,0,3.668,0,8.199v273.602 C0,286.332,3.668,290,8.199,290h273.602c4.531,0,8.199-3.668,8.199-8.199V59.397C290,57.221,289.135,55.138,287.602,53.599z M38.456,34.678c0-3.262,2.651-5.916,5.917-5.916h160.975c3.27,0,5.918,2.654,5.918,5.916v78.323c0,3.269-2.647,5.915-5.918,5.915 H44.373c-3.266,0-5.917-2.646-5.917-5.915V34.678z M251.544,247.513c0,4.03-3.27,7.298-7.296,7.298H45.752 c-4.026,0-7.296-3.268-7.296-7.298V150.94c0-4.028,3.27-7.295,7.296-7.295h198.496c4.026,0,7.296,3.267,7.296,7.295V247.513z"],["height","69.604","width","24.588","x","173.564","y","39.039"],["height","8.195","width","171.021","x","59.489","y","174.643"],["height","8.195","width","171.021","x","59.489","y","215.62"],["id","uploadedMapFromComputerTaskBarLocation",1,"cursor-pointer","p-4"],[1,"flex","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6"],["d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"text-center"],[1,"flex","gap-2","p-4",3,"click"],["d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["id","submitMap"],["class","text-white bg-gray-800 flex gap-y-2 gap-x-4",4,"ngIf"],[1,"flex","flex-row"],[1,"text-black","dark:text-white","text-3xl","mx-2","md:mx-4","mt-2","font-semibold"],[1,"mr-2","ml-auto","order-2","text-gray-500","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700","focus:outline-none","focus:ring-4","focus:ring-gray-200","dark:focus:ring-gray-700","rounded-lg","text-sm","p-2.5",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["clip-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z","fill-rule","evenodd"],[1,"mx-4","md:mx-8","pb-5","text-black","dark:text-white"],[1,"text-2xl","mt-2"],["id","floors"],[3,"changeEditMode","changeSetNeighborMode","deleteMode","floorNumber","jsonData",4,"ngFor","ngForOf"],["class","shadow bg-blue-100 dark:bg-[#37373b] rounded-lg p-2 mt-5 mb-2",4,"ngIf"],["action","updateMap","confirmButtonText","OK","dialogText","Which of the following maps do you want to edit?","title","Edit map",3,"confirmAction","floor","formElements","params"],["action","deleteMap","confirmButtonText","OK","dialogText","Which of the following maps do you want to delete?","title","Delete map",3,"confirmAction","floor","formElements","params"],[1,"bg-white","dark:bg-[#000]","ml-10","mt-3","w-fit","flex","shadow","rounded-lg","transition","duration-200","ease-in-out","transform","hover:-translate-y-1","hover:shadow-lg","px-4","py-3","font-semibold","my-auto",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","pr-2"],["d","M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"text-lg","md:text-2xl","text-center"],[1,"justify-center","gap-x-5","flex","flex-row","flex-grow","flex-wrap"],[1,"bg-white","dark:bg-black","shadow","rounded-lg","h-min","p-5","mx-2","md:mx-4","my-auto"],[1,"text-3xl","text-black","dark:text-white"],["id","addMapForm",1,"text-left","max-w-md","m-2","w-25","text-black","dark:text-white"],["for","mapName",1,"block","text-gray-700","text-sm","font-bold","mb-2","text-black","dark:text-white"],["id","mapName","placeholder","Name","type","text",1,"bg-white","text-gray-700","border","focus:outline-none","focus:shadow-outline","rounded-md","shadow","w-auto","leading-tight","py-2","px-3","mx-1.5",3,"ngModel","keydown.enter","ngModelChange"],["id","mapNameError",1,"text-red-500","mx-3","mb-1","error"],[1,"text-white","bg-blue-400","focus:outline-none","focus:ring-2","focus:ring-outset","focus:ring-white","shadow","block","rounded-md","py-2","px-3","mt-4",3,"click"],[1,"w-25","flex","flex-col","h-min","gap-y-5","my-auto"],[1,"bg-white","dark:bg-[#000]","flex","shadow","rounded-lg","transition","duration-200","ease-in-out","transform","hover:-translate-y-1","hover:shadow-lg","p-5","font-semibold","my-auto",3,"click"],[1,"bg-white","dark:bg-[#000]","cursor-pointer","flex","shadow","rounded-lg","transition","duration-200","ease-in-out","transform","hover:-translate-y-1","hover:shadow-lg","p-5","font-semibold","my-auto"],["accept","application/json","id","uploadedMapFromComputer","type","file",1,"hidden"],[1,"text-white","bg-gray-800","flex","gap-y-2","gap-x-4"],["id","setNeighborModeButton",3,"click"],["fill","currentColor","viewBox","0 0 1024 1024","xmlns","http://www.w3.org/2000/svg",1,"svg-icon","h-8","w-8"],["d","M236.1 757.3l533.6-524 25.9 26.6-533.7 524z","stroke","currentColor","stroke-width","10"],["d","M837.2 66.4c-66.8 0-121 54.2-121 121s54.2 121 121 121 121-54.2 121-121-54.2-121-121-121z m-0.1 203.5c-45.7 0-82.7-37-82.7-82.7s37-82.7 82.7-82.7 82.7 37 82.7 82.7-37 82.7-82.7 82.7zM185 717.3c-66.8 0-121 54.2-121 121s54.2 121 121 121 121-54.2 121-121-54.2-121-121-121z m-0.1 203.6c-45.7 0-82.7-37-82.7-82.7s37-82.7 82.7-82.7 82.7 37 82.7 82.7-37 82.7-82.7 82.7z","stroke","currentColor","stroke-width","10"],["id","editModeButton",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"svg-icon","h-8","w-8"],["d","M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z","stroke-linecap","round","stroke-linejoin","round","stroke-width","1"],["id","deleteModeButton",3,"click"],["fill","currentColor","viewBox","0 0 299.289 299.289","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6"],["d","M290.422,79.244L220.034,8.857c-11.794-11.795-30.986-11.795-42.78,0C175.866,10.245,12.971,173.14,8.867,177.244 c-11.822,11.821-11.824,30.957,0,42.78l70.388,70.388c11.821,11.822,30.957,11.824,42.78,0 c1.046-1.046,165.357-165.357,168.388-168.388C302.244,110.203,302.246,91.066,290.422,79.244z M110.367,278.744 c-5.374,5.373-14.071,5.373-19.446,0l-70.388-70.388c-5.373-5.374-5.375-14.071,0-19.446l34.61-34.61l89.834,89.834 L110.367,278.744z M278.755,110.357l-122.111,122.11l-89.833-89.833l122.11-122.111c5.374-5.374,14.071-5.374,19.446,0 l70.388,70.388C284.129,96.285,284.129,104.983,278.755,110.357z"],[1,"text-red-500","flex","gap-2","p-4",3,"click"],["d","M6 18L18 6M6 6l12 12","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[3,"changeEditMode","changeSetNeighborMode","deleteMode","floorNumber","jsonData"],[1,"shadow","bg-blue-100","dark:bg-[#37373b]","rounded-lg","p-2","mt-5","mb-2"],[1,"text-black","dark:text-white","text-xl"],["id","addFloorForm",1,"max-w-md","text-black","dark:text-white","m-2"],["for","floorNumber",1,"block","text-sm","font-bold","mb-2"],["id","floorNumber","placeholder","Floor number","step","1","type","number",1,"bg-white","text-gray-700","border","focus:outline-none","focus:shadow-outline","rounded-md","shadow","w-auto","leading-tight","py-2","px-3","mx-1.5",3,"ngModel","keydown.enter","ngModelChange"],["id","floorNumberError",1,"text-red-500","mx-3","mb-1","error"],["for","floorName",1,"block","text-sm","font-bold","mb-2"],["id","floorName","placeholder","Floor name","type","text",1,"bg-white","text-gray-700","border","focus:outline-none","focus:shadow-outline","rounded-md","shadow","w-auto","leading-tight","py-2","px-3","mx-1.5",3,"ngModel","keydown.enter","ngModelChange"],["id","floorNameError",1,"text-red-500","mx-3","mb-1","error"],["for","floorHeight",1,"block","text-sm","font-bold","mb-2"],["id","floorHeight","min","0","placeholder","Floor height","step","0.01","type","number",1,"bg-white","text-gray-700","border","focus:outline-none","focus:shadow-outline","rounded-md","shadow","w-auto","leading-tight","py-2","px-3","mx-1.5",3,"ngModel","keydown.enter","ngModelChange"],["id","floorHeightError",1,"text-red-500","mx-3","mb-1"],[4,"ngIf"],["for","useGroundFloor",1,"block","text-sm","font-bold","mb-2"],["id","useGroundFloor","type","checkbox",1,"bg-white","text-gray-700","border","focus:outline-none","focus:shadow-outline","rounded-md","shadow","w-full","leading-tight","py-2","px-3","mx-1.5",3,"keydown.enter"],["value","null"],[4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[3,"value"]],template:function(t,r){1&t&&(g(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),D(5,"Creating a map"),m(),Je(6,uk,2,0,"p",5),m()()(),Je(7,ck,27,1,"div",6),g(8,"div",7)(9,"div",8)(10,"div",9)(11,"button",10),te("click",function(){return r.saveMapLocally()}),at(),g(12,"svg",11),X(13,"path",12)(14,"rect",13)(15,"rect",14)(16,"rect",15),m(),D(17," Save file on PC "),m(),Tt(),g(18,"label",16)(19,"span",17),at(),g(20,"svg",18),X(21,"path",19),m(),Tt(),g(22,"span",20),D(23,"Get map from computer"),m()()(),g(24,"button",21),te("click",function(){return r.displayDialogBox("updateMap",{values:[[{group:"",values:r.mapNames}]]})}),at(),g(25,"svg",18),X(26,"path",19),m(),D(27," Get map from server "),m(),Tt(),g(28,"button",21),te("click",function(){return r.saveMapRemotely()}),at(),g(29,"svg",18),X(30,"path",22),m(),Tt(),g(31,"span",23),D(32,"Upload map"),m()(),Je(33,dk,15,6,"ng-container",24),m()(),g(34,"div",25)(35,"h1",26),D(36),m(),g(37,"button",27),te("click",function(){return r.router.navigate(["/guide"])}),at(),g(38,"svg",28),X(39,"path",29),m()()(),Tt(),g(40,"div",30)(41,"h2",31),D(42,"Floors"),m(),g(43,"div",32),Je(44,fk,1,5,"app-create-floor",33),m(),Je(45,mk,19,4,"div",34),m()(),X(46,"app-dialog-box",35)(47,"app-dialog-box",36),g(48,"button",37),te("click",function(){return r.router.navigate([".."])}),at(),g(49,"svg",38),X(50,"path",39),m(),D(51," Go back "),m()()),2&t&&(J(6),he("ngIf",!r.initializedMap),J(1),he("ngIf",!r.initializedMap),J(1),he("hidden",!r.initializedMap),J(25),he("ngIf",0!==r.jsonData.floors.length),J(3),ho(r.jsonData.name),J(8),he("ngForOf",r.jsonData.floors),J(1),he("ngIf",!r.jsonData.setNeighborMode),J(1),he("confirmAction",r.editMap)("floor",0)("formElements",wn(18,zD,wn(16,qD,Le(15,GD))))("params",r.paramsToGiveToDialogBoxes.updateMap),J(1),he("confirmAction",r.deleteMap)("floor",0)("formElements",wn(23,zD,wn(21,qD,Le(20,GD))))("params",r.paramsToGiveToDialogBoxes.deleteMap))},directives:[Ns,eu,eD,Nh,T0,lk,Oh,Vh,CD,MD,VD],styles:['@import"https://dciarletta.github.io/d3-floorplan/d3.floorplan.css";@media (min-width: 725px){#editMapNav[_ngcontent-%COMP%]{position:sticky}}']}),n})()},{path:"guide",component:(()=>{class n{constructor(t){this.router=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(O(Ft))},n.\u0275cmp=pn({type:n,selectors:[["guide"]],decls:175,vars:0,consts:[[1,"flex","flex-col","bg-cover","bg-[url('src/assets/img/scattered-forcefields.svg')]","dark:bg-[url('src/assets/img/scattered-forcefields-dark.svg')]","text-black","dark:text-white","object-fill","h-screen","bg-blue-50","overflow-auto","relative","pb-5"],[1,"container","mx-auto","px-5"],[1,"mt-32","xl:mt-auto","content-center"],[1,"text-4xl","sm:text-5xl","xl:text-7xl","font-semibold","mt-20","text-center"],[1,"bg-white","dark:bg-black","rounded-lg","m-5","md:mx-10"],[1,"text-center","text-2xl","font-extrabold","tracking-tight","my-6","text-black","dark:text-white"],[1,"px-4","py-6","flex","md:flex-row","flex-wrap","justify-between","w-full"],[1,"md:w-1/2"],[1,"mb-2"],[1,"list-decimal","ml-5","mr-2"],[1,"font-semibold"],[1,"ml-2","text-sm","italic"],[1,"md:w-1/2","grid","content-center"],["alt","Create Map Page","src","assets/img/guide-desktop/createMapPage.png",1,"my-2","shadow-lg","rounded","align-middle","border-none"],[1,"mr-2"],[1,"font-bold"],[1,"list-decimal","ml-5"],[1,"mt-5","mr-2"],["alt","Create Map Page","src","assets/img/guide-desktop/editMap.png",1,"my-2","shadow-lg","rounded","align-middle","border-none"],[1,"md:w-1/2","pr-2"],[1,"mt-5"],["alt","Create Map Page","src","assets/img/guide-desktop/ConnectNodesButton.png",1,"my-2","shadow-lg","rounded","align-middle","border-none"],["alt","Create Map Page","src","assets/img/guide-desktop/connectedNodes.png",1,"my-2","shadow-lg","rounded","align-middle","border-none"],[1,"flex","flex-wrap","p-6"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6"],["d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z","stroke-linecap","round","stroke-linejoin","round"],[1,"bg-gray-300","dark:bg-gray-800","block","rounded-md","px-1","mx-1"],[1,"bg-white","dark:bg-black","ml-10","mt-3","w-fit","flex","shadow","rounded-lg","transition","duration-200","ease-in-out","transform","hover:-translate-y-1","hover:shadow-lg","px-4","py-3","font-semibold","my-auto",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","pr-2"],["d","M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"]],template:function(t,r){1&t&&(g(0,"main",0)(1,"div",1)(2,"div",2)(3,"h1",3),D(4,"GuidO guide"),m()()(),g(5,"div",4)(6,"h2",5),D(7," Creating a map "),m(),g(8,"div",6)(9,"div",7)(10,"p",8),D(11,"To create a map, you have the following options:"),m(),g(12,"ol",9)(13,"li")(14,"div")(15,"p",10),D(16,"Create a new map"),m(),g(17,"p",11),D(18," Create a new map given a name. If you pick a name that is already present on the server and proceed to upload it, the map on the server will be overridden. "),m()()(),g(19,"li")(20,"div")(21,"p",10),D(22,"Get map from computer"),m(),g(23,"p",11),D(24," Choose a previously created map, stored on your PC, to edit. "),m()()(),g(25,"li")(26,"div")(27,"p",10),D(28,"Get map from server"),m(),g(29,"p",11),D(30,"Download an existing map from our server and edit it."),m()()()()(),g(31,"div",12),X(32,"img",13),m()()(),g(33,"div",4)(34,"h2",5),D(35," Editing a map "),m(),g(36,"div",6)(37,"div",7)(38,"div",14)(39,"h3",15),D(40,"Creating"),m(),g(41,"ol",16)(42,"li")(43,"div")(44,"p",10),D(45,"Triangles, squares, pentagons"),m(),g(46,"p",11),D(47," Create a triangle, square or pentagon with a given name, description and color. "),m()()(),g(48,"li")(49,"div")(50,"p",10),D(51,"Polygons"),m(),g(52,"p",11),D(53," Create a polygon shape given a name, a description, color and the amount of vertices desired. You can add a vertice to a polygon by using "),g(54,"span",10),D(55,"ctrl + double click"),m(),D(56," on the polygon, near the closest vertice where you want to add an extra vertice. In delete mode (see later), this shortcut will instead delete the nearest vertice of the clicked polygon"),m()()(),g(57,"li")(58,"div")(59,"p",10),D(60,"Emergency exit/door"),m(),g(61,"p",11),D(62,"Create an emergency exit or a door given their name, door height, door width and its color. You can rotate doors by right clicking them."),m()()(),g(63,"li")(64,"div")(65,"p",10),D(66,"Node"),m(),g(67,"p",11),D(68,"Create a node which can be placed to indicate a passable location. This is used in later indicating possible routes a visitor may take on your property."),m()()(),g(69,"li")(70,"div")(71,"p",10),D(72,"Point of interest"),m(),g(73,"p",11),D(74,"Create an indicator for a number of locations which may be interesting to highlight for a vistor. Vending machines, toilets and such are all examples of points of interest."),m()()(),g(75,"li")(76,"div")(77,"p",10),D(78,"Label"),m(),g(79,"p",11),D(80,"Create a label to be placed on the map to divulge extra information about the layout, structure or property in general that may not be expressed through any of the previous options."),m()()()()(),g(81,"div",17)(82,"h3",15),D(83,"Updating"),m(),g(84,"p",11),D(85,'When clicking the pencil icon on the taskbar (dark blue bar), you enter "edit mode". In edit mode, some figures such as '),g(86,"span",10),D(87,"rooms"),m(),D(88,", "),g(89,"span",10),D(90,"doors"),m(),D(91,", "),g(92,"span",10),D(93,"nodes"),m(),D(94," and "),g(95,"span",10),D(96,"labels"),m(),D(97," can be edited to change their attributes. To edit a figure, click it in edit mode and a dialog box will show up with the previous values. "),m()(),g(98,"div",17)(99,"h3",15),D(100,"Deleting"),m(),g(101,"p",11),D(102,' When clicking the eraser icon on the taskbar (dark blue bar), you enter "delete mode". In delete mode, any figure you click will be deleted from the map. '),m()()(),g(103,"div",12),X(104,"img",18),m()()(),g(105,"div",4)(106,"h2",5),D(107," Connecting nodes "),m(),g(108,"div",6)(109,"div",19)(110,"div",20)(111,"h3",15),D(112,"Enabling connecting mode"),m(),g(113,"p",11),D(114," To start connecting the previously placed doors and nodes, you can click on the "),g(115,"span",10),D(116,"Connect Nodes"),m(),D(117," button, located on the taskbar "),m()()(),g(118,"div",12),X(119,"img",21),m()(),g(120,"div",6)(121,"div",7)(122,"div",17)(123,"h3",15),D(124,"Connecting nodes"),m(),g(125,"div")(126,"p"),D(127,"Keep these things in mind when connecting nodes:"),m(),g(128,"ol",16)(129,"li")(130,"p",10),D(131,"Double click on a node, door or point of interest"),m(),g(132,"p",11),D(133," By double clicking on a connectable node, a popup will show asking to indicate the neighbors it connects to. You should enter 1 neighbor's id (indicated by white labels) per input field and use the checkbox to indicate whether or not you can travel both from and to from this point to its neighbor. "),m()(),g(134,"li")(135,"p",10),D(136,"Pathfinding"),m(),g(137,"p",11),D(138," There are 2 ways nodes can be linked, unidirectional and bidirectional. Unidirectional links are indicated by an orange arrow and bidirectional links are indicated by green lines. In the mobile app, these links will be used to be able to calculate the fastest way from any room or door to any other room or door. This is why it is important to give clear names to doors and points of interest, as they will be used as end destination or starting location. "),m()()()()()(),g(139,"div",12),X(140,"img",22),m()(),g(141,"p",23),at(),g(142,"svg",24),X(143,"path",25),m(),D(144," TIP: You can move the pop-up by holding the "),Tt(),g(145,"span",26),D(146,"Ctrl"),m(),D(147," key and double clicking on the pop-up. Now the pop-up will follow your mouse until you use the same command again to lock it. "),m()(),g(148,"div",4)(149,"h2",5),D(150," Saving and sharing your work "),m(),g(151,"div",6)(152,"div",19)(153,"div",20)(154,"h3",15),D(155,"Saving your work"),m(),g(156,"p",11),D(157," You can save your work using the "),g(158,"span",10),D(159,"Save file on pc"),m(),D(160," option, located on the taskbar. This will download the map to your PC in JSON format. "),m()(),g(161,"div",20)(162,"h3",15),D(163,"Sharing your work"),m(),g(164,"p",11),D(165," You can share your work with the world by uploading it to the server using the "),g(166,"span",10),D(167,"Upload map"),m(),D(168," option, located on the taskbar. This will upload your map to our server and make it available for all users. "),m()()(),g(169,"div",12),X(170,"img",18),m()()(),g(171,"button",27),te("click",function(){return r.router.navigate(["/createMap"])}),at(),g(172,"svg",28),X(173,"path",29),m(),D(174," Go back "),m()())},encapsulation:2}),n})()},{path:"guideMobile",component:(()=>{class n{constructor(t){this.router=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(O(Ft))},n.\u0275cmp=pn({type:n,selectors:[["app-guide-mobile"]],decls:237,vars:0,consts:[[1,"flex","flex-col","bg-cover","bg-[url('src/assets/img/scattered-forcefields.svg')]","dark:bg-[url('src/assets/img/scattered-forcefields-dark.svg')]","text-black","dark:text-white","object-fill","h-screen","bg-blue-50","overflow-auto","relative","pb-5"],[1,"container","mx-auto","px-5"],[1,"mt-32","xl:mt-auto","content-center"],[1,"text-4xl","sm:text-5xl","xl:text-7xl","font-semibold","mt-20","text-center"],[1,"bg-white","dark:bg-black","rounded-lg","m-5","md:mx-10"],[1,"text-center","text-2xl","font-extrabold","tracking-tight","my-6","text-black","dark:text-white"],[1,"px-4","py-6","flex","md:flex-row","flex-wrap","justify-between","w-full"],[1,"md:w-3/4"],[1,"mb-2"],[1,"list-decimal","ml-5","mr-2"],[1,"font-semibold"],[1,"ml-2","text-sm","italic"],[1,"single-pictures-container","w-full","md:w-1/4","flex","justify-center"],["alt","Start Menu","src","assets/img/guide-mobile/guido_start_menu.jpg",1,"my-2","shadow-lg","rounded","align-middle","border-none","block","max-h-128"],[1,"mr-2"],[1,"font-bold"],[1,"list-decimal","ml-5"],["alt","Map Viewer UI","src","assets/img/guide-mobile/guido_map_viewer_ui.jpg",1,"my-2","shadow-lg","rounded","align-middle","border-none","block","max-h-128"],["alt","Points of interest UI","src","assets/img/guide-mobile/guido_poi_ui.jpg",1,"my-2","shadow-lg","rounded","align-middle","border-none","block","max-h-128"],["alt","Settings UI","src","assets/img/guide-mobile/guido_settings_ui.jpg",1,"my-2","shadow-lg","rounded","align-middle","border-none","block","max-h-128"],[1,"double-pictures-container","px-4","py-6","flex","md:flex-row","flex-wrap","justify-between","w-full"],[1,"flex","flex-wrap","gap-x-4","justify-center"],["alt","Pathfinding UI","src","assets/img/guide-mobile/guido_pathfinding_ui.jpg",1,"my-2","shadow-lg","rounded","align-middle","border-none","block","max-h-128"],["alt","Third Person UI","src","assets/img/guide-mobile/guido_third_person_ui.jpg",1,"my-2","shadow-lg","rounded","align-middle","border-none","block","max-h-128"],[1,"w-full","md:w-1/4","flex","gap-x-4","justify-center"],["alt","First Person UI","src","assets/img/guide-mobile/guido_first_person_ui.jpg",1,"my-2","shadow-lg","rounded","align-middle","border-none","block","max-h-128"],[1,"bg-white","dark:bg-black","ml-10","mt-3","w-fit","flex","shadow","rounded-lg","transition","duration-200","ease-in-out","transform","hover:-translate-y-1","hover:shadow-lg","px-4","py-3","font-semibold","my-auto",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","pr-2"],["d","M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"]],template:function(t,r){1&t&&(g(0,"main",0)(1,"div",1)(2,"div",2)(3,"h1",3),D(4,"Mobile GuidO guide"),m()()(),g(5,"div",4)(6,"h2",5),D(7," Start Menu "),m(),g(8,"div",6)(9,"div",7)(10,"p",8),D(11,"On the start menu, you have the following options:"),m(),g(12,"ol",9)(13,"li")(14,"div")(15,"p",10),D(16,"Map overview"),m(),g(17,"p",11),D(18," Here you have a list of all available maps you can open. To open a map just click on the name. "),m()()(),g(19,"li")(20,"div")(21,"p",10),D(22,"Download or delete a map"),m(),g(23,"p",11),D(24," Click on the download symbol to download a map to your device. This way you can use it while being offline. To delete a map from your device, click on the garbage bin symbol. "),m()()(),g(25,"li")(26,"div")(27,"p",10),D(28,"Map search"),m(),g(29,"p",11),D(30,"You can search for a specific map by typing its name in the search box."),m()()()()(),g(31,"div",12),X(32,"img",13),m()()(),g(33,"div",4)(34,"h2",5),D(35," Map Viewer "),m(),g(36,"div",6)(37,"div",7)(38,"div",14)(39,"p",8),D(40,"When you have selected a map, you will be taken to this screen. Here you have a 3D view of the building. "),m(),g(41,"h3",15),D(42,"General"),m(),g(43,"ol",16)(44,"li")(45,"div")(46,"p",10),D(47,"Current floor"),m(),g(48,"p",11),D(49," This is the floor you are currently looking at. "),m()()(),g(50,"li")(51,"div")(52,"p",10),D(53,"Information"),m(),g(54,"p",11),D(55," Press on the \u201ci\u201d symbol to show the description of a selected room. "),m()()(),g(56,"li")(57,"div")(58,"p",10),D(59,"Hamburger"),m(),g(60,"p",11),D(61,"Press the hamburger menu to show or hide the extra options. "),m()()(),g(62,"li")(63,"div")(64,"p",10),D(65,"Arrow up"),m(),g(66,"p",11),D(67,"Go to the floor above the current floor. "),m()()(),g(68,"li")(69,"div")(70,"p",10),D(71,"Arrow down"),m(),g(72,"p",11),D(73,"Go to the floor beneath the current floor."),m()()(),g(74,"li")(75,"div")(76,"p",10),D(77,"Perspective slider"),m(),g(78,"p",11),D(79,"With this slider you can change the camera perspective to look from above or have a close-up 3D view."),m()()(),g(80,"li")(81,"div")(82,"p",10),D(83,"Center camera"),m(),g(84,"p",11),D(85,"Set the camera to the center of the current floor."),m()()(),g(86,"li")(87,"div")(88,"p",10),D(89,"Points of interest"),m(),g(90,"p",11),D(91,"Select which points of interest are visible."),m()()(),g(92,"li")(93,"div")(94,"p",10),D(95,"Settings"),m(),g(96,"p",11),D(97,"Adjust your settings."),m()()(),g(98,"li")(99,"div")(100,"p",10),D(101,"Home"),m(),g(102,"p",11),D(103,"Go back to the Start Menu."),m()()(),g(104,"li")(105,"div")(106,"p",10),D(107,"Search path"),m(),g(108,"p",11),D(109,"Press the magnifying glass symbol to search for a path."),m()()()()()(),g(110,"div",12),X(111,"img",17),m()(),g(112,"div",6)(113,"div",7)(114,"div",14)(115,"h3",15),D(116,"Points of interest"),m(),g(117,"p",8),D(118,"Points of interest are locations you might find interesting or useful."),m(),g(119,"p",8),D(120,"In the Points Of Interest Menu you can toggle the visibility of individual or all points of interest. When the check mark symbol is visible, the point of interest is visible."),m(),g(121,"p",8),D(122,"Changes made are applied automatically."),m()()(),g(123,"div",12),X(124,"img",18),m()(),g(125,"div",6)(126,"div",7)(127,"div",14)(128,"h3",15),D(129,"Settings"),m(),g(130,"p",8),D(131,"Top View Camera"),m(),g(132,"ol",16)(133,"li")(134,"div")(135,"p",10),D(136,"Swipe sensitivity"),m(),g(137,"p",11),D(138," This changes the responsiveness of swiping on the screen. Slide to the left to lower the sensitivity and slide to the right to increase the sensitivity. "),m()()()(),g(139,"p",8),D(140,"First Person Camera"),m(),g(141,"ol",16)(142,"li")(143,"div")(144,"p",10),D(145,"Enable gyroscope"),m(),g(146,"p",11),D(147," Check this box to enable the use of the gyroscope. The gyroscope tracks where your phone is looking at in the real world and translates this to the virtual world. "),m()()(),g(148,"li")(149,"div")(150,"p",10),D(151,"Gyroscope sensitivity"),m(),g(152,"p",11),D(153," This changes the responsiveness of the gyroscope. Slide to the left to lower the sensitivity and slide to the right to increase the sensitivity. "),m()()(),g(154,"li")(155,"div")(156,"p",10),D(157,"Swipe sensitivity"),m(),g(158,"p",11),D(159," This changes the responsiveness of swiping on the screen. Slide to the left to lower the sensitivity and slide to the right to increase the sensitivity. "),m()()()(),g(160,"p",8),D(161,"Don\u2019t forget to press the save symbol to save your changes. This way the settings will be remembered even after closing the app."),m()()(),g(162,"div",12),X(163,"img",19),m()(),g(164,"div",20)(165,"div")(166,"div",14)(167,"h3",15),D(168,"Pathfinding"),m(),g(169,"p",8),D(170,"Select your starting point and destination and find the shortest path."),m(),g(171,"ol",16)(172,"li")(173,"div")(174,"p",10),D(175,"From"),m(),g(176,"p",11),D(177,"Enter your starting point by typing or choosing it from the dropdown menu."),m()()(),g(178,"li")(179,"div")(180,"p",10),D(181,"To"),m(),g(182,"p",11),D(183,"Enter your destination by typing or choosing it from the dropdown menu."),m()()(),g(184,"li")(185,"div")(186,"p",10),D(187,"QR code scanner"),m(),g(188,"p",11),D(189,"If the room you are in has a room QR code, you can scan it to select your current position as a starting point."),m()()(),g(190,"li")(191,"div")(192,"p",10),D(193,"Navigate"),m(),g(194,"p",11),D(195,"Press the \u201cNavigate\u201d button to search the shortest path."),m()()(),g(196,"p",8),D(197,"After setting a path, you can choose to follow the route in first person mode."),m(),g(198,"li")(199,"div")(200,"p",10),D(201,"Camera"),m(),g(202,"p",11),D(203,"Enter first person mode by pressing the \u201cCamera\u201d icon."),m()()()()()(),g(204,"div",21),X(205,"img",22)(206,"img",23),m()(),g(207,"div",6)(208,"div",7)(209,"div",14)(210,"h3",15),D(211,"First person mode"),m(),g(212,"p",8),D(213,"Select your starting point and destination and find the shortest path."),m(),g(214,"p",8),D(215,"In first person mode you can look around by swiping and the gyroscope."),m(),g(216,"p",8),D(217,"You can move forward and backward on the path by swiping down and up respectively."),m(),g(218,"ol",16)(219,"li")(220,"div")(221,"p",10),D(222,"Map"),m(),g(223,"p",11),D(224,"Go back to Top View."),m()()(),g(225,"li")(226,"div")(227,"p",10),D(228,"Arrow"),m(),g(229,"p",11),D(230,"Indicates forward direction and sets your view forward when clicked."),m()()()()()(),g(231,"div",24),X(232,"img",25),m()()(),g(233,"button",26),te("click",function(){return r.router.navigate(["/createMap"])}),at(),g(234,"svg",27),X(235,"path",28),m(),D(236," Go back "),m()())},styles:["@media (max-width: 1065px){.double-pictures-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}}@media (min-width: 1066px){.double-pictures-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:50%}}"]}),n})()}];let WD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({imports:[[nb.forRoot(yk)],nb]}),n})(),vk=(()=>{class n{constructor(){this.title="guideApp-desktop"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&X(0,"router-outlet")},directives:[Xf],encapsulation:2}),n})();const xe=!1;function KD(n){return new W(3e3,xe)}function Jk(){return"undefined"!=typeof window&&void 0!==window.document}function qh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qr(n){switch(n.length){case 0:return new Zs;case 1:return n[0];default:return new Mb(n)}}function QD(n,e,t,r,i={},o={}){const s=[],a=[];let l=-1,u=null;if(r.forEach(c=>{const d=c.offset,f=d==l,h=f&&u||{};Object.keys(c).forEach(p=>{let C=p,S=c[p];if("offset"!==p)switch(C=e.normalizePropertyName(C,s),S){case"!":S=i[p];break;case Tr:S=o[p];break;default:S=e.normalizeStyleValue(p,C,S,s)}h[C]=S}),f||a.push(h),u=h,l=d}),s.length)throw function Hk(n){return new W(3502,xe)}();return a}function zh(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Wh(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Wh(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Wh(t,"destroy",n)))}}function Wh(n,e,t){const r=t.totalTime,o=Kh(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function Kh(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function ln(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function ZD(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Qh=(n,e)=>!1,YD=(n,e,t)=>[],JD=null;function Zh(n){const e=n.parentNode||n.host;return e===JD?null:e}(qh()||"undefined"!=typeof Element)&&(Jk()?(JD=(()=>document.documentElement)(),Qh=(n,e)=>{for(;e;){if(e===n)return!0;e=Zh(e)}return!1}):Qh=(n,e)=>n.contains(e),YD=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Di=null,XD=!1;function ew(n){Di||(Di=function e4(){return"undefined"!=typeof document?document.body:null}()||{},XD=!!Di.style&&"WebkitAppearance"in Di.style);let e=!0;return Di.style&&!function Xk(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Di.style,!e&&XD&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Di.style)),e}const tw=Qh,nw=YD;let rw=(()=>{class n{validateStyleProperty(t){return ew(t)}matchesElement(t,r){return!1}containsElement(t,r){return tw(t,r)}getParentElement(t){return Zh(t)}query(t,r,i){return nw(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new Zs(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),Yh=(()=>{class n{}return n.NOOP=new rw,n})();const Jh="ng-enter",hu="ng-leave",pu="ng-trigger",gu=".ng-trigger",ow="ng-animating",Xh=".ng-animating";function wi(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ep(parseFloat(e[1]),e[2])}function ep(n,e){return"s"===e?1e3*n:n}function mu(n,e,t){return n.hasOwnProperty("duration")?n:function r4(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(KD()),{duration:0,delay:0,easing:""};i=ep(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=ep(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function _k(){return new W(3100,xe)}()),a=!0),o<0&&(e.push(function bk(){return new W(3101,xe)}()),a=!0),a&&e.splice(l,0,KD())}return{duration:i,delay:o,easing:s}}(n,e,t)}function Io(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Zr(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Io(n,t);return t}function aw(n,e,t){return t?e+":"+t+";":""}function lw(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=aw(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=aw(0,s4(t),n.style[t]));n.setAttribute("style",e)}function ar(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=np(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),qh()&&lw(n))}function Ci(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=np(t);n.style[r]=""}),qh()&&lw(n))}function ta(n){return Array.isArray(n)?1==n.length?n[0]:wb(n):n}const tp=new RegExp("{{\\s*(.+?)\\s*}}","g");function uw(n){let e=[];if("string"==typeof n){let t;for(;t=tp.exec(n);)e.push(t[1]);tp.lastIndex=0}return e}function yu(n,e,t){const r=n.toString(),i=r.replace(tp,(o,s)=>{let a=e[s];return e.hasOwnProperty(s)||(t.push(function wk(n){return new W(3003,xe)}()),a=""),a.toString()});return i==r?n:i}function vu(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const o4=/-+([a-z0-9])/g;function np(n){return n.replace(o4,(...e)=>e[1].toUpperCase())}function s4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function un(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ck(n){return new W(3004,xe)}()}}function cw(n,e){return window.getComputedStyle(n)[e]}function f4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function h4(n,e,t){if(":"==n[0]){const l=function p4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Lk(n){return new W(3016,xe)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function kk(n){return new W(3015,xe)}()),e;const i=r[1],o=r[2],s=r[3];e.push(dw(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(dw(s,i))}(r,t,e)):t.push(n),t}const wu=new Set(["true","1"]),Cu=new Set(["false","0"]);function dw(n,e){const t=wu.has(n)||Cu.has(n),r=wu.has(e)||Cu.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?wu.has(n):Cu.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?wu.has(e):Cu.has(e)),s&&a}}const g4=new RegExp("s*:selfs*,?","g");function rp(n,e,t,r){return new m4(n).build(e,t,r)}class m4{constructor(e){this._driver=e}build(e,t,r){const i=new _4(t);this._resetContextStyleTimingState(i);const o=un(this,ta(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function Mk(){return new W(3006,xe)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,o.push(this.visitState(l,t))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(function Tk(){return new W(3007,xe)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{if(Eu(a)){const l=a;Object.keys(l).forEach(u=>{uw(l[u]).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}}),o.size&&(vu(o.values()),t.errors.push(function Sk(n,e){return new W(3008,xe)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=un(this,ta(e.animation),t);return{type:1,matchers:f4(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ei(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>un(this,r,t)),options:Ei(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=un(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:Ei(e.options)}}visitAnimate(e,t){const r=function D4(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return ip(mu(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=ip(0,0,"");return o.dynamic=!0,o.strValue=r,o}return t=t||mu(r,e),ip(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Qs({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};r.easing&&(u.easing=r.easing),s=Qs(u)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(s=>{"string"==typeof s?s==Tr?r.push(s):t.errors.push(function Ak(n){return new W(3002,xe)}()):r.push(s)}):r.push(e.styles);let i=!1,o=null;return r.forEach(s=>{if(Eu(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!i)for(let u in a)if(a[u].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void t.unsupportedCSSPropertiesFound.add(a);const l=t.collectedStyles[t.currentQuerySelector],u=l[a];let c=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function Ik(n,e,t,r,i){return new W(3010,xe)}()),c=!1),o=u.startTime),c&&(l[a]={startTime:o,endTime:i}),t.options&&function i4(n,e,t){const r=e.params||{},i=uw(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function Dk(n){return new W(3001,xe)}())})}(s[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function xk(){return new W(3011,xe)}()),r;let o=0;const s=[];let a=!1,l=!1,u=0;const c=e.steps.map(M=>{const E=this._makeStyleAst(M,t);let L=null!=E.offset?E.offset:function b4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Eu(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Eu(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(E.styles),K=0;return null!=L&&(o++,K=E.offset=L),l=l||K<0||K>1,a=a||K<u,u=K,s.push(K),E});l&&t.errors.push(function Nk(){return new W(3012,xe)}()),a&&t.errors.push(function Ok(){return new W(3200,xe)}());const d=e.steps.length;let f=0;o>0&&o<d?t.errors.push(function Fk(){return new W(3202,xe)}()):0==o&&(f=1/(d-1));const h=d-1,p=t.currentTime,C=t.currentAnimateTimings,S=C.duration;return c.forEach((M,E)=>{const L=f>0?E==h?1:f*E:s[E],K=L*S;t.currentTime=p+C.delay+K,C.duration=K,this._validateStyleAst(M,t),M.offset=L,r.styles.push(M)}),r}visitReference(e,t){return{type:8,animation:un(this,ta(e.animation),t),options:Ei(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ei(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ei(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function y4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(g4,"")),n=n.replace(/@\*/g,gu).replace(/@\w+/g,t=>gu+"-"+t.substr(1)).replace(/:animating/g,Xh),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,ln(t.collectedStyles,t.currentQuerySelector,{});const a=un(this,ta(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ei(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Pk(){return new W(3013,xe)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:mu(e.timings,t.errors,!0);return{type:12,animation:un(this,ta(e.animation),t),timings:r,options:null}}}class _4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Eu(n){return!Array.isArray(n)&&"object"==typeof n}function Ei(n){return n?(n=Io(n)).params&&(n.params=function v4(n){return n?Io(n):null}(n.params)):n={},n}function ip(n,e,t){return{duration:n,delay:e,easing:t}}function op(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Mu{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const E4=new RegExp(":enter","g"),T4=new RegExp(":leave","g");function sp(n,e,t,r,i,o={},s={},a,l,u=[]){return(new S4).buildKeyframes(n,e,t,r,i,o,s,a,l,u)}class S4{buildKeyframes(e,t,r,i,o,s,a,l,u,c=[]){u=u||new Mu;const d=new ap(e,t,u,i,o,c,[]);d.options=l,d.currentTimeline.setStyles([s],null,d.errors,l),un(this,r,d);const f=d.timelines.filter(h=>h.containsAnimation());if(Object.keys(a).length){let h;for(let p=f.length-1;p>=0;p--){const C=f[p];if(C.element===t){h=C;break}}h&&!h.allowOnlyTimelineStyles()&&h.setStyles([a],null,d.errors,l)}return f.length?f.map(h=>h.buildKeyframes()):[op(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?wi(r.duration):null,a=null!=r.delay?wi(r.delay):null;return 0!==s&&e.forEach(l=>{const u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),un(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Tu);const s=wi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>un(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?wi(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),un(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return mu(t.params?yu(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?wi(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Tu);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,u);o&&d.delayNextStep(o),u===t.element&&(l=d.currentTimeline),un(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const c=t.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;un(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Tu={};class ap{constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Tu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Su(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=wi(r.duration)),null!=r.delay&&(i.delay=wi(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=yu(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new ap(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Tu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},o=new A4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(E4,"."+this._enterClassName)).replace(T4,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&0==a.length&&s.push(function Rk(n){return new W(3014,xe)}()),a}}class Su{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Su(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Tr,this._currentKeyframe[t]=Tr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const o=i&&i.params||{},s=function I4(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(o=>{t[o]=Tr})):Zr(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=yu(s[a],o,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Tr),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=Zr(a,!0);Object.keys(u).forEach(c=>{const d=u[c];"!"==d?e.add(c):d==Tr&&t.add(c)}),r||(u.offset=l/this.duration),i.push(u)});const o=e.size?vu(e.values()):[],s=t.size?vu(t.values()):[];if(r){const a=i[0],l=Io(a);a.offset=0,l.offset=1,i=[a,l]}return op(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class A4 extends Su{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,l=Zr(e[0],!1);l.offset=0,o.push(l);const u=Zr(e[0],!1);u.offset=pw(a),o.push(u);const c=e.length-1;for(let d=1;d<=c;d++){let f=Zr(e[d],!1);f.offset=pw((t+f.offset*r)/s),o.push(f)}r=s,t=0,i="",e=o}return op(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function pw(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class lp{}class x4 extends lp{normalizePropertyName(e,t){return np(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(N4[t]&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Ek(n,e){return new W(3005,xe)}())}return s+o}}const N4=(()=>function O4(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function gw(n,e,t,r,i,o,s,a,l,u,c,d,f){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:f}}const up={};class mw{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function F4(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],o=this._stateStyles[e],s=i?i.buildStyles(t,r):{};return o?o.buildStyles(t,r):s}build(e,t,r,i,o,s,a,l,u,c){const d=[],f=this.ast.options&&this.ast.options.params||up,p=this.buildStyles(r,a&&a.params||up,d),C=l&&l.params||up,S=this.buildStyles(i,C,d),M=new Set,E=new Map,L=new Map,K="void"===i,we={params:Object.assign(Object.assign({},f),C)},Ke=c?[]:sp(e,t,this.ast.animation,o,s,p,S,we,u,d);let et=0;if(Ke.forEach(dn=>{et=Math.max(dn.duration+dn.delay,et)}),d.length)return gw(t,this._triggerName,r,i,K,p,S,[],[],E,L,et,d);Ke.forEach(dn=>{const fn=dn.element,No=ln(E,fn,{});dn.preStyleProps.forEach(Gn=>No[Gn]=!0);const Sr=ln(L,fn,{});dn.postStyleProps.forEach(Gn=>Sr[Gn]=!0),fn!==t&&M.add(fn)});const cn=vu(M.values());return gw(t,this._triggerName,r,i,K,p,S,Ke,cn,E,L,et)}}class P4{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Io(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!=s&&(i[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=yu(l,i,t));const u=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,u,l,t),r[u]=l})}}),r}}class k4{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new P4(i.style,i.options&&i.options.params||{},r)}),yw(this.states,"true","1"),yw(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new mw(e,i,this.states))}),this.fallbackTransition=function L4(n,e,t){return new mw(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function yw(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const V4=new Mu;class j4{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=rp(this._driver,t,r,[]);if(r.length)throw function $k(n){return new W(3503,xe)}();this._animations[e]=o}_buildPlayer(e,t,r){const i=e.element,o=QD(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations[e];let s;const a=new Map;if(o?(s=sp(this._driver,t,o,Jh,hu,{},{},r,V4,i),s.forEach(c=>{const d=ln(a,c.element,{});c.postStyleProps.forEach(f=>d[f]=null)})):(i.push(function Uk(){return new W(3300,xe)}()),s=[]),i.length)throw function Gk(n){return new W(3504,xe)}();a.forEach((c,d)=>{Object.keys(c).forEach(f=>{c[f]=this._driver.computeStyle(d,f,Tr)})});const u=Qr(s.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,{},d)}));return this._playersById[e]=u,u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function qk(n){return new W(3301,xe)}();return t}listen(e,t,r,i){const o=Kh(t,"","","");return zh(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const vw="ng-animate-queued",cp="ng-animate-disabled",G4=[],_w={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},q4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tn="__ng_removed";class dp{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Q4(n){return null!=n?n:null}(r?e.value:e),r){const o=Io(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const na="void",fp=new dp(na);class z4{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Sn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function zk(n,e){return new W(3302,xe)}();if(null==r||0==r.length)throw function Wk(n){return new W(3303,xe)}();if(!function Z4(n){return"start"==n||"done"==n}(r))throw function Kk(n,e){return new W(3400,xe)}();const o=ln(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=ln(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Sn(e,pu),Sn(e,pu+"-"+t),a[t]=fp),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Qk(n){return new W(3401,xe)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new hp(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Sn(e,pu),Sn(e,pu+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const u=new dp(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a[t]=u,l||(l=fp),u.value!==na&&l.value===u.value){if(!function X4(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,u.params)){const C=[],S=o.matchStyles(l.value,l.params,C),M=o.matchStyles(u.value,u.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Ci(e,S),ar(e,M)})}return}const f=ln(this._engine.playersByElement,e,[]);f.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let h=o.matchTransition(l.value,u.value,e,u.params),p=!1;if(!h){if(!i)return;h=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:l,toState:u,player:s,isFallbackTransition:p}),p||(Sn(e,vw),s.onStart(()=>{xo(e,vw)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const S=this._engine.playersByElement.get(e);if(S){let M=S.indexOf(s);M>=0&&S.splice(M,1)}}),this.players.push(s),f.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,gu,!0);r.forEach(i=>{if(i[Tn])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const u=this.trigger(e,l,na,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Qr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers[s].fallbackTransition,u=r[s]||fp,c=new dp(na),d=new hp(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Tn];(!o||o===_w)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Sn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=Kh(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,zh(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class W4{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new z4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,o=r.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(r[a].hostElement,t)){r.splice(a+1,0,e),s=!0;break}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let o=0;o<i.length;o++){const s=r[i[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(Au(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Au(t))return;const o=t[Tn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Sn(e,cp)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xo(e,cp))}removeNode(e,t,r,i){if(Au(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Tn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Au(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,gu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Xh,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Qr(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Tn];if(r&&r.setForRemoval){if(e[Tn]=_w,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(cp))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Sn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Qr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Zk(n){return new W(3402,xe)}()}_flushAnimations(e,t){const r=new Mu,i=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(Q=>{c.add(Q);const re=this.driver.query(Q,".ng-animate-queued",!0);for(let fe=0;fe<re.length;fe++)c.add(re[fe])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=ww(f,this.collectedEnterElements),p=new Map;let C=0;h.forEach((Q,re)=>{const fe=Jh+C++;p.set(re,fe),Q.forEach(Oe=>Sn(Oe,fe))});const S=[],M=new Set,E=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){const re=this.collectedLeaveElements[Q],fe=re[Tn];fe&&fe.setForRemoval&&(S.push(re),M.add(re),fe.hasAnimation?this.driver.query(re,".ng-star-inserted",!0).forEach(Oe=>M.add(Oe)):E.add(re))}const L=new Map,K=ww(f,Array.from(M));K.forEach((Q,re)=>{const fe=hu+C++;L.set(re,fe),Q.forEach(Oe=>Sn(Oe,fe))}),e.push(()=>{h.forEach((Q,re)=>{const fe=p.get(re);Q.forEach(Oe=>xo(Oe,fe))}),K.forEach((Q,re)=>{const fe=L.get(re);Q.forEach(Oe=>xo(Oe,fe))}),S.forEach(Q=>{this.processLeaveNode(Q)})});const we=[],Ke=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(fe=>{const Oe=fe.player,Mt=fe.element;if(we.push(Oe),this.collectedEnterElements.length){const Ut=Mt[Tn];if(Ut&&Ut.setForMove){if(Ut.previousTriggersValues&&Ut.previousTriggersValues.has(fe.triggerName)){const Mi=Ut.previousTriggersValues.get(fe.triggerName),Jr=this.statesByElement.get(fe.element);Jr&&Jr[fe.triggerName]&&(Jr[fe.triggerName].value=Mi)}return void Oe.destroy()}}const lr=!d||!this.driver.containsElement(d,Mt),hn=L.get(Mt),Yr=p.get(Mt),tt=this._buildInstruction(fe,r,Yr,hn,lr);if(tt.errors&&tt.errors.length)return void Ke.push(tt);if(lr)return Oe.onStart(()=>Ci(Mt,tt.fromStyles)),Oe.onDestroy(()=>ar(Mt,tt.toStyles)),void i.push(Oe);if(fe.isFallbackTransition)return Oe.onStart(()=>Ci(Mt,tt.fromStyles)),Oe.onDestroy(()=>ar(Mt,tt.toStyles)),void i.push(Oe);const Ow=[];tt.timelines.forEach(Ut=>{Ut.stretchStartingKeyframe=!0,this.disabledNodes.has(Ut.element)||Ow.push(Ut)}),tt.timelines=Ow,r.append(Mt,tt.timelines),s.push({instruction:tt,player:Oe,element:Mt}),tt.queriedElements.forEach(Ut=>ln(a,Ut,[]).push(Oe)),tt.preStyleProps.forEach((Ut,Mi)=>{const Jr=Object.keys(Ut);if(Jr.length){let Ti=l.get(Mi);Ti||l.set(Mi,Ti=new Set),Jr.forEach(gp=>Ti.add(gp))}}),tt.postStyleProps.forEach((Ut,Mi)=>{const Jr=Object.keys(Ut);let Ti=u.get(Mi);Ti||u.set(Mi,Ti=new Set),Jr.forEach(gp=>Ti.add(gp))})});if(Ke.length){const Q=[];Ke.forEach(re=>{Q.push(function Yk(n,e){return new W(3505,xe)}())}),we.forEach(re=>re.destroy()),this.reportError(Q)}const et=new Map,cn=new Map;s.forEach(Q=>{const re=Q.element;r.has(re)&&(cn.set(re,re),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,et))}),i.forEach(Q=>{const re=Q.element;this._getPreviousPlayers(re,!1,Q.namespaceId,Q.triggerName,null).forEach(Oe=>{ln(et,re,[]).push(Oe),Oe.destroy()})});const dn=S.filter(Q=>Ew(Q,l,u)),fn=new Map;Dw(fn,this.driver,E,u,Tr).forEach(Q=>{Ew(Q,l,u)&&dn.push(Q)});const Sr=new Map;h.forEach((Q,re)=>{Dw(Sr,this.driver,new Set(Q),l,"!")}),dn.forEach(Q=>{const re=fn.get(Q),fe=Sr.get(Q);fn.set(Q,Object.assign(Object.assign({},re),fe))});const Gn=[],Oo=[],Fo={};s.forEach(Q=>{const{element:re,player:fe,instruction:Oe}=Q;if(r.has(re)){if(c.has(re))return fe.onDestroy(()=>ar(re,Oe.toStyles)),fe.disabled=!0,fe.overrideTotalTime(Oe.totalTime),void i.push(fe);let Mt=Fo;if(cn.size>1){let hn=re;const Yr=[];for(;hn=hn.parentNode;){const tt=cn.get(hn);if(tt){Mt=tt;break}Yr.push(hn)}Yr.forEach(tt=>cn.set(tt,Mt))}const lr=this._buildAnimation(fe.namespaceId,Oe,et,o,Sr,fn);if(fe.setRealPlayer(lr),Mt===Fo)Gn.push(fe);else{const hn=this.playersByElement.get(Mt);hn&&hn.length&&(fe.parentPlayer=Qr(hn)),i.push(fe)}}else Ci(re,Oe.fromStyles),fe.onDestroy(()=>ar(re,Oe.toStyles)),Oo.push(fe),c.has(re)&&i.push(fe)}),Oo.forEach(Q=>{const re=o.get(Q.element);if(re&&re.length){const fe=Qr(re);Q.setRealPlayer(fe)}}),i.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<S.length;Q++){const re=S[Q],fe=re[Tn];if(xo(re,hu),fe&&fe.hasAnimation)continue;let Oe=[];if(a.size){let lr=a.get(re);lr&&lr.length&&Oe.push(...lr);let hn=this.driver.query(re,Xh,!0);for(let Yr=0;Yr<hn.length;Yr++){let tt=a.get(hn[Yr]);tt&&tt.length&&Oe.push(...tt)}}const Mt=Oe.filter(lr=>!lr.destroyed);Mt.length?Y4(this,re,Mt):this.processLeaveNode(re)}return S.length=0,Gn.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();const re=this.players.indexOf(Q);this.players.splice(re,1)}),Q.play()}),Gn}elementContainsData(e,t){let r=!1;const i=t[Tn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==na;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,c=u!==o,d=ln(r,u,[]);this._getPreviousPlayers(u,c,s,a,t.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}Ci(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,l=t.element,u=[],c=new Set,d=new Set,f=t.timelines.map(p=>{const C=p.element;c.add(C);const S=C[Tn];if(S&&S.removedBeforeQueried)return new Zs(p.duration,p.delay);const M=C!==l,E=function J4(n){const e=[];return Cw(n,e),e}((r.get(C)||G4).map(et=>et.getRealPlayer())).filter(et=>!!et.element&&et.element===C),L=o.get(C),K=s.get(C),we=QD(0,this._normalizer,0,p.keyframes,L,K),Ke=this._buildPlayer(p,we,E);if(p.subTimeline&&i&&d.add(C),M){const et=new hp(e,a,C);et.setRealPlayer(Ke),u.push(et)}return Ke});u.forEach(p=>{ln(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function K4(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Sn(p,ow));const h=Qr(f);return h.onDestroy(()=>{c.forEach(p=>xo(p,ow)),ar(l,t.toStyles)}),d.forEach(p=>{ln(i,p,[]).push(h)}),h}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Zs(e.duration,e.delay)}}class hp{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Zs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>zh(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ln(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Au(n){return n&&1===n.nodeType}function bw(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Dw(n,e,t,r,i){const o=[];t.forEach(l=>o.push(bw(l)));const s=[];r.forEach((l,u)=>{const c={};l.forEach(d=>{const f=c[d]=e.computeStyle(u,d,i);(!f||0==f.length)&&(u[Tn]=q4,s.push(u))}),n.set(u,c)});let a=0;return t.forEach(l=>bw(l,o[a++])),s}function ww(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:i.has(u)?1:s(u),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function Sn(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function xo(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Y4(n,e,t){Qr(t).onDone(()=>n.processLeaveNode(e))}function Cw(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Mb?Cw(r.players,e):e.push(r)}}function Ew(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class Iu{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new W4(e,t,r),this._timelineEngine=new j4(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],c=rp(this._driver,o,l,[]);if(l.length)throw function Bk(n,e){return new W(3404,xe)}();a=function R4(n,e,t){return new k4(n,e,t)}(i,c,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=ZD(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=ZD(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let t5=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ar(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ar(this._element,this._initialStyles),this._endStyles&&(ar(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ci(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ci(this._element,this._endStyles),this._endStyles=null),ar(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function pp(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];n5(i)&&(e=e||{},e[i]=n[i])}return e}function n5(n){return"display"===n||"position"===n}class Mw{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:cw(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class r5{validateStyleProperty(e){return ew(e)}matchesElement(e,t){return!1}containsElement(e,t){return tw(e,t)}getParentElement(e){return Zh(e)}query(e,t,r){return nw(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const u={},c=s.filter(f=>f instanceof Mw);(function a4(n,e){return 0===n||0===e})(r,i)&&c.forEach(f=>{let h=f.currentSnapshot;Object.keys(h).forEach(p=>u[p]=h[p])}),t=function l4(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=t[a]}),s.length)for(var i=1;i<e.length;i++){let a=e[i];s.forEach(function(l){a[l]=cw(n,l)})}}return e}(e,t=t.map(f=>Zr(f,!1)),u);const d=function e5(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=pp(e[0]),e.length>1&&(r=pp(e[e.length-1]))):e&&(t=pp(e)),t||r?new t5(n,t,r):null}(e,t);return new Mw(e,t,l,d)}}let i5=(()=>{class n extends bb{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:In.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?wb(t):t;return Tw(this._renderer,null,r,"register",[i]),new o5(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(j(bs),j(vt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class o5 extends class hP{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new s5(this._id,e,t||{},this._renderer)}}class s5{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Tw(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Tw(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Sw="@.disabled";let a5=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(o);return c||(c=new Aw("",o,this.engine),this._rendererCache.set(o,c)),c}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(s,a,t,c.name,c)};return r.data.animation.forEach(l),new l5(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(j(bs),j(Iu),j(lt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class Aw{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Sw?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class l5 extends Aw{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Sw?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function u5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function c5(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let d5=(()=>{class n extends Iu{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(j(vt),j(Yh),j(lp))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Iw=new be("AnimationModuleType"),xw=[{provide:bb,useClass:i5},{provide:lp,useFactory:function f5(){return new x4}},{provide:Iu,useClass:d5},{provide:bs,useFactory:function h5(n,e,t){return new a5(n,e,t)},deps:[Nl,Iu,lt]}],Nw=[{provide:Yh,useFactory:()=>new r5},{provide:Iw,useValue:"BrowserAnimations"},...xw],p5=[{provide:Yh,useClass:rw},{provide:Iw,useValue:"NoopAnimations"},...xw];let g5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?p5:Nw}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qt({type:n}),n.\u0275inj=kt({providers:Nw,imports:[q0]}),n})(),m5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qt({type:n,bootstrap:[vk]}),n.\u0275inj=kt({providers:[_b],imports:[[q0,WD,WD,fP,kR,g5,LP.forRoot()]]}),n})();(function ox(){e0=!1})(),_3().bootstrapModule(m5).catch(n=>console.error(n))},421:(R,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=function T(v){return()=>({keyword:v,type:"number",schemaType:"array",macro:function([A,b]){return function I(A,b){if(A>b||"exclusiveRange"===v&&A===b)throw new Error("There are no numbers in range")}(A,b),"range"===v?{minimum:A,maximum:b}:{exclusiveMinimum:A,exclusiveMaximum:b}},metaSchema:{type:"array",minItems:2,maxItems:2,items:{type:"number"}}})}},53:(R,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.default=function T(v){return()=>({keyword:v,type:"object",schemaType:"array",macro:I=>0===I.length||(1===I.length?{required:I}:{["anyRequired"===v?"anyOf":"oneOf"]:I.map(b=>({required:[b]}))}),metaSchema:{type:"array",items:{type:"string"}}})}},650:(R,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.usePattern=y.metaSchemaRef=void 0;const v=T(382);y.metaSchemaRef=function A({defaultMeta:P}={}){return!1===P?{}:{$ref:P||"http://json-schema.org/schema"}},y.usePattern=function b({gen:P,it:{opts:Z}},$,k=(Z.unicodeRegExp?"u":"")){const N=new RegExp($,k);return P.scopeValue("pattern",{key:N.toString(),ref:N,code:v._`new RegExp(${$}, ${k})`})}},187:(R,y)=>{function T(){return{keyword:"allRequired",type:"object",schemaType:"boolean",macro(v,I){if(!v)return!0;const A=Object.keys(I.properties);return 0===A.length||{required:A}},dependencies:["properties"]}}Object.defineProperty(y,"__esModule",{value:!0}),y.default=T,R.exports=T},423:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const A=(0,v(T(53)).default)("anyRequired");y.default=A,R.exports=A},323:(R,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0});const v=T(650);function I(P){return{keyword:"deepProperties",type:"object",schemaType:"object",macro:function(Z){const $=[];for(const k in Z)$.push(A(k,Z[k]));return{allOf:$}},metaSchema:{type:"object",propertyNames:{type:"string",format:"json-pointer"},additionalProperties:(0,v.metaSchemaRef)(P)}}}function A(P,Z){const $=P.split("/"),k={};let N=k;for(let H=1;H<$.length;H++){let z=$[H];const ee=H===$.length-1;z=b(z);const ie=N.properties={};let me;if(/[0-9]+/.test(z)){let Qe=+z;for(me=N.items=[],N.type=["object","array"];Qe--;)me.push({})}else N.type="object";N=ee?Z:{},ie[z]=N,me&&me.push(N)}return k}function b(P){return P.replace(/~1/g,"/").replace(/~0/g,"~")}y.default=I,R.exports=I},193:(R,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0});const v=T(382);function I(){return{keyword:"deepRequired",type:"object",schemaType:"array",code(b){const{schema:P,data:Z}=b,$=P.map(N=>v._`(${function k(N){if(""===N)throw new Error("empty JSON pointer not allowed");const H=N.split("/");let z=Z;const ee=H.map((ie,me)=>me?z=v._`${z}${(0,v.getProperty)(function A(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}(ie))}`:z);return(0,v.and)(...ee)}(N)}) === undefined`);b.fail((0,v.or)(...$))},metaSchema:{type:"array",items:{type:"string",format:"json-pointer"}}}}y.default=I,R.exports=I},712:(R,y)=>{Object.defineProperty(y,"__esModule",{value:!0});const T={},v={timestamp:()=>()=>Date.now(),datetime:()=>()=>(new Date).toISOString(),date:()=>()=>(new Date).toISOString().slice(0,10),time:()=>()=>(new Date).toISOString().slice(11),random:()=>()=>Math.random(),randomint:k=>{var N;const H=null!==(N=null==k?void 0:k.max)&&void 0!==N?N:2;return()=>Math.floor(Math.random()*H)},seq:k=>{var N;const H=null!==(N=null==k?void 0:k.name)&&void 0!==N?N:"";return T[H]||(T[H]=0),()=>T[H]++}},I=Object.assign(function A(){return{keyword:"dynamicDefaults",type:"object",schemaType:["string","object"],modifying:!0,valid:!0,compile(k,N,H){if(!H.opts.useDefaults||H.compositeRule)return()=>!0;const z={};for(const ie in k)z[ie]=b(k[ie]);const ee="empty"===H.opts.useDefaults;return ie=>{for(const me in k)(void 0===ie[me]||ee&&(null===ie[me]||""===ie[me]))&&(ie[me]=z[me]());return!0}},metaSchema:{type:"object",additionalProperties:{anyOf:[{type:"string"},{type:"object",additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}]}}}},{DEFAULTS:v});function b(k){return"object"==typeof k?function P({func:k,args:N}){const H=v[k];return $(k,H),H(N)}(k):function Z(k=""){const N=v[k];return $(k,N),N()}(k)}function $(k,N){if(!N)throw new Error(`invalid "dynamicDefaults" keyword property value: ${k}`)}y.default=I,R.exports=I},62:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const A=(0,v(T(421)).default)("exclusiveRange");y.default=A,R.exports=A},786:(R,y)=>{Object.defineProperty(y,"__esModule",{value:!0});const T={Object,Array,Function,Number,String,Date,RegExp};"undefined"!=typeof Buffer&&(T.Buffer=Buffer),"undefined"!=typeof Promise&&(T.Promise=Promise);const v=Object.assign(function I(){return{keyword:"instanceof",schemaType:["string","array"],compile(b){if("string"==typeof b){const P=A(b);return Z=>Z instanceof P}if(Array.isArray(b)){const P=b.map(A);return Z=>{for(const $ of P)if(Z instanceof $)return!0;return!1}}throw new Error("ajv implementation error")},metaSchema:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]}}},{CONSTRUCTORS:T});function A(b){const P=T[b];if(P)return P;throw new Error(`invalid "instanceof" keyword value ${b}`)}y.default=v,R.exports=v},248:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const A=(0,v(T(53)).default)("oneRequired");y.default=A,R.exports=A},794:(R,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0});const v=T(382),I=T(650),A={message:({params:{missingPattern:P}})=>v.str`should have property matching pattern '${P}'`,params:({params:{missingPattern:P}})=>v._`{missingPattern: ${P}}`};function b(){return{keyword:"patternRequired",type:"object",schemaType:"array",error:A,code(P){const{gen:Z,schema:$,data:k}=P;if(0===$.length)return;const N=Z.let("valid",!0);for(const z of $)H(z);function H(z){const ee=Z.let("matched",!1);Z.forIn("key",k,ie=>{Z.assign(ee,v._`${(0,I.usePattern)(P,z)}.test(${ie})`),Z.if(ee,()=>Z.break())}),P.setParams({missingPattern:z}),Z.assign(N,(0,v.and)(N,ee)),P.pass(N)}},metaSchema:{type:"array",items:{type:"string",format:"regex"},uniqueItems:!0}}}y.default=b,R.exports=b},464:(R,y)=>{function T(){return{keyword:"prohibited",type:"object",schemaType:"array",macro:function(v){return 0===v.length||(1===v.length?{not:{required:v}}:{not:{anyOf:v.map(I=>({required:[I]}))}})},metaSchema:{type:"array",items:{type:"string"}}}}Object.defineProperty(y,"__esModule",{value:!0}),y.default=T,R.exports=T},251:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const A=(0,v(T(421)).default)("range");y.default=A,R.exports=A},37:(R,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0});const v=T(382),I=T(650),A={type:"object",properties:{pattern:{type:"string"},flags:{type:"string",nullable:!0}},required:["pattern"],additionalProperties:!1},b=/^\/(.*)\/([gimuy]*)$/;function P(){return{keyword:"regexp",type:"string",schemaType:["string","object"],code(Z){const{data:$,schema:k}=Z,N=function H(z){if("object"==typeof z)return(0,I.usePattern)(Z,z.pattern,z.flags);const ee=b.exec(z);if(ee)return(0,I.usePattern)(Z,ee[1],ee[2]);throw new Error("cannot parse string into RegExp")}(k);Z.pass(v._`${N}.test(${$})`)},metaSchema:{anyOf:[{type:"string"},A]}}}y.default=P,R.exports=P},40:(R,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0});const v=T(382),I=T(650),A={message:({params:{schemaProp:P}})=>P?v.str`should match case "${P}" schema`:v.str`should match default case schema`,params:({params:{schemaProp:P}})=>P?v._`{failingCase: ${P}}`:v._`{failingDefault: true}`};function b(P){const Z=(0,I.metaSchemaRef)(P);return[{keyword:"select",schemaType:["string","number","boolean","null"],$data:!0,error:A,dependencies:["selectCases"],code($){const{gen:k,schemaCode:N,parentSchema:H}=$;$.block$data(v.nil,()=>{const z=k.let("valid",!0),ee=k.name("_valid"),ie=k.const("value",v._`${N} === null ? "null" : ${N}`);k.if(!1);for(const me in H.selectCases){$.setParams({schemaProp:me}),k.elseIf(v._`"" + ${ie} == ${me}`);const Qe=$.subschema({keyword:"selectCases",schemaProp:me},ee);$.mergeEvaluated(Qe,v.Name),k.assign(z,ee)}if(k.else(),void 0!==H.selectDefault){$.setParams({schemaProp:void 0});const me=$.subschema({keyword:"selectDefault"},ee);$.mergeEvaluated(me,v.Name),k.assign(z,ee)}k.endIf(),$.pass(z)})}},{keyword:"selectCases",dependencies:["select"],metaSchema:{type:"object",additionalProperties:Z}},{keyword:"selectDefault",dependencies:["select","selectCases"],metaSchema:Z}]}y.default=b,R.exports=b},759:(R,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0});const v=T(382),I={trimStart:$=>$.trimStart(),trimEnd:$=>$.trimEnd(),trimLeft:$=>$.trimStart(),trimRight:$=>$.trimEnd(),trim:$=>$.trim(),toLowerCase:$=>$.toLowerCase(),toUpperCase:$=>$.toUpperCase(),toEnumCase:($,k)=>(null==k?void 0:k.hash[Z($)])||$},A=Object.assign(function b(){return{keyword:"transform",schemaType:"array",before:"enum",code($){const{gen:k,data:N,schema:H,parentSchema:z,it:ee}=$,{parentData:ie,parentDataProperty:me}=ee,Qe=H;if(!Qe.length)return;let B;if(Qe.includes("toEnumCase")){const pe=function P($){const k={hash:{}};if(!$.enum)throw new Error('transform: "toEnumCase" requires "enum"');for(const N of $.enum){if("string"!=typeof N)continue;const H=Z(N);if(k.hash[H])throw new Error('transform: "toEnumCase" requires all lowercased "enum" values to be unique');k.hash[H]=N}return k}(z);B=k.scopeValue("obj",{ref:pe,code:(0,v.stringify)(pe)})}function V(pe){if(!pe.length)return N;const Pe=pe.pop();if(!(Pe in I))throw new Error(`transform: unknown transformation ${Pe}`);const Ar=k.scopeValue("func",{ref:I[Pe],code:v._`require("ajv-keywords/dist/definitions/transform").transform${(0,v.getProperty)(Pe)}`}),Xr=V(pe);return B&&"toEnumCase"===Pe?v._`${Ar}(${Xr}, ${B})`:v._`${Ar}(${Xr})`}k.if(v._`typeof ${N} == "string" && ${ie} !== undefined`,()=>{k.assign(N,V(Qe.slice())),k.assign(v._`${ie}[${me}]`,N)})},metaSchema:{type:"array",items:{type:"string",enum:Object.keys(I)}}}},{transform:I});function Z($){return $.toLowerCase()}y.default=A,R.exports=A},719:(R,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0});const v=T(382),I=["undefined","string","number","object","function","boolean","symbol"];function A(){return{keyword:"typeof",schemaType:["string","array"],code(b){const{data:P,schema:Z,schemaValue:$}=b;b.fail("string"==typeof Z?v._`typeof ${P} != ${Z}`:v._`${$}.indexOf(typeof ${P}) < 0`)},metaSchema:{anyOf:[{type:"string",enum:I},{type:"array",items:{type:"string",enum:I}}]}}}y.default=A,R.exports=A},625:(R,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0});const v=T(559),I=["number","integer","string","boolean","null"];function A(){return{keyword:"uniqueItemProperties",type:"array",schemaType:"array",compile(P,Z){const $=function b(P,Z){return P.map($=>{var k,N,H;const z=null===(H=null===(N=null===(k=Z.items)||void 0===k?void 0:k.properties)||void 0===N?void 0:N[$])||void 0===H?void 0:H.type;return Array.isArray(z)?!z.includes("object")&&!z.includes("array"):I.includes(z)})}(P,Z);return k=>{if(k.length<=1)return!0;for(let N=0;N<P.length;N++){const H=P[N];if($[N]){const z={};for(const ee of k){if(!ee||"object"!=typeof ee)continue;let ie=ee[H];if(!ie||"object"!=typeof ie){if("string"==typeof ie&&(ie='"'+ie),z[ie])return!1;z[ie]=!0}}}else for(let z=k.length;z--;){const ee=k[z];if(ee&&"object"==typeof ee)for(let ie=z;ie--;){const me=k[ie];if(me&&"object"==typeof me&&v(ee[H],me[H]))return!1}}}return!0}},metaSchema:{type:"array",items:{type:"string"}}}}y.default=A,R.exports=A},554:function(R,y,T){var v=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(307)),A=(P,Z)=>{if(Array.isArray(Z)){for(const $ of Z)b($)(P);return P}if(Z)return b(Z)(P),P;for(Z in I.default)b(Z)(P);return P};function b(P){const Z=I.default[P];if(!Z)throw new Error("Unknown keyword "+P);return Z}A.get=b,y.default=A,R.exports=A,R.exports.default=A},90:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(187)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},641:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(423)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},829:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(323)),A=(b,P)=>b.addKeyword((0,I.default)(P));y.default=A,R.exports=A},14:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(193)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},903:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(712)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},399:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(62)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},307:function(R,y,T){var v=this&&this.__importDefault||function(Pe){return Pe&&Pe.__esModule?Pe:{default:Pe}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(637)),A=v(T(902)),b=v(T(336)),P=v(T(399)),Z=v(T(599)),$=v(T(166)),k=v(T(718)),N=v(T(90)),H=v(T(641)),z=v(T(765)),ee=v(T(273)),ie=v(T(209)),me=v(T(829)),Qe=v(T(14)),B=v(T(903)),V=v(T(656)),pe={typeof:I.default,instanceof:A.default,range:b.default,exclusiveRange:P.default,regexp:Z.default,transform:$.default,uniqueItemProperties:k.default,allRequired:N.default,anyRequired:H.default,oneRequired:z.default,patternRequired:ee.default,prohibited:ie.default,deepProperties:me.default,deepRequired:Qe.default,dynamicDefaults:B.default,select:V.default};y.default=pe,R.exports=pe},902:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(786)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},765:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(248)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},273:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(794)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},209:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(464)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},336:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(251)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},599:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(37)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},656:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(40)),A=(b,P)=>((0,I.default)(P).forEach(Z=>b.addKeyword(Z)),b);y.default=A,R.exports=A},166:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(759)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},637:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(719)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},718:function(R,y,T){var v=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0});const I=v(T(625)),A=b=>b.addKeyword((0,I.default)());y.default=A,R.exports=A},295:(R,y)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.regexpCode=y.getEsmExportName=y.getProperty=y.safeStringify=y.stringify=y.strConcat=y.addCodeArg=y.str=y._=y.nil=y._Code=y.Name=y.IDENTIFIER=y._CodeOrName=void 0;class T{}y._CodeOrName=T,y.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class v extends T{constructor(V){if(super(),!y.IDENTIFIER.test(V))throw new Error("CodeGen: name must be a valid identifier");this.str=V}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}y.Name=v;class I extends T{constructor(V){super(),this._items="string"==typeof V?[V]:V}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const V=this._items[0];return""===V||'""'===V}get str(){var V;return null!==(V=this._str)&&void 0!==V?V:this._str=this._items.reduce((pe,Pe)=>`${pe}${Pe}`,"")}get names(){var V;return null!==(V=this._names)&&void 0!==V?V:this._names=this._items.reduce((pe,Pe)=>(Pe instanceof v&&(pe[Pe.str]=(pe[Pe.str]||0)+1),pe),{})}}function A(B,...V){const pe=[B[0]];let Pe=0;for(;Pe<V.length;)Z(pe,V[Pe]),pe.push(B[++Pe]);return new I(pe)}y._Code=I,y.nil=new I(""),y._=A;const b=new I("+");function P(B,...V){const pe=[ee(B[0])];let Pe=0;for(;Pe<V.length;)pe.push(b),Z(pe,V[Pe]),pe.push(b,ee(B[++Pe]));return function $(B){let V=1;for(;V<B.length-1;){if(B[V]===b){const pe=k(B[V-1],B[V+1]);if(void 0!==pe){B.splice(V-1,3,pe);continue}B[V++]="+"}V++}}(pe),new I(pe)}function Z(B,V){V instanceof I?B.push(...V._items):B.push(V instanceof v?V:function H(B){return"number"==typeof B||"boolean"==typeof B||null===B?B:ee(Array.isArray(B)?B.join(","):B)}(V))}function k(B,V){return'""'===V?B:'""'===B?V:"string"==typeof B?V instanceof v||'"'!==B[B.length-1]?void 0:"string"!=typeof V?`${B.slice(0,-1)}${V}"`:'"'===V[0]?B.slice(0,-1)+V.slice(1):void 0:"string"!=typeof V||'"'!==V[0]||B instanceof v?void 0:`"${B}${V.slice(1)}`}function ee(B){return JSON.stringify(B).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}y.str=P,y.addCodeArg=Z,y.strConcat=function N(B,V){return V.emptyStr()?B:B.emptyStr()?V:P`${B}${V}`},y.stringify=function z(B){return new I(ee(B))},y.safeStringify=ee,y.getProperty=function ie(B){return"string"==typeof B&&y.IDENTIFIER.test(B)?new I(`.${B}`):A`[${B}]`},y.getEsmExportName=function me(B){if("string"==typeof B&&y.IDENTIFIER.test(B))return new I(`${B}`);throw new Error(`CodeGen: invalid export name: ${B}, use explicit $id name mapping`)},y.regexpCode=function Qe(B){return new I(B.toString())}},382:(R,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.or=y.and=y.not=y.CodeGen=y.operators=y.varKinds=y.ValueScopeName=y.ValueScope=y.Scope=y.Name=y.regexpCode=y.stringify=y.getProperty=y.nil=y.strConcat=y.str=y._=void 0;const v=T(295),I=T(917);var A=T(295);Object.defineProperty(y,"_",{enumerable:!0,get:function(){return A._}}),Object.defineProperty(y,"str",{enumerable:!0,get:function(){return A.str}}),Object.defineProperty(y,"strConcat",{enumerable:!0,get:function(){return A.strConcat}}),Object.defineProperty(y,"nil",{enumerable:!0,get:function(){return A.nil}}),Object.defineProperty(y,"getProperty",{enumerable:!0,get:function(){return A.getProperty}}),Object.defineProperty(y,"stringify",{enumerable:!0,get:function(){return A.stringify}}),Object.defineProperty(y,"regexpCode",{enumerable:!0,get:function(){return A.regexpCode}}),Object.defineProperty(y,"Name",{enumerable:!0,get:function(){return A.Name}});var b=T(917);Object.defineProperty(y,"Scope",{enumerable:!0,get:function(){return b.Scope}}),Object.defineProperty(y,"ValueScope",{enumerable:!0,get:function(){return b.ValueScope}}),Object.defineProperty(y,"ValueScopeName",{enumerable:!0,get:function(){return b.ValueScopeName}}),Object.defineProperty(y,"varKinds",{enumerable:!0,get:function(){return b.varKinds}}),y.operators={GT:new v._Code(">"),GTE:new v._Code(">="),LT:new v._Code("<"),LTE:new v._Code("<="),EQ:new v._Code("==="),NEQ:new v._Code("!=="),NOT:new v._Code("!"),OR:new v._Code("||"),AND:new v._Code("&&"),ADD:new v._Code("+")};class P{optimizeNodes(){return this}optimizeNames(_,w){return this}}class Z extends P{constructor(_,w,x){super(),this.varKind=_,this.name=w,this.rhs=x}render({es5:_,_n:w}){return`${_?I.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+w}optimizeNames(_,w){if(_[this.name.str])return this.rhs&&(this.rhs=Gt(this.rhs,_,w)),this}get names(){return this.rhs instanceof v._CodeOrName?this.rhs.names:{}}}class $ extends P{constructor(_,w,x){super(),this.lhs=_,this.rhs=w,this.sideEffects=x}render({_n:_}){return`${this.lhs} = ${this.rhs};`+_}optimizeNames(_,w){if(!(this.lhs instanceof v.Name)||_[this.lhs.str]||this.sideEffects)return this.rhs=Gt(this.rhs,_,w),this}get names(){return Ir(this.lhs instanceof v.Name?{}:Nu({},this.lhs.names),this.rhs)}}class k extends ${constructor(_,w,x,ae){super(_,x,ae),this.op=w}render({_n:_}){return`${this.lhs} ${this.op}= ${this.rhs};`+_}}class N extends P{constructor(_){super(),this.label=_,this.names={}}render({_n:_}){return`${this.label}:`+_}}class H extends P{constructor(_){super(),this.label=_,this.names={}}render({_n:_}){return`break${this.label?` ${this.label}`:""};`+_}}class z extends P{constructor(_){super(),this.error=_}render({_n:_}){return`throw ${this.error};`+_}get names(){return this.error.names}}class ee extends P{constructor(_){super(),this.code=_}render({_n:_}){return`${this.code};`+_}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(_,w){return this.code=Gt(this.code,_,w),this}get names(){return this.code instanceof v._CodeOrName?this.code.names:{}}}class ie extends P{constructor(_=[]){super(),this.nodes=_}render(_){return this.nodes.reduce((w,x)=>w+x.render(_),"")}optimizeNodes(){const{nodes:_}=this;let w=_.length;for(;w--;){const x=_[w].optimizeNodes();Array.isArray(x)?_.splice(w,1,...x):x?_[w]=x:_.splice(w,1)}return _.length>0?this:void 0}optimizeNames(_,w){const{nodes:x}=this;let ae=x.length;for(;ae--;){const Y=x[ae];Y.optimizeNames(_,w)||(yp(_,Y.names),x.splice(ae,1))}return x.length>0?this:void 0}get names(){return this.nodes.reduce((_,w)=>ur(_,w.names),{})}}class me extends ie{render(_){return"{"+_._n+super.render(_)+"}"+_._n}}class Qe extends ie{}let B=(()=>{class U extends me{}return U.kind="else",U})(),V=(()=>{class U extends me{constructor(w,x){super(x),this.condition=w}render(w){let x=`if(${this.condition})`+super.render(w);return this.else&&(x+="else "+this.else.render(w)),x}optimizeNodes(){super.optimizeNodes();const w=this.condition;if(!0===w)return this.nodes;let x=this.else;if(x){const ae=x.optimizeNodes();x=this.else=Array.isArray(ae)?new B(ae):ae}return x?!1===w?x instanceof U?x:x.nodes:this.nodes.length?this:new U(Ro(w),x instanceof U?[x]:x.nodes):!1!==w&&this.nodes.length?this:void 0}optimizeNames(w,x){var ae;if(this.else=null===(ae=this.else)||void 0===ae?void 0:ae.optimizeNames(w,x),super.optimizeNames(w,x)||this.else)return this.condition=Gt(this.condition,w,x),this}get names(){const w=super.names;return Ir(w,this.condition),this.else&&ur(w,this.else.names),w}}return U.kind="if",U})(),pe=(()=>{class U extends me{}return U.kind="for",U})();class Pe extends pe{constructor(_){super(),this.iteration=_}render(_){return`for(${this.iteration})`+super.render(_)}optimizeNames(_,w){if(super.optimizeNames(_,w))return this.iteration=Gt(this.iteration,_,w),this}get names(){return ur(super.names,this.iteration.names)}}class Ar extends pe{constructor(_,w,x,ae){super(),this.varKind=_,this.name=w,this.from=x,this.to=ae}render(_){const w=_.es5?I.varKinds.var:this.varKind,{name:x,from:ae,to:Y}=this;return`for(${w} ${x}=${ae}; ${x}<${Y}; ${x}++)`+super.render(_)}get names(){const _=Ir(super.names,this.from);return Ir(_,this.to)}}class Xr extends pe{constructor(_,w,x,ae){super(),this.loop=_,this.varKind=w,this.name=x,this.iterable=ae}render(_){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(_)}optimizeNames(_,w){if(super.optimizeNames(_,w))return this.iterable=Gt(this.iterable,_,w),this}get names(){return ur(super.names,this.iterable.names)}}let Si=(()=>{class U extends me{constructor(w,x,ae){super(),this.name=w,this.args=x,this.async=ae}render(w){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(w)}}return U.kind="func",U})(),ra=(()=>{class U extends ie{render(w){return"return "+super.render(w)}}return U.kind="return",U})();class Ai extends me{render(_){let w="try"+super.render(_);return this.catch&&(w+=this.catch.render(_)),this.finally&&(w+=this.finally.render(_)),w}optimizeNodes(){var _,w;return super.optimizeNodes(),null===(_=this.catch)||void 0===_||_.optimizeNodes(),null===(w=this.finally)||void 0===w||w.optimizeNodes(),this}optimizeNames(_,w){var x,ae;return super.optimizeNames(_,w),null===(x=this.catch)||void 0===x||x.optimizeNames(_,w),null===(ae=this.finally)||void 0===ae||ae.optimizeNames(_,w),this}get names(){const _=super.names;return this.catch&&ur(_,this.catch.names),this.finally&&ur(_,this.finally.names),_}}let ei=(()=>{class U extends me{constructor(w){super(),this.error=w}render(w){return`catch(${this.error})`+super.render(w)}}return U.kind="catch",U})(),ia=(()=>{class U extends me{render(w){return"finally"+super.render(w)}}return U.kind="finally",U})();function ur(U,_){for(const w in _)U[w]=(U[w]||0)+(_[w]||0);return U}function Ir(U,_){return _ instanceof v._CodeOrName?ur(U,_.names):U}function Gt(U,_,w){return U instanceof v.Name?x(U):function ae(Y){return Y instanceof v._Code&&Y._items.some(Ye=>Ye instanceof v.Name&&1===_[Ye.str]&&void 0!==w[Ye.str])}(U)?new v._Code(U._items.reduce((Y,Ye)=>(Ye instanceof v.Name&&(Ye=x(Ye)),Ye instanceof v._Code?Y.push(...Ye._items):Y.push(Ye),Y),[])):U;function x(Y){const Ye=w[Y.str];return void 0===Ye||1!==_[Y.str]?Y:(delete _[Y.str],Ye)}}function yp(U,_){for(const w in _)U[w]=(U[w]||0)-(_[w]||0)}function Ro(U){return"boolean"==typeof U||"number"==typeof U||null===U?!U:v._`!${ct(U)}`}y.CodeGen=class Po{constructor(_,w={}){this._values={},this._blockStarts=[],this._constants={},this.opts=mp(Nu({},w),{_n:w.lines?"\n":""}),this._extScope=_,this._scope=new I.Scope({parent:_}),this._nodes=[new Qe]}toString(){return this._root.render(this.opts)}name(_){return this._scope.name(_)}scopeName(_){return this._extScope.name(_)}scopeValue(_,w){const x=this._extScope.value(_,w);return(this._values[x.prefix]||(this._values[x.prefix]=new Set)).add(x),x}getScopeValue(_,w){return this._extScope.getValue(_,w)}scopeRefs(_){return this._extScope.scopeRefs(_,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(_,w,x,ae){const Y=this._scope.toName(w);return void 0!==x&&ae&&(this._constants[Y.str]=x),this._leafNode(new Z(_,Y,x)),Y}const(_,w,x){return this._def(I.varKinds.const,_,w,x)}let(_,w,x){return this._def(I.varKinds.let,_,w,x)}var(_,w,x){return this._def(I.varKinds.var,_,w,x)}assign(_,w,x){return this._leafNode(new $(_,w,x))}add(_,w){return this._leafNode(new k(_,y.operators.ADD,w))}code(_){return"function"==typeof _?_():_!==v.nil&&this._leafNode(new ee(_)),this}object(..._){const w=["{"];for(const[x,ae]of _)w.length>1&&w.push(","),w.push(x),(x!==ae||this.opts.es5)&&(w.push(":"),(0,v.addCodeArg)(w,ae));return w.push("}"),new v._Code(w)}if(_,w,x){if(this._blockNode(new V(_)),w&&x)this.code(w).else().code(x).endIf();else if(w)this.code(w).endIf();else if(x)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(_){return this._elseNode(new V(_))}else(){return this._elseNode(new B)}endIf(){return this._endBlockNode(V,B)}_for(_,w){return this._blockNode(_),w&&this.code(w).endFor(),this}for(_,w){return this._for(new Pe(_),w)}forRange(_,w,x,ae,Y=(this.opts.es5?I.varKinds.var:I.varKinds.let)){const Ye=this._scope.toName(_);return this._for(new Ar(Y,Ye,w,x),()=>ae(Ye))}forOf(_,w,x,ae=I.varKinds.const){const Y=this._scope.toName(_);if(this.opts.es5){const Ye=w instanceof v.Name?w:this.var("_arr",w);return this.forRange("_i",0,v._`${Ye}.length`,vp=>{this.var(Y,v._`${Ye}[${vp}]`),x(Y)})}return this._for(new Xr("of",ae,Y,w),()=>x(Y))}forIn(_,w,x,ae=(this.opts.es5?I.varKinds.var:I.varKinds.const)){if(this.opts.ownProperties)return this.forOf(_,v._`Object.keys(${w})`,x);const Y=this._scope.toName(_);return this._for(new Xr("in",ae,Y,w),()=>x(Y))}endFor(){return this._endBlockNode(pe)}label(_){return this._leafNode(new N(_))}break(_){return this._leafNode(new H(_))}return(_){const w=new ra;if(this._blockNode(w),this.code(_),1!==w.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ra)}try(_,w,x){if(!w&&!x)throw new Error('CodeGen: "try" without "catch" and "finally"');const ae=new Ai;if(this._blockNode(ae),this.code(_),w){const Y=this.name("e");this._currNode=ae.catch=new ei(Y),w(Y)}return x&&(this._currNode=ae.finally=new ia,this.code(x)),this._endBlockNode(ei,ia)}throw(_){return this._leafNode(new z(_))}block(_,w){return this._blockStarts.push(this._nodes.length),_&&this.code(_).endBlock(w),this}endBlock(_){const w=this._blockStarts.pop();if(void 0===w)throw new Error("CodeGen: not in self-balancing block");const x=this._nodes.length-w;if(x<0||void 0!==_&&x!==_)throw new Error(`CodeGen: wrong number of nodes: ${x} vs ${_} expected`);return this._nodes.length=w,this}func(_,w=v.nil,x,ae){return this._blockNode(new Si(_,w,x)),ae&&this.code(ae).endFunc(),this}endFunc(){return this._endBlockNode(Si)}optimize(_=1){for(;_-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(_){return this._currNode.nodes.push(_),this}_blockNode(_){this._currNode.nodes.push(_),this._nodes.push(_)}_endBlockNode(_,w){const x=this._currNode;if(x instanceof _||w&&x instanceof w)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${w?`${_.kind}/${w.kind}`:_.kind}"`)}_elseNode(_){const w=this._currNode;if(!(w instanceof V))throw new Error('CodeGen: "else" without "if"');return this._currNode=w.else=_,this}get _root(){return this._nodes[0]}get _currNode(){const _=this._nodes;return _[_.length-1]}set _currNode(_){const w=this._nodes;w[w.length-1]=_}},y.not=Ro;const Ze=sa(y.operators.AND);y.and=function oa(...U){return U.reduce(Ze)};const Ou=sa(y.operators.OR);function sa(U){return(_,w)=>_===v.nil?w:w===v.nil?_:v._`${ct(_)} ${U} ${ct(w)}`}function ct(U){return U instanceof v.Name?U:v._`(${U})`}y.or=function Fu(...U){return U.reduce(Ou)}},917:(R,y,T)=>{Object.defineProperty(y,"__esModule",{value:!0}),y.ValueScope=y.ValueScopeName=y.Scope=y.varKinds=y.UsedValueState=void 0;const v=T(295);class I extends Error{constructor(N){super(`CodeGen: "code" for ${N} not defined`),this.value=N.value}}var A,k;(k=A=y.UsedValueState||(y.UsedValueState={}))[k.Started=0]="Started",k[k.Completed=1]="Completed",y.varKinds={const:new v.Name("const"),let:new v.Name("let"),var:new v.Name("var")};class b{constructor({prefixes:N,parent:H}={}){this._names={},this._prefixes=N,this._parent=H}toName(N){return N instanceof v.Name?N:this.name(N)}name(N){return new v.Name(this._newName(N))}_newName(N){return`${N}${(this._names[N]||this._nameGroup(N)).index++}`}_nameGroup(N){var H,z;if((null===(z=null===(H=this._parent)||void 0===H?void 0:H._prefixes)||void 0===z?void 0:z.has(N))||this._prefixes&&!this._prefixes.has(N))throw new Error(`CodeGen: prefix "${N}" is not allowed in this scope`);return this._names[N]={prefix:N,index:0}}}y.Scope=b;class P extends v.Name{constructor(N,H){super(H),this.prefix=N}setValue(N,{property:H,itemIndex:z}){this.value=N,this.scopePath=v._`.${new v.Name(H)}[${z}]`}}y.ValueScopeName=P;const Z=v._`\n`;y.ValueScope=class $ extends b{constructor(N){super(N),this._values={},this._scope=N.scope,this.opts=mp(Nu({},N),{_n:N.lines?Z:v.nil})}get(){return this._scope}name(N){return new P(N,this._newName(N))}value(N,H){var z;if(void 0===H.ref)throw new Error("CodeGen: ref must be passed in value");const ee=this.toName(N),{prefix:ie}=ee,me=null!==(z=H.key)&&void 0!==z?z:H.ref;let Qe=this._values[ie];if(Qe){const pe=Qe.get(me);if(pe)return pe}else Qe=this._values[ie]=new Map;Qe.set(me,ee);const B=this._scope[ie]||(this._scope[ie]=[]),V=B.length;return B[V]=H.ref,ee.setValue(H,{property:ie,itemIndex:V}),ee}getValue(N,H){const z=this._values[N];if(z)return z.get(H)}scopeRefs(N,H=this._values){return this._reduceValues(H,z=>{if(void 0===z.scopePath)throw new Error(`CodeGen: name "${z}" has no value`);return v._`${N}${z.scopePath}`})}scopeCode(N=this._values,H,z){return this._reduceValues(N,ee=>{if(void 0===ee.value)throw new Error(`CodeGen: name "${ee}" has no value`);return ee.value.code},H,z)}_reduceValues(N,H,z={},ee){let ie=v.nil;for(const me in N){const Qe=N[me];if(!Qe)continue;const B=z[me]=z[me]||new Map;Qe.forEach(V=>{if(B.has(V))return;B.set(V,A.Started);let pe=H(V);if(pe)ie=v._`${ie}${this.opts.es5?y.varKinds.var:y.varKinds.const} ${V} = ${pe};${this.opts._n}`;else{if(!(pe=null==ee?void 0:ee(V)))throw new I(V);ie=v._`${ie}${pe}${this.opts._n}`}B.set(V,A.Completed)})}return ie}}},559:R=>{R.exports=function y(T,v){if(T===v)return!0;if(T&&v&&"object"==typeof T&&"object"==typeof v){if(T.constructor!==v.constructor)return!1;var I,A,b;if(Array.isArray(T)){if((I=T.length)!=v.length)return!1;for(A=I;0!=A--;)if(!y(T[A],v[A]))return!1;return!0}if(T.constructor===RegExp)return T.source===v.source&&T.flags===v.flags;if(T.valueOf!==Object.prototype.valueOf)return T.valueOf()===v.valueOf();if(T.toString!==Object.prototype.toString)return T.toString()===v.toString();if((I=(b=Object.keys(T)).length)!==Object.keys(v).length)return!1;for(A=I;0!=A--;)if(!Object.prototype.hasOwnProperty.call(v,b[A]))return!1;for(A=I;0!=A--;){var P=b[A];if(!y(T[P],v[P]))return!1}return!0}return T!=T&&v!=v}}},R=>{R(R.s=801)}]);